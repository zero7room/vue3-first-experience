{"version":3,"file":"vue.global.js","sources":["../../shared/src/makeMap.ts","../../shared/src/patchFlags.ts","../../shared/src/globalsWhitelist.ts","../../shared/src/codeframe.ts","../../shared/src/domTagConfig.ts","../../shared/src/index.ts","../../compiler-core/src/errors.ts","../../compiler-core/src/ast.ts","../../compiler-core/src/runtimeHelpers.ts","../../compiler-core/src/utils.ts","../../compiler-core/src/parse.ts","../../compiler-core/src/transforms/hoistStatic.ts","../../compiler-core/src/transform.ts","../../compiler-core/src/codegen.ts","../../compiler-core/src/transforms/vIf.ts","../../compiler-core/src/transforms/vFor.ts","../../compiler-core/src/transforms/vSlot.ts","../../compiler-core/src/transforms/transformElement.ts","../../compiler-core/src/transforms/transformSlotOutlet.ts","../../compiler-core/src/transforms/vOn.ts","../../compiler-core/src/transforms/vBind.ts","../../compiler-core/src/transforms/transformText.ts","../../compiler-core/src/transforms/vOnce.ts","../../compiler-core/src/transforms/vModel.ts","../../compiler-core/src/index.ts","../../compiler-dom/src/parserOptionsMinimal.ts","../../compiler-dom/src/transforms/transformStyle.ts","../../compiler-dom/src/transforms/vCloak.ts","../../compiler-dom/src/errors.ts","../../compiler-dom/src/transforms/vHtml.ts","../../compiler-dom/src/transforms/vText.ts","../../compiler-dom/src/runtimeHelpers.ts","../../compiler-dom/src/transforms/vModel.ts","../../compiler-dom/src/transforms/vOn.ts","../../compiler-dom/src/transforms/vShow.ts","../../compiler-dom/src/index.ts","../../reactivity/src/lock.ts","../../reactivity/src/baseHandlers.ts","../../reactivity/src/collectionHandlers.ts","../../reactivity/src/reactive.ts","../../reactivity/src/effect.ts","../../reactivity/src/ref.ts","../../reactivity/src/computed.ts","../../runtime-core/src/errorHandling.ts","../../runtime-core/src/warning.ts","../../runtime-core/src/vnode.ts","../../runtime-core/src/scheduler.ts","../../runtime-core/src/componentRenderUtils.ts","../../runtime-core/src/componentProps.ts","../../runtime-core/src/componentSlots.ts","../../runtime-core/src/directives.ts","../../runtime-core/src/apiApp.ts","../../runtime-core/src/components/Suspense.ts","../../runtime-core/src/renderer.ts","../../runtime-core/src/components/BaseTransition.ts","../../runtime-core/src/components/KeepAlive.ts","../../runtime-core/src/apiLifecycle.ts","../../runtime-core/src/apiWatch.ts","../../runtime-core/src/componentProxy.ts","../../runtime-core/src/apiInject.ts","../../runtime-core/src/apiOptions.ts","../../runtime-core/src/component.ts","../../runtime-core/src/apiReactivity.ts","../../runtime-core/src/apiCreateComponent.ts","../../runtime-core/src/h.ts","../../runtime-core/src/shapeFlags.ts","../../runtime-core/src/helpers/resolveAssets.ts","../../runtime-core/src/helpers/renderList.ts","../../runtime-core/src/helpers/toString.ts","../../runtime-core/src/helpers/toHandlers.ts","../../runtime-core/src/helpers/renderSlot.ts","../../runtime-core/src/helpers/createSlots.ts","../../runtime-core/src/index.ts","../../runtime-dom/src/nodeOps.ts","../../runtime-dom/src/modules/class.ts","../../runtime-dom/src/modules/style.ts","../../runtime-dom/src/modules/attrs.ts","../../runtime-dom/src/modules/props.ts","../../runtime-dom/src/modules/events.ts","../../runtime-dom/src/patchProp.ts","../../runtime-dom/src/directives/vModel.ts","../../runtime-dom/src/directives/vOn.ts","../../runtime-dom/src/components/Transition.ts","../../runtime-dom/src/directives/vShow.ts","../../runtime-dom/src/index.ts","../src/index.ts"],"sourcesContent":["// Make a map and return a function for checking if a key\r\n// is in that map.\r\n//\r\n// IMPORTANT: all calls of this function must be prefixed with /*#__PURE__*/\r\n// So that rollup can tree-shake them if necessary.\r\nexport function makeMap(\r\n  str: string,\r\n  expectsLowerCase?: boolean\r\n): (key: string) => boolean {\r\n  const map: Record<string, boolean> = Object.create(null)\r\n  const list: Array<string> = str.split(',')\r\n  for (let i = 0; i < list.length; i++) {\r\n    map[list[i]] = true\r\n  }\r\n  return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val]\r\n}\r\n","// Patch flags are optimization hints generated by the compiler.\r\n// when a block with dynamicChildren is encountered during diff, the algorithm\r\n// enters \"optimized mode\". In this mode, we know that the vdom is produced by\r\n// a render function generated by the compiler, so the algorithm only needs to\r\n// handle updates explicitly marked by these patch flags.\r\n\r\n// Patch flags can be combined using the | bitwise operator and can be checked\r\n// using the & operator, e.g.\r\n//\r\n//   const flag = TEXT | CLASS\r\n//   if (flag & TEXT) { ... }\r\n//\r\n// Check the `patchElement` function in './createRenderer.ts' to see how the\r\n// flags are handled during diff.\r\n\r\nexport const enum PatchFlags {\r\n  // Indicates an element with dynamic textContent (children fast path)\r\n  TEXT = 1,\r\n\r\n  // Indicates an element with dynamic class binding.\r\n  CLASS = 1 << 1,\r\n\r\n  // Indicates an element with dynamic style\r\n  // The compiler pre-compiles static string styles into static objects\r\n  // + detects and hoists inline static objects\r\n  // e.g. style=\"color: red\" and :style=\"{ color: 'red' }\" both get hoisted as\r\n  //   const style = { color: 'red' }\r\n  //   render() { return e('div', { style }) }\r\n  STYLE = 1 << 2,\r\n\r\n  // Indicates an element that has non-class/style dynamic props.\r\n  // Can also be on a component that has any dynamic props (includes\r\n  // class/style). when this flag is present, the vnode also has a dynamicProps\r\n  // array that contains the keys of the props that may change so the runtime\r\n  // can diff them faster (without having to worry about removed props)\r\n  PROPS = 1 << 3,\r\n\r\n  // Indicates an element with props with dynamic keys. When keys change, a full\r\n  // diff is always needed to remove the old key. This flag is mutually\r\n  // exclusive with CLASS, STYLE and PROPS.\r\n  FULL_PROPS = 1 << 4,\r\n\r\n  // Indicates an element that only needs non-props patching, e.g. ref or\r\n  // directives (onVnodeXXX hooks). It simply marks the vnode as \"need patch\",\r\n  // since every patched vnode checks for refs and onVnodeXXX hooks.\r\n  // This flag is never directly matched against, it simply serves as a non-zero\r\n  // value.\r\n  NEED_PATCH = 1 << 5,\r\n\r\n  // Indicates a fragment with keyed or partially keyed children\r\n  KEYED_FRAGMENT = 1 << 6,\r\n\r\n  // Indicates a fragment with unkeyed children.\r\n  UNKEYED_FRAGMENT = 1 << 7,\r\n\r\n  // Indicates a component with dynamic slots (e.g. slot that references a v-for\r\n  // iterated value, or dynamic slot names).\r\n  // Components with this flag are always force updated.\r\n  DYNAMIC_SLOTS = 1 << 8,\r\n\r\n  // A special flag that indicates that the diffing algorithm should bail out\r\n  // of optimized mode. This is only on block fragments created by renderSlot()\r\n  // when encountering non-compiler generated slots (i.e. manually written\r\n  // render functions, which should always be fully diffed)\r\n  BAIL = -1\r\n}\r\n\r\n// runtime object for public consumption\r\nexport const PublicPatchFlags = {\r\n  TEXT: PatchFlags.TEXT,\r\n  CLASS: PatchFlags.CLASS,\r\n  STYLE: PatchFlags.STYLE,\r\n  PROPS: PatchFlags.PROPS,\r\n  NEED_PATCH: PatchFlags.NEED_PATCH,\r\n  FULL_PROPS: PatchFlags.FULL_PROPS,\r\n  KEYED_FRAGMENT: PatchFlags.KEYED_FRAGMENT,\r\n  UNKEYED_FRAGMENT: PatchFlags.UNKEYED_FRAGMENT,\r\n  DYNAMIC_SLOTS: PatchFlags.DYNAMIC_SLOTS,\r\n  BAIL: PatchFlags.BAIL\r\n}\r\n\r\n// dev only flag -> name mapping\r\nexport const PatchFlagNames = {\r\n  [PatchFlags.TEXT]: `TEXT`,\r\n  [PatchFlags.CLASS]: `CLASS`,\r\n  [PatchFlags.STYLE]: `STYLE`,\r\n  [PatchFlags.PROPS]: `PROPS`,\r\n  [PatchFlags.NEED_PATCH]: `NEED_PATCH`,\r\n  [PatchFlags.FULL_PROPS]: `FULL_PROPS`,\r\n  [PatchFlags.KEYED_FRAGMENT]: `KEYED_FRAGMENT`,\r\n  [PatchFlags.UNKEYED_FRAGMENT]: `UNKEYED_FRAGMENT`,\r\n  [PatchFlags.DYNAMIC_SLOTS]: `DYNAMIC_SLOTS`,\r\n  [PatchFlags.BAIL]: `BAIL`\r\n}\r\n","import { makeMap } from './makeMap'\r\n\r\nconst GLOBALS_WHITE_LISTED =\r\n  'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n  'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n  'Object,Boolean,String,RegExp,Map,Set,JSON,Intl'\r\n\r\nexport const isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED)\r\n","const range: number = 2\r\n\r\nexport function generateCodeFrame(\r\n  source: string,\r\n  start: number = 0,\r\n  end: number = source.length\r\n): string {\r\n  const lines = source.split(/\\r?\\n/)\r\n  let count = 0\r\n  const res: string[] = []\r\n  for (let i = 0; i < lines.length; i++) {\r\n    count += lines[i].length + 1\r\n    if (count >= start) {\r\n      for (let j = i - range; j <= i + range || end > count; j++) {\r\n        if (j < 0 || j >= lines.length) continue\r\n        res.push(\r\n          `${j + 1}${' '.repeat(3 - String(j + 1).length)}|  ${lines[j]}`\r\n        )\r\n        const lineLength = lines[j].length\r\n        if (j === i) {\r\n          // push underline\r\n          const pad = start - (count - lineLength) + 1\r\n          const length = Math.max(\r\n            0,\r\n            end > count ? lineLength - pad : end - start\r\n          )\r\n          res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length))\r\n        } else if (j > i) {\r\n          if (end > count) {\r\n            const length = Math.min(end - count, lineLength)\r\n            res.push(`   |  ` + '^'.repeat(length))\r\n          }\r\n          count += lineLength + 1\r\n        }\r\n      }\r\n      break\r\n    }\r\n  }\r\n  return res.join('\\n')\r\n}\r\n","// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// must be extracted in shared to avoid creating a dependency between the two.\r\nimport { makeMap } from './makeMap'\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS =\r\n  'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n  'header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,' +\r\n  'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n  'data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,' +\r\n  'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n  'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n  'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n  'option,output,progress,select,textarea,details,dialog,menu,menuitem,' +\r\n  'summary,content,element,shadow,template,blockquote,iframe,tfoot'\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS =\r\n  'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n  'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n  'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n  'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n  'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n  'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n  'foreignObject,g,hatch,hatchpath,image,line,lineGradient,marker,mask,' +\r\n  'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n  'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n  'text,textPath,title,tspan,unknown,use,view'\r\n\r\nconst VOID_TAGS =\r\n  'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr'\r\n\r\nexport const isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS)\r\nexport const isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS)\r\nexport const isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS)\r\n","import { makeMap } from './makeMap'\r\n\r\nexport { makeMap }\r\nexport * from './patchFlags'\r\nexport * from './globalsWhitelist'\r\nexport * from './codeframe'\r\nexport * from './domTagConfig'\r\n\r\nexport const EMPTY_OBJ: { readonly [key: string]: any } = __DEV__\r\n  ? Object.freeze({})\r\n  : {}\r\nexport const EMPTY_ARR: [] = []\r\n\r\nexport const NOOP = () => {}\r\n\r\n/**\r\n * Always return false.\r\n */\r\nexport const NO = () => false\r\n\r\nexport const isOn = (key: string) => key[0] === 'o' && key[1] === 'n'\r\n\r\nexport const extend = <T extends object, U extends object>(\r\n  a: T,\r\n  b: U\r\n): T & U => {\r\n  for (const key in b) {\r\n    ;(a as any)[key] = b[key]\r\n  }\r\n  return a as any\r\n}\r\n\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty\r\nexport const hasOwn = (\r\n  val: object,\r\n  key: string | symbol\r\n): key is keyof typeof val => hasOwnProperty.call(val, key)\r\n\r\nexport const isArray = Array.isArray\r\nexport const isFunction = (val: unknown): val is Function =>\r\n  typeof val === 'function'\r\nexport const isString = (val: unknown): val is string => typeof val === 'string'\r\nexport const isSymbol = (val: unknown): val is symbol => typeof val === 'symbol'\r\nexport const isObject = (val: unknown): val is Record<any, any> =>\r\n  val !== null && typeof val === 'object'\r\n\r\nexport function isPromise<T = any>(val: unknown): val is Promise<T> {\r\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch)\r\n}\r\n\r\nexport const objectToString = Object.prototype.toString\r\nexport const toTypeString = (value: unknown): string =>\r\n  objectToString.call(value)\r\n\r\nexport function toRawType(value: unknown): string {\r\n  return toTypeString(value).slice(8, -1)\r\n}\r\n\r\nexport const isPlainObject = (val: unknown): val is object =>\r\n  toTypeString(val) === '[object Object]'\r\n\r\nexport const isReservedProp = /*#__PURE__*/ makeMap(\r\n  'key,ref,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted'\r\n)\r\n\r\nconst camelizeRE = /-(\\w)/g\r\nexport const camelize = (str: string): string => {\r\n  return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''))\r\n}\r\n\r\nconst hyphenateRE = /\\B([A-Z])/g\r\nexport const hyphenate = (str: string): string => {\r\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\r\n}\r\n\r\nexport const capitalize = (str: string): string => {\r\n  return str.charAt(0).toUpperCase() + str.slice(1)\r\n}\r\n\r\n// compare whether a value has changed, accounting for NaN.\r\nexport const hasChanged = (value: any, oldValue: any): boolean =>\r\n  value !== oldValue && (value === value || oldValue === oldValue)\r\n","import { SourceLocation } from './ast'\r\n\r\nexport interface CompilerError extends SyntaxError {\r\n  code: number\r\n  loc?: SourceLocation\r\n}\r\n\r\nexport interface CoreCompilerError extends CompilerError {\r\n  code: ErrorCodes\r\n}\r\n\r\nexport function defaultOnError(error: CompilerError) {\r\n  throw error\r\n}\r\n\r\nexport function createCompilerError<T extends number>(\r\n  code: T,\r\n  loc?: SourceLocation,\r\n  messages?: { [code: number]: string }\r\n): T extends ErrorCodes ? CoreCompilerError : CompilerError {\r\n  const msg = __DEV__ || !__BROWSER__ ? (messages || errorMessages)[code] : code\r\n  const locInfo = loc ? ` (${loc.start.line}:${loc.start.column})` : ``\r\n  const error = new SyntaxError(msg + locInfo) as CompilerError\r\n  error.code = code\r\n  error.loc = loc\r\n  return error as any\r\n}\r\n\r\nexport const enum ErrorCodes {\r\n  // parse errors\r\n  ABRUPT_CLOSING_OF_EMPTY_COMMENT,\r\n  ABSENCE_OF_DIGITS_IN_NUMERIC_CHARACTER_REFERENCE,\r\n  CDATA_IN_HTML_CONTENT,\r\n  CHARACTER_REFERENCE_OUTSIDE_UNICODE_RANGE,\r\n  CONTROL_CHARACTER_REFERENCE,\r\n  DUPLICATE_ATTRIBUTE,\r\n  END_TAG_WITH_ATTRIBUTES,\r\n  END_TAG_WITH_TRAILING_SOLIDUS,\r\n  EOF_BEFORE_TAG_NAME,\r\n  EOF_IN_CDATA,\r\n  EOF_IN_COMMENT,\r\n  EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT,\r\n  EOF_IN_TAG,\r\n  INCORRECTLY_CLOSED_COMMENT,\r\n  INCORRECTLY_OPENED_COMMENT,\r\n  INVALID_FIRST_CHARACTER_OF_TAG_NAME,\r\n  MISSING_ATTRIBUTE_VALUE,\r\n  MISSING_END_TAG_NAME,\r\n  MISSING_SEMICOLON_AFTER_CHARACTER_REFERENCE,\r\n  MISSING_WHITESPACE_BETWEEN_ATTRIBUTES,\r\n  NESTED_COMMENT,\r\n  NONCHARACTER_CHARACTER_REFERENCE,\r\n  NULL_CHARACTER_REFERENCE,\r\n  SURROGATE_CHARACTER_REFERENCE,\r\n  UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME,\r\n  UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE,\r\n  UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME,\r\n  UNEXPECTED_NULL_CHARACTER,\r\n  UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME,\r\n  UNEXPECTED_SOLIDUS_IN_TAG,\r\n  UNKNOWN_NAMED_CHARACTER_REFERENCE,\r\n\r\n  // Vue-specific parse errors\r\n  X_INVALID_END_TAG,\r\n  X_MISSING_END_TAG,\r\n  X_MISSING_INTERPOLATION_END,\r\n  X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END,\r\n\r\n  // transform errors\r\n  X_V_IF_NO_EXPRESSION,\r\n  X_V_ELSE_NO_ADJACENT_IF,\r\n  X_V_FOR_NO_EXPRESSION,\r\n  X_V_FOR_MALFORMED_EXPRESSION,\r\n  X_V_BIND_NO_EXPRESSION,\r\n  X_V_ON_NO_EXPRESSION,\r\n  X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET,\r\n  X_V_SLOT_NAMED_SLOT_ON_COMPONENT,\r\n  X_V_SLOT_MIXED_SLOT_USAGE,\r\n  X_V_SLOT_DUPLICATE_SLOT_NAMES,\r\n  X_V_SLOT_EXTRANEOUS_NON_SLOT_CHILDREN,\r\n  X_V_SLOT_MISPLACED,\r\n  X_V_MODEL_NO_EXPRESSION,\r\n  X_V_MODEL_MALFORMED_EXPRESSION,\r\n  X_V_MODEL_ON_SCOPE_VARIABLE,\r\n  X_INVALID_EXPRESSION,\r\n\r\n  // generic errors\r\n  X_PREFIX_ID_NOT_SUPPORTED,\r\n  X_MODULE_MODE_NOT_SUPPORTED,\r\n\r\n  // Special value for higher-order compilers to pick up the last code\r\n  // to avoid collision of error codes. This should always be kept as the last\r\n  // item.\r\n  __EXTEND_POINT__\r\n}\r\n\r\nexport const errorMessages: { [code: number]: string } = {\r\n  // parse errors\r\n  [ErrorCodes.ABRUPT_CLOSING_OF_EMPTY_COMMENT]: 'Illegal comment.',\r\n  [ErrorCodes.ABSENCE_OF_DIGITS_IN_NUMERIC_CHARACTER_REFERENCE]:\r\n    'Illegal numeric character reference: invalid character.',\r\n  [ErrorCodes.CDATA_IN_HTML_CONTENT]:\r\n    'CDATA section is allowed only in XML context.',\r\n  [ErrorCodes.CHARACTER_REFERENCE_OUTSIDE_UNICODE_RANGE]:\r\n    'Illegal numeric character reference: too big.',\r\n  [ErrorCodes.CONTROL_CHARACTER_REFERENCE]:\r\n    'Illegal numeric character reference: control character.',\r\n  [ErrorCodes.DUPLICATE_ATTRIBUTE]: 'Duplicate attribute.',\r\n  [ErrorCodes.END_TAG_WITH_ATTRIBUTES]: 'End tag cannot have attributes.',\r\n  [ErrorCodes.END_TAG_WITH_TRAILING_SOLIDUS]: \"Illegal '/' in tags.\",\r\n  [ErrorCodes.EOF_BEFORE_TAG_NAME]: 'Unexpected EOF in tag.',\r\n  [ErrorCodes.EOF_IN_CDATA]: 'Unexpected EOF in CDATA section.',\r\n  [ErrorCodes.EOF_IN_COMMENT]: 'Unexpected EOF in comment.',\r\n  [ErrorCodes.EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT]:\r\n    'Unexpected EOF in script.',\r\n  [ErrorCodes.EOF_IN_TAG]: 'Unexpected EOF in tag.',\r\n  [ErrorCodes.INCORRECTLY_CLOSED_COMMENT]: 'Incorrectly closed comment.',\r\n  [ErrorCodes.INCORRECTLY_OPENED_COMMENT]: 'Incorrectly opened comment.',\r\n  [ErrorCodes.INVALID_FIRST_CHARACTER_OF_TAG_NAME]:\r\n    \"Illegal tag name. Use '&lt;' to print '<'.\",\r\n  [ErrorCodes.MISSING_ATTRIBUTE_VALUE]: 'Attribute value was expected.',\r\n  [ErrorCodes.MISSING_END_TAG_NAME]: 'End tag name was expected.',\r\n  [ErrorCodes.MISSING_SEMICOLON_AFTER_CHARACTER_REFERENCE]:\r\n    'Semicolon was expected.',\r\n  [ErrorCodes.MISSING_WHITESPACE_BETWEEN_ATTRIBUTES]:\r\n    'Whitespace was expected.',\r\n  [ErrorCodes.NESTED_COMMENT]: \"Unexpected '<!--' in comment.\",\r\n  [ErrorCodes.NONCHARACTER_CHARACTER_REFERENCE]:\r\n    'Illegal numeric character reference: non character.',\r\n  [ErrorCodes.NULL_CHARACTER_REFERENCE]:\r\n    'Illegal numeric character reference: null character.',\r\n  [ErrorCodes.SURROGATE_CHARACTER_REFERENCE]:\r\n    'Illegal numeric character reference: non-pair surrogate.',\r\n  [ErrorCodes.UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME]:\r\n    'Attribute name cannot contain U+0022 (\"), U+0027 (\\'), and U+003C (<).',\r\n  [ErrorCodes.UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE]:\r\n    'Unquoted attribute value cannot contain U+0022 (\"), U+0027 (\\'), U+003C (<), U+003D (=), and U+0060 (`).',\r\n  [ErrorCodes.UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME]:\r\n    \"Attribute name cannot start with '='.\",\r\n  [ErrorCodes.UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME]:\r\n    \"'<?' is allowed only in XML context.\",\r\n  [ErrorCodes.UNEXPECTED_SOLIDUS_IN_TAG]: \"Illegal '/' in tags.\",\r\n  [ErrorCodes.UNKNOWN_NAMED_CHARACTER_REFERENCE]: 'Unknown entity name.',\r\n\r\n  // Vue-specific parse errors\r\n  [ErrorCodes.X_INVALID_END_TAG]: 'Invalid end tag.',\r\n  [ErrorCodes.X_MISSING_END_TAG]: 'End tag was not found.',\r\n  [ErrorCodes.X_MISSING_INTERPOLATION_END]:\r\n    'Interpolation end sign was not found.',\r\n  [ErrorCodes.X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END]:\r\n    'End bracket for dynamic directive argument was not found. ' +\r\n    'Note that dynamic directive argument cannot contain spaces.',\r\n\r\n  // transform errors\r\n  [ErrorCodes.X_V_IF_NO_EXPRESSION]: `v-if/v-else-if is missing expression.`,\r\n  [ErrorCodes.X_V_ELSE_NO_ADJACENT_IF]: `v-else/v-else-if has no adjacent v-if.`,\r\n  [ErrorCodes.X_V_FOR_NO_EXPRESSION]: `v-for is missing expression.`,\r\n  [ErrorCodes.X_V_FOR_MALFORMED_EXPRESSION]: `v-for has invalid expression.`,\r\n  [ErrorCodes.X_V_BIND_NO_EXPRESSION]: `v-bind is missing expression.`,\r\n  [ErrorCodes.X_V_ON_NO_EXPRESSION]: `v-on is missing expression.`,\r\n  [ErrorCodes.X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET]: `Unexpected custom directive on <slot> outlet.`,\r\n  [ErrorCodes.X_V_SLOT_NAMED_SLOT_ON_COMPONENT]:\r\n    `Named v-slot on component. ` +\r\n    `Named slots should use <template v-slot> syntax nested inside the component.`,\r\n  [ErrorCodes.X_V_SLOT_MIXED_SLOT_USAGE]:\r\n    `Mixed v-slot usage on both the component and nested <template>.` +\r\n    `The default slot should also use <template> syntax when there are other ` +\r\n    `named slots to avoid scope ambiguity.`,\r\n  [ErrorCodes.X_V_SLOT_DUPLICATE_SLOT_NAMES]: `Duplicate slot names found. `,\r\n  [ErrorCodes.X_V_SLOT_EXTRANEOUS_NON_SLOT_CHILDREN]:\r\n    `Extraneous children found when component has explicit slots. ` +\r\n    `These children will be ignored.`,\r\n  [ErrorCodes.X_V_SLOT_MISPLACED]: `v-slot can only be used on components or <template> tags.`,\r\n  [ErrorCodes.X_V_MODEL_NO_EXPRESSION]: `v-model is missing expression.`,\r\n  [ErrorCodes.X_V_MODEL_MALFORMED_EXPRESSION]: `v-model value must be a valid JavaScript member expression.`,\r\n  [ErrorCodes.X_V_MODEL_ON_SCOPE_VARIABLE]: `v-model cannot be used on v-for or v-slot scope variables because they are not writable.`,\r\n  [ErrorCodes.X_INVALID_EXPRESSION]: `Invalid JavaScript expression.`,\r\n\r\n  // generic errors\r\n  [ErrorCodes.X_PREFIX_ID_NOT_SUPPORTED]: `\"prefixIdentifiers\" option is not supported in this build of compiler.`,\r\n  [ErrorCodes.X_MODULE_MODE_NOT_SUPPORTED]: `ES module mode is not supported in this build of compiler.`\r\n}\r\n","import { isString } from '@vue/shared'\r\nimport { ForParseResult } from './transforms/vFor'\r\nimport {\r\n  CREATE_VNODE,\r\n  WITH_DIRECTIVES,\r\n  RENDER_SLOT,\r\n  CREATE_SLOTS,\r\n  RENDER_LIST,\r\n  OPEN_BLOCK,\r\n  CREATE_BLOCK,\r\n  FRAGMENT\r\n} from './runtimeHelpers'\r\nimport { PropsExpression } from './transforms/transformElement'\r\n\r\n// Vue template is a platform-agnostic superset of HTML (syntax only).\r\n// More namespaces like SVG and MathML are declared by platform specific\r\n// compilers.\r\nexport type Namespace = number\r\n\r\nexport const enum Namespaces {\r\n  HTML\r\n}\r\n\r\nexport const enum NodeTypes {\r\n  ROOT,\r\n  ELEMENT,\r\n  TEXT,\r\n  COMMENT,\r\n  SIMPLE_EXPRESSION,\r\n  INTERPOLATION,\r\n  ATTRIBUTE,\r\n  DIRECTIVE,\r\n  // containers\r\n  COMPOUND_EXPRESSION,\r\n  IF,\r\n  IF_BRANCH,\r\n  FOR,\r\n  TEXT_CALL,\r\n  // codegen\r\n  JS_CALL_EXPRESSION,\r\n  JS_OBJECT_EXPRESSION,\r\n  JS_PROPERTY,\r\n  JS_ARRAY_EXPRESSION,\r\n  JS_FUNCTION_EXPRESSION,\r\n  JS_SEQUENCE_EXPRESSION,\r\n  JS_CONDITIONAL_EXPRESSION,\r\n  JS_CACHE_EXPRESSION\r\n}\r\n\r\nexport const enum ElementTypes {\r\n  ELEMENT,\r\n  COMPONENT,\r\n  SLOT,\r\n  TEMPLATE\r\n}\r\n\r\nexport interface Node {\r\n  type: NodeTypes\r\n  loc: SourceLocation\r\n}\r\n\r\n// The node's range. The `start` is inclusive and `end` is exclusive.\r\n// [start, end)\r\nexport interface SourceLocation {\r\n  start: Position\r\n  end: Position\r\n  source: string\r\n}\r\n\r\nexport interface Position {\r\n  offset: number // from start of file\r\n  line: number\r\n  column: number\r\n}\r\n\r\nexport type ParentNode = RootNode | ElementNode | IfBranchNode | ForNode\r\n\r\nexport type ExpressionNode = SimpleExpressionNode | CompoundExpressionNode\r\n\r\nexport type TemplateChildNode =\r\n  | ElementNode\r\n  | InterpolationNode\r\n  | CompoundExpressionNode\r\n  | TextNode\r\n  | CommentNode\r\n  | IfNode\r\n  | ForNode\r\n  | TextCallNode\r\n\r\nexport interface RootNode extends Node {\r\n  type: NodeTypes.ROOT\r\n  children: TemplateChildNode[]\r\n  helpers: symbol[]\r\n  components: string[]\r\n  directives: string[]\r\n  hoists: JSChildNode[]\r\n  cached: number\r\n  codegenNode: TemplateChildNode | JSChildNode | undefined\r\n}\r\n\r\nexport type ElementNode =\r\n  | PlainElementNode\r\n  | ComponentNode\r\n  | SlotOutletNode\r\n  | TemplateNode\r\n\r\nexport interface BaseElementNode extends Node {\r\n  type: NodeTypes.ELEMENT\r\n  ns: Namespace\r\n  tag: string\r\n  tagType: ElementTypes\r\n  isSelfClosing: boolean\r\n  props: Array<AttributeNode | DirectiveNode>\r\n  children: TemplateChildNode[]\r\n  codegenNode:\r\n    | CallExpression\r\n    | SimpleExpressionNode\r\n    | CacheExpression\r\n    | undefined\r\n}\r\n\r\nexport interface PlainElementNode extends BaseElementNode {\r\n  tagType: ElementTypes.ELEMENT\r\n  codegenNode:\r\n    | ElementCodegenNode\r\n    | undefined\r\n    | SimpleExpressionNode // when hoisted\r\n    | CacheExpression // when cached by v-once\r\n}\r\n\r\nexport interface ComponentNode extends BaseElementNode {\r\n  tagType: ElementTypes.COMPONENT\r\n  codegenNode: ComponentCodegenNode | undefined | CacheExpression // when cached by v-once\r\n}\r\n\r\nexport interface SlotOutletNode extends BaseElementNode {\r\n  tagType: ElementTypes.SLOT\r\n  codegenNode: SlotOutletCodegenNode | undefined | CacheExpression // when cached by v-once\r\n}\r\n\r\nexport interface TemplateNode extends BaseElementNode {\r\n  tagType: ElementTypes.TEMPLATE\r\n  codegenNode: ElementCodegenNode | undefined | CacheExpression\r\n}\r\n\r\nexport interface TextNode extends Node {\r\n  type: NodeTypes.TEXT\r\n  content: string\r\n}\r\n\r\nexport interface CommentNode extends Node {\r\n  type: NodeTypes.COMMENT\r\n  content: string\r\n}\r\n\r\nexport interface AttributeNode extends Node {\r\n  type: NodeTypes.ATTRIBUTE\r\n  name: string\r\n  value: TextNode | undefined\r\n}\r\n\r\nexport interface DirectiveNode extends Node {\r\n  type: NodeTypes.DIRECTIVE\r\n  name: string\r\n  exp: ExpressionNode | undefined\r\n  arg: ExpressionNode | undefined\r\n  modifiers: string[]\r\n  // optional property to cache the expression parse result for v-for\r\n  parseResult?: ForParseResult\r\n}\r\n\r\nexport interface SimpleExpressionNode extends Node {\r\n  type: NodeTypes.SIMPLE_EXPRESSION\r\n  content: string\r\n  isStatic: boolean\r\n  isConstant: boolean\r\n  // an expression parsed as the params of a function will track\r\n  // the identifiers declared inside the function body.\r\n  identifiers?: string[]\r\n}\r\n\r\nexport interface InterpolationNode extends Node {\r\n  type: NodeTypes.INTERPOLATION\r\n  content: ExpressionNode\r\n}\r\n\r\nexport interface CompoundExpressionNode extends Node {\r\n  type: NodeTypes.COMPOUND_EXPRESSION\r\n  children: (\r\n    | SimpleExpressionNode\r\n    | InterpolationNode\r\n    | TextNode\r\n    | string\r\n    | symbol)[]\r\n  // an expression parsed as the params of a function will track\r\n  // the identifiers declared inside the function body.\r\n  identifiers?: string[]\r\n}\r\n\r\nexport interface IfNode extends Node {\r\n  type: NodeTypes.IF\r\n  branches: IfBranchNode[]\r\n  codegenNode: IfCodegenNode\r\n}\r\n\r\nexport interface IfBranchNode extends Node {\r\n  type: NodeTypes.IF_BRANCH\r\n  condition: ExpressionNode | undefined // else\r\n  children: TemplateChildNode[]\r\n}\r\n\r\nexport interface ForNode extends Node {\r\n  type: NodeTypes.FOR\r\n  source: ExpressionNode\r\n  valueAlias: ExpressionNode | undefined\r\n  keyAlias: ExpressionNode | undefined\r\n  objectIndexAlias: ExpressionNode | undefined\r\n  children: TemplateChildNode[]\r\n  codegenNode: ForCodegenNode\r\n}\r\n\r\nexport interface TextCallNode extends Node {\r\n  type: NodeTypes.TEXT_CALL\r\n  content: TextNode | InterpolationNode | CompoundExpressionNode\r\n  codegenNode: CallExpression\r\n}\r\n\r\n// We also include a number of JavaScript AST nodes for code generation.\r\n// The AST is an intentionally minimal subset just to meet the exact needs of\r\n// Vue render function generation.\r\nexport type JSChildNode =\r\n  | CallExpression\r\n  | ObjectExpression\r\n  | ArrayExpression\r\n  | ExpressionNode\r\n  | FunctionExpression\r\n  | ConditionalExpression\r\n  | SequenceExpression\r\n  | CacheExpression\r\n\r\nexport interface CallExpression extends Node {\r\n  type: NodeTypes.JS_CALL_EXPRESSION\r\n  callee: string | symbol\r\n  arguments: (\r\n    | string\r\n    | symbol\r\n    | JSChildNode\r\n    | TemplateChildNode\r\n    | TemplateChildNode[])[]\r\n}\r\n\r\nexport interface ObjectExpression extends Node {\r\n  type: NodeTypes.JS_OBJECT_EXPRESSION\r\n  properties: Array<Property>\r\n}\r\n\r\nexport interface Property extends Node {\r\n  type: NodeTypes.JS_PROPERTY\r\n  key: ExpressionNode\r\n  value: JSChildNode\r\n}\r\n\r\nexport interface ArrayExpression extends Node {\r\n  type: NodeTypes.JS_ARRAY_EXPRESSION\r\n  elements: Array<string | JSChildNode>\r\n}\r\n\r\nexport interface FunctionExpression extends Node {\r\n  type: NodeTypes.JS_FUNCTION_EXPRESSION\r\n  params: ExpressionNode | ExpressionNode[] | undefined\r\n  returns: TemplateChildNode | TemplateChildNode[] | JSChildNode\r\n  newline: boolean\r\n}\r\n\r\nexport interface SequenceExpression extends Node {\r\n  type: NodeTypes.JS_SEQUENCE_EXPRESSION\r\n  expressions: JSChildNode[]\r\n}\r\n\r\nexport interface ConditionalExpression extends Node {\r\n  type: NodeTypes.JS_CONDITIONAL_EXPRESSION\r\n  test: ExpressionNode\r\n  consequent: JSChildNode\r\n  alternate: JSChildNode\r\n}\r\n\r\nexport interface CacheExpression extends Node {\r\n  type: NodeTypes.JS_CACHE_EXPRESSION\r\n  index: number\r\n  value: JSChildNode\r\n  isVNode: boolean\r\n}\r\n\r\n// Codegen Node Types ----------------------------------------------------------\r\n\r\n// createVNode(...)\r\nexport interface PlainElementCodegenNode extends CallExpression {\r\n  callee: typeof CREATE_VNODE | typeof CREATE_BLOCK\r\n  arguments:  // tag, props, children, patchFlag, dynamicProps\r\n    | [string | symbol]\r\n    | [string | symbol, PropsExpression]\r\n    | [string | symbol, 'null' | PropsExpression, TemplateChildNode[]]\r\n    | [\r\n        string | symbol,\r\n        'null' | PropsExpression,\r\n        'null' | TemplateChildNode[],\r\n        string\r\n      ]\r\n    | [\r\n        string | symbol,\r\n        'null' | PropsExpression,\r\n        'null' | TemplateChildNode[],\r\n        string,\r\n        string\r\n      ]\r\n}\r\n\r\nexport type ElementCodegenNode =\r\n  | PlainElementCodegenNode\r\n  | CodegenNodeWithDirective<PlainElementCodegenNode>\r\n\r\n// createVNode(...)\r\nexport interface PlainComponentCodegenNode extends CallExpression {\r\n  callee: typeof CREATE_VNODE | typeof CREATE_BLOCK\r\n  arguments:  // Comp, props, slots, patchFlag, dynamicProps\r\n    | [string | symbol]\r\n    | [string | symbol, PropsExpression]\r\n    | [string | symbol, 'null' | PropsExpression, SlotsExpression]\r\n    | [\r\n        string | symbol,\r\n        'null' | PropsExpression,\r\n        'null' | SlotsExpression,\r\n        string\r\n      ]\r\n    | [\r\n        string | symbol,\r\n        'null' | PropsExpression,\r\n        'null' | SlotsExpression,\r\n        string,\r\n        string\r\n      ]\r\n}\r\n\r\nexport type ComponentCodegenNode =\r\n  | PlainComponentCodegenNode\r\n  | CodegenNodeWithDirective<PlainComponentCodegenNode>\r\n\r\nexport type SlotsExpression = SlotsObjectExpression | DynamicSlotsExpression\r\n\r\n// { foo: () => [...] }\r\nexport interface SlotsObjectExpression extends ObjectExpression {\r\n  properties: SlotsObjectProperty[]\r\n}\r\n\r\nexport interface SlotsObjectProperty extends Property {\r\n  value: SlotFunctionExpression\r\n}\r\n\r\nexport interface SlotFunctionExpression extends FunctionExpression {\r\n  returns: TemplateChildNode[]\r\n}\r\n\r\n// createSlots({ ... }, [\r\n//    foo ? () => [] : undefined,\r\n//    renderList(list, i => () => [i])\r\n// ])\r\nexport interface DynamicSlotsExpression extends CallExpression {\r\n  callee: typeof CREATE_SLOTS\r\n  arguments: [SlotsObjectExpression, DynamicSlotEntries]\r\n}\r\n\r\nexport interface DynamicSlotEntries extends ArrayExpression {\r\n  elements: (ConditionalDynamicSlotNode | ListDynamicSlotNode)[]\r\n}\r\n\r\nexport interface ConditionalDynamicSlotNode extends ConditionalExpression {\r\n  consequent: DynamicSlotNode\r\n  alternate: DynamicSlotNode | SimpleExpressionNode\r\n}\r\n\r\nexport interface ListDynamicSlotNode extends CallExpression {\r\n  callee: typeof RENDER_LIST\r\n  arguments: [ExpressionNode, ListDynamicSlotIterator]\r\n}\r\n\r\nexport interface ListDynamicSlotIterator extends FunctionExpression {\r\n  returns: DynamicSlotNode\r\n}\r\n\r\nexport interface DynamicSlotNode extends ObjectExpression {\r\n  properties: [Property, DynamicSlotFnProperty]\r\n}\r\n\r\nexport interface DynamicSlotFnProperty extends Property {\r\n  value: SlotFunctionExpression\r\n}\r\n\r\n// withDirectives(createVNode(...), [\r\n//    [_directive_foo, someValue],\r\n//    [_directive_bar, someValue, \"arg\", { mod: true }]\r\n// ])\r\nexport interface CodegenNodeWithDirective<T extends CallExpression>\r\n  extends CallExpression {\r\n  callee: typeof WITH_DIRECTIVES\r\n  arguments: [T, DirectiveArguments]\r\n}\r\n\r\nexport interface DirectiveArguments extends ArrayExpression {\r\n  elements: DirectiveArgumentNode[]\r\n}\r\n\r\nexport interface DirectiveArgumentNode extends ArrayExpression {\r\n  elements:  // dir, exp, arg, modifiers\r\n    | [string]\r\n    | [string, ExpressionNode]\r\n    | [string, ExpressionNode, ExpressionNode]\r\n    | [string, ExpressionNode, ExpressionNode, ObjectExpression]\r\n}\r\n\r\n// renderSlot(...)\r\nexport interface SlotOutletCodegenNode extends CallExpression {\r\n  callee: typeof RENDER_SLOT\r\n  arguments:  // $slots, name, props, fallback\r\n    | [string, string | ExpressionNode]\r\n    | [string, string | ExpressionNode, PropsExpression]\r\n    | [\r\n        string,\r\n        string | ExpressionNode,\r\n        PropsExpression | '{}',\r\n        TemplateChildNode[]\r\n      ]\r\n}\r\n\r\nexport type BlockCodegenNode =\r\n  | ElementCodegenNode\r\n  | ComponentCodegenNode\r\n  | SlotOutletCodegenNode\r\n\r\nexport interface IfCodegenNode extends SequenceExpression {\r\n  expressions: [OpenBlockExpression, IfConditionalExpression]\r\n}\r\n\r\nexport interface IfConditionalExpression extends ConditionalExpression {\r\n  consequent: BlockCodegenNode\r\n  alternate: BlockCodegenNode | IfConditionalExpression\r\n}\r\n\r\nexport interface ForCodegenNode extends SequenceExpression {\r\n  expressions: [OpenBlockExpression, ForBlockCodegenNode]\r\n}\r\n\r\nexport interface ForBlockCodegenNode extends CallExpression {\r\n  callee: typeof CREATE_BLOCK\r\n  arguments: [typeof FRAGMENT, 'null', ForRenderListExpression, string]\r\n}\r\n\r\nexport interface ForRenderListExpression extends CallExpression {\r\n  callee: typeof RENDER_LIST\r\n  arguments: [ExpressionNode, ForIteratorExpression]\r\n}\r\n\r\nexport interface ForIteratorExpression extends FunctionExpression {\r\n  returns: BlockCodegenNode\r\n}\r\n\r\nexport interface OpenBlockExpression extends CallExpression {\r\n  callee: typeof OPEN_BLOCK\r\n  arguments: []\r\n}\r\n\r\n// AST Utilities ---------------------------------------------------------------\r\n\r\n// Some expressions, e.g. sequence and conditional expressions, are never\r\n// associated with template nodes, so their source locations are just a stub.\r\n// Container types like CompoundExpression also don't need a real location.\r\nexport const locStub: SourceLocation = {\r\n  source: '',\r\n  start: { line: 1, column: 1, offset: 0 },\r\n  end: { line: 1, column: 1, offset: 0 }\r\n}\r\n\r\nexport function createArrayExpression(\r\n  elements: ArrayExpression['elements'],\r\n  loc: SourceLocation = locStub\r\n): ArrayExpression {\r\n  return {\r\n    type: NodeTypes.JS_ARRAY_EXPRESSION,\r\n    loc,\r\n    elements\r\n  }\r\n}\r\n\r\nexport function createObjectExpression(\r\n  properties: ObjectExpression['properties'],\r\n  loc: SourceLocation = locStub\r\n): ObjectExpression {\r\n  return {\r\n    type: NodeTypes.JS_OBJECT_EXPRESSION,\r\n    loc,\r\n    properties\r\n  }\r\n}\r\n\r\nexport function createObjectProperty(\r\n  key: Property['key'] | string,\r\n  value: Property['value']\r\n): Property {\r\n  return {\r\n    type: NodeTypes.JS_PROPERTY,\r\n    loc: locStub,\r\n    key: isString(key) ? createSimpleExpression(key, true) : key,\r\n    value\r\n  }\r\n}\r\n\r\nexport function createSimpleExpression(\r\n  content: SimpleExpressionNode['content'],\r\n  isStatic: SimpleExpressionNode['isStatic'],\r\n  loc: SourceLocation = locStub,\r\n  isConstant: boolean = false\r\n): SimpleExpressionNode {\r\n  return {\r\n    type: NodeTypes.SIMPLE_EXPRESSION,\r\n    loc,\r\n    isConstant,\r\n    content,\r\n    isStatic\r\n  }\r\n}\r\n\r\nexport function createInterpolation(\r\n  content: InterpolationNode['content'] | string,\r\n  loc: SourceLocation\r\n): InterpolationNode {\r\n  return {\r\n    type: NodeTypes.INTERPOLATION,\r\n    loc,\r\n    content: isString(content)\r\n      ? createSimpleExpression(content, false, loc)\r\n      : content\r\n  }\r\n}\r\n\r\nexport function createCompoundExpression(\r\n  children: CompoundExpressionNode['children'],\r\n  loc: SourceLocation = locStub\r\n): CompoundExpressionNode {\r\n  return {\r\n    type: NodeTypes.COMPOUND_EXPRESSION,\r\n    loc,\r\n    children\r\n  }\r\n}\r\n\r\ntype InferCodegenNodeType<T> = T extends\r\n  | typeof CREATE_VNODE\r\n  | typeof CREATE_BLOCK\r\n  ? PlainElementCodegenNode | PlainComponentCodegenNode\r\n  : T extends typeof WITH_DIRECTIVES\r\n    ?\r\n        | CodegenNodeWithDirective<PlainElementCodegenNode>\r\n        | CodegenNodeWithDirective<PlainComponentCodegenNode>\r\n    : T extends typeof RENDER_SLOT ? SlotOutletCodegenNode : CallExpression\r\n\r\nexport function createCallExpression<T extends CallExpression['callee']>(\r\n  callee: T,\r\n  args: CallExpression['arguments'] = [],\r\n  loc: SourceLocation = locStub\r\n): InferCodegenNodeType<T> {\r\n  return {\r\n    type: NodeTypes.JS_CALL_EXPRESSION,\r\n    loc,\r\n    callee,\r\n    arguments: args\r\n  } as any\r\n}\r\n\r\nexport function createFunctionExpression(\r\n  params: FunctionExpression['params'],\r\n  returns: FunctionExpression['returns'],\r\n  newline: boolean = false,\r\n  loc: SourceLocation = locStub\r\n): FunctionExpression {\r\n  return {\r\n    type: NodeTypes.JS_FUNCTION_EXPRESSION,\r\n    params,\r\n    returns,\r\n    newline,\r\n    loc\r\n  }\r\n}\r\n\r\nexport function createSequenceExpression(\r\n  expressions: SequenceExpression['expressions']\r\n): SequenceExpression {\r\n  return {\r\n    type: NodeTypes.JS_SEQUENCE_EXPRESSION,\r\n    expressions,\r\n    loc: locStub\r\n  }\r\n}\r\n\r\nexport function createConditionalExpression(\r\n  test: ConditionalExpression['test'],\r\n  consequent: ConditionalExpression['consequent'],\r\n  alternate: ConditionalExpression['alternate']\r\n): ConditionalExpression {\r\n  return {\r\n    type: NodeTypes.JS_CONDITIONAL_EXPRESSION,\r\n    test,\r\n    consequent,\r\n    alternate,\r\n    loc: locStub\r\n  }\r\n}\r\n\r\nexport function createCacheExpression(\r\n  index: number,\r\n  value: JSChildNode,\r\n  isVNode: boolean = false\r\n): CacheExpression {\r\n  return {\r\n    type: NodeTypes.JS_CACHE_EXPRESSION,\r\n    index,\r\n    value,\r\n    isVNode,\r\n    loc: locStub\r\n  }\r\n}\r\n","export const FRAGMENT = Symbol(__DEV__ ? `Fragment` : ``)\r\nexport const PORTAL = Symbol(__DEV__ ? `Portal` : ``)\r\nexport const SUSPENSE = Symbol(__DEV__ ? `Suspense` : ``)\r\nexport const KEEP_ALIVE = Symbol(__DEV__ ? `KeepAlive` : ``)\r\nexport const TRANSITION = Symbol(__DEV__ ? `Transition` : ``)\r\nexport const BASE_TRANSITION = Symbol(__DEV__ ? `BaseTransition` : ``)\r\nexport const OPEN_BLOCK = Symbol(__DEV__ ? `openBlock` : ``)\r\nexport const CREATE_BLOCK = Symbol(__DEV__ ? `createBlock` : ``)\r\nexport const CREATE_VNODE = Symbol(__DEV__ ? `createVNode` : ``)\r\nexport const CREATE_COMMENT = Symbol(__DEV__ ? `createCommentVNode` : ``)\r\nexport const CREATE_TEXT = Symbol(__DEV__ ? `createTextVNode` : ``)\r\nexport const RESOLVE_COMPONENT = Symbol(__DEV__ ? `resolveComponent` : ``)\r\nexport const RESOLVE_DYNAMIC_COMPONENT = Symbol(\r\n  __DEV__ ? `resolveDynamicComponent` : ``\r\n)\r\nexport const RESOLVE_DIRECTIVE = Symbol(__DEV__ ? `resolveDirective` : ``)\r\nexport const WITH_DIRECTIVES = Symbol(__DEV__ ? `withDirectives` : ``)\r\nexport const RENDER_LIST = Symbol(__DEV__ ? `renderList` : ``)\r\nexport const RENDER_SLOT = Symbol(__DEV__ ? `renderSlot` : ``)\r\nexport const CREATE_SLOTS = Symbol(__DEV__ ? `createSlots` : ``)\r\nexport const TO_STRING = Symbol(__DEV__ ? `toString` : ``)\r\nexport const MERGE_PROPS = Symbol(__DEV__ ? `mergeProps` : ``)\r\nexport const TO_HANDLERS = Symbol(__DEV__ ? `toHandlers` : ``)\r\nexport const CAMELIZE = Symbol(__DEV__ ? `camelize` : ``)\r\nexport const SET_BLOCK_TRACKING = Symbol(__DEV__ ? `setBlockTracking` : ``)\r\n\r\n// Name mapping for runtime helpers that need to be imported from 'vue' in\r\n// generated code. Make sure these are correctly exported in the runtime!\r\n// Using `any` here because TS doesn't allow symbols as index type.\r\nexport const helperNameMap: any = {\r\n  [FRAGMENT]: `Fragment`,\r\n  [PORTAL]: `Portal`,\r\n  [SUSPENSE]: `Suspense`,\r\n  [KEEP_ALIVE]: `KeepAlive`,\r\n  [TRANSITION]: `Transition`,\r\n  [BASE_TRANSITION]: `BaseTransition`,\r\n  [OPEN_BLOCK]: `openBlock`,\r\n  [CREATE_BLOCK]: `createBlock`,\r\n  [CREATE_VNODE]: `createVNode`,\r\n  [CREATE_COMMENT]: `createCommentVNode`,\r\n  [CREATE_TEXT]: `createTextVNode`,\r\n  [RESOLVE_COMPONENT]: `resolveComponent`,\r\n  [RESOLVE_DYNAMIC_COMPONENT]: `resolveDynamicComponent`,\r\n  [RESOLVE_DIRECTIVE]: `resolveDirective`,\r\n  [WITH_DIRECTIVES]: `withDirectives`,\r\n  [RENDER_LIST]: `renderList`,\r\n  [RENDER_SLOT]: `renderSlot`,\r\n  [CREATE_SLOTS]: `createSlots`,\r\n  [TO_STRING]: `toString`,\r\n  [MERGE_PROPS]: `mergeProps`,\r\n  [TO_HANDLERS]: `toHandlers`,\r\n  [CAMELIZE]: `camelize`,\r\n  [SET_BLOCK_TRACKING]: `setBlockTracking`\r\n}\r\n\r\nexport function registerRuntimeHelpers(helpers: any) {\r\n  Object.getOwnPropertySymbols(helpers).forEach(s => {\r\n    helperNameMap[s] = helpers[s]\r\n  })\r\n}\r\n","import {\r\n  SourceLocation,\r\n  Position,\r\n  ElementNode,\r\n  NodeTypes,\r\n  CallExpression,\r\n  SequenceExpression,\r\n  createSequenceExpression,\r\n  createCallExpression,\r\n  DirectiveNode,\r\n  ElementTypes,\r\n  TemplateChildNode,\r\n  RootNode,\r\n  ObjectExpression,\r\n  Property,\r\n  JSChildNode,\r\n  createObjectExpression,\r\n  SlotOutletNode,\r\n  TemplateNode,\r\n  BlockCodegenNode,\r\n  ElementCodegenNode,\r\n  SlotOutletCodegenNode,\r\n  ComponentCodegenNode,\r\n  ExpressionNode,\r\n  IfBranchNode\r\n} from './ast'\r\nimport { parse } from 'acorn'\r\nimport { walk } from 'estree-walker'\r\nimport { TransformContext } from './transform'\r\nimport { OPEN_BLOCK, MERGE_PROPS, RENDER_SLOT } from './runtimeHelpers'\r\nimport { isString, isFunction, isObject } from '@vue/shared'\r\n\r\n// cache node requires\r\n// lazy require dependencies so that they don't end up in rollup's dep graph\r\n// and thus can be tree-shaken in browser builds.\r\nlet _parse: typeof parse\r\nlet _walk: typeof walk\r\n\r\nexport function loadDep(name: string) {\r\n  if (typeof process !== 'undefined' && isFunction(require)) {\r\n    return require(name)\r\n  } else {\r\n    // This is only used when we are building a dev-only build of the compiler\r\n    // which runs in the browser but also uses Node deps.\r\n    return (window as any)._deps[name]\r\n  }\r\n}\r\n\r\nexport const parseJS: typeof parse = (code, options) => {\r\n  assert(\r\n    !__BROWSER__,\r\n    `Expression AST analysis can only be performed in non-browser builds.`\r\n  )\r\n  const parse = _parse || (_parse = loadDep('acorn').parse)\r\n  return parse(code, options)\r\n}\r\n\r\nexport const walkJS: typeof walk = (ast, walker) => {\r\n  assert(\r\n    !__BROWSER__,\r\n    `Expression AST analysis can only be performed in non-browser builds.`\r\n  )\r\n  const walk = _walk || (_walk = loadDep('estree-walker').walk)\r\n  return walk(ast, walker)\r\n}\r\n\r\nconst nonIdentifierRE = /^\\d|[^\\$\\w]/\r\nexport const isSimpleIdentifier = (name: string): boolean =>\r\n  !nonIdentifierRE.test(name)\r\n\r\nconst memberExpRE = /^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\[[^\\]]+\\])*$/\r\nexport const isMemberExpression = (path: string): boolean =>\r\n  memberExpRE.test(path)\r\n\r\nexport function getInnerRange(\r\n  loc: SourceLocation,\r\n  offset: number,\r\n  length?: number\r\n): SourceLocation {\r\n  __TEST__ && assert(offset <= loc.source.length)\r\n  const source = loc.source.substr(offset, length)\r\n  const newLoc: SourceLocation = {\r\n    source,\r\n    start: advancePositionWithClone(loc.start, loc.source, offset),\r\n    end: loc.end\r\n  }\r\n\r\n  if (length != null) {\r\n    __TEST__ && assert(offset + length <= loc.source.length)\r\n    newLoc.end = advancePositionWithClone(\r\n      loc.start,\r\n      loc.source,\r\n      offset + length\r\n    )\r\n  }\r\n\r\n  return newLoc\r\n}\r\n\r\nexport function advancePositionWithClone(\r\n  pos: Position,\r\n  source: string,\r\n  numberOfCharacters: number = source.length\r\n): Position {\r\n  return advancePositionWithMutation({ ...pos }, source, numberOfCharacters)\r\n}\r\n\r\n// advance by mutation without cloning (for performance reasons), since this\r\n// gets called a lot in the parser\r\nexport function advancePositionWithMutation(\r\n  pos: Position,\r\n  source: string,\r\n  numberOfCharacters: number = source.length\r\n): Position {\r\n  let linesCount = 0\r\n  let lastNewLinePos = -1\r\n  for (let i = 0; i < numberOfCharacters; i++) {\r\n    if (source.charCodeAt(i) === 10 /* newline char code */) {\r\n      linesCount++\r\n      lastNewLinePos = i\r\n    }\r\n  }\r\n\r\n  pos.offset += numberOfCharacters\r\n  pos.line += linesCount\r\n  pos.column =\r\n    lastNewLinePos === -1\r\n      ? pos.column + numberOfCharacters\r\n      : Math.max(1, numberOfCharacters - lastNewLinePos)\r\n\r\n  return pos\r\n}\r\n\r\nexport function assert(condition: boolean, msg?: string) {\r\n  /* istanbul ignore if */\r\n  if (!condition) {\r\n    throw new Error(msg || `unexpected compiler condition`)\r\n  }\r\n}\r\n\r\nexport function findDir(\r\n  node: ElementNode,\r\n  name: string | RegExp,\r\n  allowEmpty: boolean = false\r\n): DirectiveNode | undefined {\r\n  for (let i = 0; i < node.props.length; i++) {\r\n    const p = node.props[i]\r\n    if (\r\n      p.type === NodeTypes.DIRECTIVE &&\r\n      (allowEmpty || p.exp) &&\r\n      (isString(name) ? p.name === name : name.test(p.name))\r\n    ) {\r\n      return p\r\n    }\r\n  }\r\n}\r\n\r\nexport function findProp(\r\n  node: ElementNode,\r\n  name: string,\r\n  dynamicOnly: boolean = false\r\n): ElementNode['props'][0] | undefined {\r\n  for (let i = 0; i < node.props.length; i++) {\r\n    const p = node.props[i]\r\n    if (p.type === NodeTypes.ATTRIBUTE) {\r\n      if (dynamicOnly) continue\r\n      if (p.name === name && p.value) {\r\n        return p\r\n      }\r\n    } else if (\r\n      p.name === 'bind' &&\r\n      p.arg &&\r\n      p.arg.type === NodeTypes.SIMPLE_EXPRESSION &&\r\n      p.arg.isStatic &&\r\n      p.arg.content === name &&\r\n      p.exp\r\n    ) {\r\n      return p\r\n    }\r\n  }\r\n}\r\n\r\nexport function createBlockExpression(\r\n  blockExp: BlockCodegenNode,\r\n  context: TransformContext\r\n): SequenceExpression {\r\n  return createSequenceExpression([\r\n    createCallExpression(context.helper(OPEN_BLOCK)),\r\n    blockExp\r\n  ])\r\n}\r\n\r\nexport function isVSlot(p: ElementNode['props'][0]): p is DirectiveNode {\r\n  return p.type === NodeTypes.DIRECTIVE && p.name === 'slot'\r\n}\r\n\r\nexport function isTemplateNode(\r\n  node: RootNode | TemplateChildNode\r\n): node is TemplateNode {\r\n  return (\r\n    node.type === NodeTypes.ELEMENT && node.tagType === ElementTypes.TEMPLATE\r\n  )\r\n}\r\n\r\nexport function isSlotOutlet(\r\n  node: RootNode | TemplateChildNode\r\n): node is SlotOutletNode {\r\n  return node.type === NodeTypes.ELEMENT && node.tagType === ElementTypes.SLOT\r\n}\r\n\r\nexport function injectProp(\r\n  node: ElementCodegenNode | ComponentCodegenNode | SlotOutletCodegenNode,\r\n  prop: Property,\r\n  context: TransformContext\r\n) {\r\n  let propsWithInjection: ObjectExpression | CallExpression\r\n  const props =\r\n    node.callee === RENDER_SLOT ? node.arguments[2] : node.arguments[1]\r\n  if (props == null || isString(props)) {\r\n    propsWithInjection = createObjectExpression([prop])\r\n  } else if (props.type === NodeTypes.JS_CALL_EXPRESSION) {\r\n    // merged props... add ours\r\n    // only inject key to object literal if it's the first argument so that\r\n    // if doesn't override user provided keys\r\n    const first = props.arguments[0] as string | JSChildNode\r\n    if (!isString(first) && first.type === NodeTypes.JS_OBJECT_EXPRESSION) {\r\n      first.properties.unshift(prop)\r\n    } else {\r\n      props.arguments.unshift(createObjectExpression([prop]))\r\n    }\r\n    propsWithInjection = props\r\n  } else if (props.type === NodeTypes.JS_OBJECT_EXPRESSION) {\r\n    props.properties.unshift(prop)\r\n    propsWithInjection = props\r\n  } else {\r\n    // single v-bind with expression, return a merged replacement\r\n    propsWithInjection = createCallExpression(context.helper(MERGE_PROPS), [\r\n      createObjectExpression([prop]),\r\n      props\r\n    ])\r\n  }\r\n  if (node.callee === RENDER_SLOT) {\r\n    node.arguments[2] = propsWithInjection\r\n  } else {\r\n    node.arguments[1] = propsWithInjection\r\n  }\r\n}\r\n\r\nexport function toValidAssetId(\r\n  name: string,\r\n  type: 'component' | 'directive'\r\n): string {\r\n  return `_${type}_${name.replace(/[^\\w]/g, '_')}`\r\n}\r\n\r\n// Check if a node contains expressions that reference current context scope ids\r\nexport function hasScopeRef(\r\n  node: TemplateChildNode | IfBranchNode | ExpressionNode | undefined,\r\n  ids: TransformContext['identifiers']\r\n): boolean {\r\n  if (!node || Object.keys(ids).length === 0) {\r\n    return false\r\n  }\r\n  switch (node.type) {\r\n    case NodeTypes.ELEMENT:\r\n      for (let i = 0; i < node.props.length; i++) {\r\n        const p = node.props[i]\r\n        if (\r\n          p.type === NodeTypes.DIRECTIVE &&\r\n          (hasScopeRef(p.arg, ids) || hasScopeRef(p.exp, ids))\r\n        ) {\r\n          return true\r\n        }\r\n      }\r\n      return node.children.some(c => hasScopeRef(c, ids))\r\n    case NodeTypes.FOR:\r\n      if (hasScopeRef(node.source, ids)) {\r\n        return true\r\n      }\r\n      return node.children.some(c => hasScopeRef(c, ids))\r\n    case NodeTypes.IF:\r\n      return node.branches.some(b => hasScopeRef(b, ids))\r\n    case NodeTypes.IF_BRANCH:\r\n      if (hasScopeRef(node.condition, ids)) {\r\n        return true\r\n      }\r\n      return node.children.some(c => hasScopeRef(c, ids))\r\n    case NodeTypes.SIMPLE_EXPRESSION:\r\n      return (\r\n        !node.isStatic &&\r\n        isSimpleIdentifier(node.content) &&\r\n        !!ids[node.content]\r\n      )\r\n    case NodeTypes.COMPOUND_EXPRESSION:\r\n      return node.children.some(c => isObject(c) && hasScopeRef(c, ids))\r\n    case NodeTypes.INTERPOLATION:\r\n    case NodeTypes.TEXT_CALL:\r\n      return hasScopeRef(node.content, ids)\r\n    case NodeTypes.TEXT:\r\n    case NodeTypes.COMMENT:\r\n      return false\r\n    default:\r\n      if (__DEV__) {\r\n        const exhaustiveCheck: never = node\r\n        exhaustiveCheck\r\n      }\r\n      return false\r\n  }\r\n}\r\n","import { NO, makeMap, isArray } from '@vue/shared'\r\nimport {\r\n  ErrorCodes,\r\n  createCompilerError,\r\n  defaultOnError,\r\n  CompilerError\r\n} from './errors'\r\nimport {\r\n  assert,\r\n  advancePositionWithMutation,\r\n  advancePositionWithClone\r\n} from './utils'\r\nimport {\r\n  Namespace,\r\n  Namespaces,\r\n  AttributeNode,\r\n  CommentNode,\r\n  DirectiveNode,\r\n  ElementNode,\r\n  ElementTypes,\r\n  ExpressionNode,\r\n  NodeTypes,\r\n  Position,\r\n  RootNode,\r\n  SourceLocation,\r\n  TextNode,\r\n  TemplateChildNode,\r\n  InterpolationNode\r\n} from './ast'\r\nimport { extend } from '@vue/shared'\r\n\r\n// Portal and Fragment are native types, not components\r\nconst isBuiltInComponent = /*#__PURE__*/ makeMap(\r\n  `suspense,keep-alive,keepalive,transition`,\r\n  true\r\n)\r\n\r\nexport interface ParserOptions {\r\n  isVoidTag?: (tag: string) => boolean // e.g. img, br, hr\r\n  isNativeTag?: (tag: string) => boolean // e.g. loading-indicator in weex\r\n  isPreTag?: (tag: string) => boolean // e.g. <pre> where whitespace is intact\r\n  isCustomElement?: (tag: string) => boolean\r\n  getNamespace?: (tag: string, parent: ElementNode | undefined) => Namespace\r\n  getTextMode?: (tag: string, ns: Namespace) => TextModes\r\n  delimiters?: [string, string] // ['{{', '}}']\r\n\r\n  // Map to HTML entities. E.g., `{ \"amp;\": \"&\" }`\r\n  // The full set is https://html.spec.whatwg.org/multipage/named-characters.html#named-character-references\r\n  namedCharacterReferences?: Record<string, string>\r\n  // this number is based on the map above, but it should be pre-computed\r\n  // to avoid the cost on every parse() call.\r\n  maxCRNameLength?: number\r\n\r\n  onError?: (error: CompilerError) => void\r\n}\r\n\r\n// `isNativeTag` is optional, others are required\r\ntype MergedParserOptions = Omit<Required<ParserOptions>, 'isNativeTag'> &\r\n  Pick<ParserOptions, 'isNativeTag'>\r\n\r\nexport const defaultParserOptions: MergedParserOptions = {\r\n  delimiters: [`{{`, `}}`],\r\n  getNamespace: () => Namespaces.HTML,\r\n  getTextMode: () => TextModes.DATA,\r\n  isVoidTag: NO,\r\n  isPreTag: NO,\r\n  isCustomElement: NO,\r\n  namedCharacterReferences: {\r\n    'gt;': '>',\r\n    'lt;': '<',\r\n    'amp;': '&',\r\n    'apos;': \"'\",\r\n    'quot;': '\"'\r\n  },\r\n  maxCRNameLength: 5,\r\n  onError: defaultOnError\r\n}\r\n\r\nexport const enum TextModes {\r\n  //          | Elements | Entities | End sign              | Inside of\r\n  DATA, //    | ✔       | ✔       | End tags of ancestors |\r\n  RCDATA, //  | ✘       | ✔       | End tag of the parent | <textarea>\r\n  RAWTEXT, // | ✘       | ✘       | End tag of the parent | <style>,<script>\r\n  CDATA,\r\n  ATTRIBUTE_VALUE\r\n}\r\n\r\ninterface ParserContext {\r\n  options: MergedParserOptions\r\n  readonly originalSource: string\r\n  source: string\r\n  offset: number\r\n  line: number\r\n  column: number\r\n  inPre: boolean\r\n}\r\n\r\nexport function parse(content: string, options: ParserOptions = {}): RootNode {\r\n  const context = createParserContext(content, options)\r\n  const start = getCursor(context)\r\n\r\n  return {\r\n    type: NodeTypes.ROOT,\r\n    children: parseChildren(context, TextModes.DATA, []),\r\n    helpers: [],\r\n    components: [],\r\n    directives: [],\r\n    hoists: [],\r\n    cached: 0,\r\n    codegenNode: undefined,\r\n    loc: getSelection(context, start)\r\n  }\r\n}\r\n\r\nfunction createParserContext(\r\n  content: string,\r\n  options: ParserOptions\r\n): ParserContext {\r\n  return {\r\n    options: {\r\n      ...defaultParserOptions,\r\n      ...options\r\n    },\r\n    column: 1,\r\n    line: 1,\r\n    offset: 0,\r\n    originalSource: content,\r\n    source: content,\r\n    inPre: false\r\n  }\r\n}\r\n\r\nfunction parseChildren(\r\n  context: ParserContext,\r\n  mode: TextModes,\r\n  ancestors: ElementNode[]\r\n): TemplateChildNode[] {\r\n  const parent = last(ancestors)\r\n  const ns = parent ? parent.ns : Namespaces.HTML\r\n  const nodes: TemplateChildNode[] = []\r\n\r\n  while (!isEnd(context, mode, ancestors)) {\r\n    __TEST__ && assert(context.source.length > 0)\r\n    const s = context.source\r\n    let node: TemplateChildNode | TemplateChildNode[] | undefined = undefined\r\n\r\n    if (!context.inPre && startsWith(s, context.options.delimiters[0])) {\r\n      // '{{'\r\n      node = parseInterpolation(context, mode)\r\n    } else if (mode === TextModes.DATA && s[0] === '<') {\r\n      // https://html.spec.whatwg.org/multipage/parsing.html#tag-open-state\r\n      if (s.length === 1) {\r\n        emitError(context, ErrorCodes.EOF_BEFORE_TAG_NAME, 1)\r\n      } else if (s[1] === '!') {\r\n        // https://html.spec.whatwg.org/multipage/parsing.html#markup-declaration-open-state\r\n        if (startsWith(s, '<!--')) {\r\n          node = parseComment(context)\r\n        } else if (startsWith(s, '<!DOCTYPE')) {\r\n          // Ignore DOCTYPE by a limitation.\r\n          node = parseBogusComment(context)\r\n        } else if (startsWith(s, '<![CDATA[')) {\r\n          if (ns !== Namespaces.HTML) {\r\n            node = parseCDATA(context, ancestors)\r\n          } else {\r\n            emitError(context, ErrorCodes.CDATA_IN_HTML_CONTENT)\r\n            node = parseBogusComment(context)\r\n          }\r\n        } else {\r\n          emitError(context, ErrorCodes.INCORRECTLY_OPENED_COMMENT)\r\n          node = parseBogusComment(context)\r\n        }\r\n      } else if (s[1] === '/') {\r\n        // https://html.spec.whatwg.org/multipage/parsing.html#end-tag-open-state\r\n        if (s.length === 2) {\r\n          emitError(context, ErrorCodes.EOF_BEFORE_TAG_NAME, 2)\r\n        } else if (s[2] === '>') {\r\n          emitError(context, ErrorCodes.MISSING_END_TAG_NAME, 2)\r\n          advanceBy(context, 3)\r\n          continue\r\n        } else if (/[a-z]/i.test(s[2])) {\r\n          emitError(context, ErrorCodes.X_INVALID_END_TAG)\r\n          parseTag(context, TagType.End, parent)\r\n          continue\r\n        } else {\r\n          emitError(context, ErrorCodes.INVALID_FIRST_CHARACTER_OF_TAG_NAME, 2)\r\n          node = parseBogusComment(context)\r\n        }\r\n      } else if (/[a-z]/i.test(s[1])) {\r\n        node = parseElement(context, ancestors)\r\n      } else if (s[1] === '?') {\r\n        emitError(\r\n          context,\r\n          ErrorCodes.UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME,\r\n          1\r\n        )\r\n        node = parseBogusComment(context)\r\n      } else {\r\n        emitError(context, ErrorCodes.INVALID_FIRST_CHARACTER_OF_TAG_NAME, 1)\r\n      }\r\n    }\r\n    if (!node) {\r\n      node = parseText(context, mode)\r\n    }\r\n\r\n    if (isArray(node)) {\r\n      for (let i = 0; i < node.length; i++) {\r\n        pushNode(nodes, node[i])\r\n      }\r\n    } else {\r\n      pushNode(nodes, node)\r\n    }\r\n  }\r\n\r\n  // Whitespace management for more efficient output\r\n  // (same as v2 whitespance: 'condense')\r\n  let removedWhitespace = false\r\n  if (\r\n    mode !== TextModes.RAWTEXT &&\r\n    (!parent || !context.options.isPreTag(parent.tag))\r\n  ) {\r\n    for (let i = 0; i < nodes.length; i++) {\r\n      const node = nodes[i]\r\n      if (node.type === NodeTypes.TEXT) {\r\n        if (!node.content.trim()) {\r\n          const prev = nodes[i - 1]\r\n          const next = nodes[i + 1]\r\n          // If:\r\n          // - the whitespace is the first or last node, or:\r\n          // - the whitespace is adjacent to a comment, or:\r\n          // - the whitespace is between two elements AND contains newline\r\n          // Then the whitespace is ignored.\r\n          if (\r\n            !prev ||\r\n            !next ||\r\n            prev.type === NodeTypes.COMMENT ||\r\n            next.type === NodeTypes.COMMENT ||\r\n            (prev.type === NodeTypes.ELEMENT &&\r\n              next.type === NodeTypes.ELEMENT &&\r\n              /[\\r\\n]/.test(node.content))\r\n          ) {\r\n            removedWhitespace = true\r\n            nodes[i] = null as any\r\n          } else {\r\n            // Otherwise, condensed consecutive whitespace inside the text down to\r\n            // a single space\r\n            node.content = ' '\r\n          }\r\n        } else {\r\n          node.content = node.content.replace(/\\s+/g, ' ')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return removedWhitespace ? nodes.filter(node => node !== null) : nodes\r\n}\r\n\r\nfunction pushNode(nodes: TemplateChildNode[], node: TemplateChildNode): void {\r\n  // ignore comments in production\r\n  /* istanbul ignore next */\r\n  if (!__DEV__ && node.type === NodeTypes.COMMENT) {\r\n    return\r\n  }\r\n\r\n  if (node.type === NodeTypes.TEXT) {\r\n    const prev = last(nodes)\r\n    // Merge if both this and the previous node are text and those are\r\n    // consecutive. This happens for cases like \"a < b\".\r\n    if (\r\n      prev &&\r\n      prev.type === NodeTypes.TEXT &&\r\n      prev.loc.end.offset === node.loc.start.offset\r\n    ) {\r\n      prev.content += node.content\r\n      prev.loc.end = node.loc.end\r\n      prev.loc.source += node.loc.source\r\n      return\r\n    }\r\n  }\r\n\r\n  nodes.push(node)\r\n}\r\n\r\nfunction parseCDATA(\r\n  context: ParserContext,\r\n  ancestors: ElementNode[]\r\n): TemplateChildNode[] {\r\n  __TEST__ &&\r\n    assert(last(ancestors) == null || last(ancestors)!.ns !== Namespaces.HTML)\r\n  __TEST__ && assert(startsWith(context.source, '<![CDATA['))\r\n\r\n  advanceBy(context, 9)\r\n  const nodes = parseChildren(context, TextModes.CDATA, ancestors)\r\n  if (context.source.length === 0) {\r\n    emitError(context, ErrorCodes.EOF_IN_CDATA)\r\n  } else {\r\n    __TEST__ && assert(startsWith(context.source, ']]>'))\r\n    advanceBy(context, 3)\r\n  }\r\n\r\n  return nodes\r\n}\r\n\r\nfunction parseComment(context: ParserContext): CommentNode {\r\n  __TEST__ && assert(startsWith(context.source, '<!--'))\r\n\r\n  const start = getCursor(context)\r\n  let content: string\r\n\r\n  // Regular comment.\r\n  const match = /--(\\!)?>/.exec(context.source)\r\n  if (!match) {\r\n    content = context.source.slice(4)\r\n    advanceBy(context, context.source.length)\r\n    emitError(context, ErrorCodes.EOF_IN_COMMENT)\r\n  } else {\r\n    if (match.index <= 3) {\r\n      emitError(context, ErrorCodes.ABRUPT_CLOSING_OF_EMPTY_COMMENT)\r\n    }\r\n    if (match[1]) {\r\n      emitError(context, ErrorCodes.INCORRECTLY_CLOSED_COMMENT)\r\n    }\r\n    content = context.source.slice(4, match.index)\r\n\r\n    // Advancing with reporting nested comments.\r\n    const s = context.source.slice(0, match.index)\r\n    let prevIndex = 1,\r\n      nestedIndex = 0\r\n    while ((nestedIndex = s.indexOf('<!--', prevIndex)) !== -1) {\r\n      advanceBy(context, nestedIndex - prevIndex + 1)\r\n      if (nestedIndex + 4 < s.length) {\r\n        emitError(context, ErrorCodes.NESTED_COMMENT)\r\n      }\r\n      prevIndex = nestedIndex + 1\r\n    }\r\n    advanceBy(context, match.index + match[0].length - prevIndex + 1)\r\n  }\r\n\r\n  return {\r\n    type: NodeTypes.COMMENT,\r\n    content,\r\n    loc: getSelection(context, start)\r\n  }\r\n}\r\n\r\nfunction parseBogusComment(context: ParserContext): CommentNode | undefined {\r\n  __TEST__ && assert(/^<(?:[\\!\\?]|\\/[^a-z>])/i.test(context.source))\r\n\r\n  const start = getCursor(context)\r\n  const contentStart = context.source[1] === '?' ? 1 : 2\r\n  let content: string\r\n\r\n  const closeIndex = context.source.indexOf('>')\r\n  if (closeIndex === -1) {\r\n    content = context.source.slice(contentStart)\r\n    advanceBy(context, context.source.length)\r\n  } else {\r\n    content = context.source.slice(contentStart, closeIndex)\r\n    advanceBy(context, closeIndex + 1)\r\n  }\r\n\r\n  return {\r\n    type: NodeTypes.COMMENT,\r\n    content,\r\n    loc: getSelection(context, start)\r\n  }\r\n}\r\n\r\nfunction parseElement(\r\n  context: ParserContext,\r\n  ancestors: ElementNode[]\r\n): ElementNode | undefined {\r\n  __TEST__ && assert(/^<[a-z]/i.test(context.source))\r\n\r\n  // Start tag.\r\n  const wasInPre = context.inPre\r\n  const parent = last(ancestors)\r\n  const element = parseTag(context, TagType.Start, parent)\r\n  const isPreBoundary = context.inPre && !wasInPre\r\n\r\n  if (element.isSelfClosing || context.options.isVoidTag(element.tag)) {\r\n    return element\r\n  }\r\n\r\n  // Children.\r\n  ancestors.push(element)\r\n  const mode = context.options.getTextMode(element.tag, element.ns)\r\n  const children = parseChildren(context, mode, ancestors)\r\n  ancestors.pop()\r\n\r\n  element.children = children\r\n\r\n  // End tag.\r\n  if (startsWithEndTagOpen(context.source, element.tag)) {\r\n    parseTag(context, TagType.End, parent)\r\n  } else {\r\n    emitError(context, ErrorCodes.X_MISSING_END_TAG)\r\n    if (context.source.length === 0 && element.tag.toLowerCase() === 'script') {\r\n      const first = children[0]\r\n      if (first && startsWith(first.loc.source, '<!--')) {\r\n        emitError(context, ErrorCodes.EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT)\r\n      }\r\n    }\r\n  }\r\n\r\n  element.loc = getSelection(context, element.loc.start)\r\n\r\n  if (isPreBoundary) {\r\n    context.inPre = false\r\n  }\r\n  return element\r\n}\r\n\r\nconst enum TagType {\r\n  Start,\r\n  End\r\n}\r\n\r\n/**\r\n * Parse a tag (E.g. `<div id=a>`) with that type (start tag or end tag).\r\n */\r\nfunction parseTag(\r\n  context: ParserContext,\r\n  type: TagType,\r\n  parent: ElementNode | undefined\r\n): ElementNode {\r\n  __TEST__ && assert(/^<\\/?[a-z]/i.test(context.source))\r\n  __TEST__ &&\r\n    assert(\r\n      type === (startsWith(context.source, '</') ? TagType.End : TagType.Start)\r\n    )\r\n\r\n  // Tag open.\r\n  const start = getCursor(context)\r\n  const match = /^<\\/?([a-z][^\\t\\r\\n\\f />]*)/i.exec(context.source)!\r\n  const tag = match[1]\r\n  const ns = context.options.getNamespace(tag, parent)\r\n\r\n  advanceBy(context, match[0].length)\r\n  advanceSpaces(context)\r\n\r\n  // save current state in case we need to re-parse attributes with v-pre\r\n  const cursor = getCursor(context)\r\n  const currentSource = context.source\r\n\r\n  // Attributes.\r\n  let props = parseAttributes(context, type)\r\n\r\n  // check v-pre\r\n  if (\r\n    !context.inPre &&\r\n    props.some(p => p.type === NodeTypes.DIRECTIVE && p.name === 'pre')\r\n  ) {\r\n    context.inPre = true\r\n    // reset context\r\n    extend(context, cursor)\r\n    context.source = currentSource\r\n    // re-parse attrs and filter out v-pre itself\r\n    props = parseAttributes(context, type).filter(p => p.name !== 'v-pre')\r\n  }\r\n\r\n  // Tag close.\r\n  let isSelfClosing = false\r\n  if (context.source.length === 0) {\r\n    emitError(context, ErrorCodes.EOF_IN_TAG)\r\n  } else {\r\n    isSelfClosing = startsWith(context.source, '/>')\r\n    if (type === TagType.End && isSelfClosing) {\r\n      emitError(context, ErrorCodes.END_TAG_WITH_TRAILING_SOLIDUS)\r\n    }\r\n    advanceBy(context, isSelfClosing ? 2 : 1)\r\n  }\r\n\r\n  let tagType = ElementTypes.ELEMENT\r\n  if (!context.inPre && !context.options.isCustomElement(tag)) {\r\n    if (context.options.isNativeTag) {\r\n      if (!context.options.isNativeTag(tag)) tagType = ElementTypes.COMPONENT\r\n    } else if (isBuiltInComponent(tag) || /^[A-Z]/.test(tag)) {\r\n      tagType = ElementTypes.COMPONENT\r\n    }\r\n\r\n    if (tag === 'slot') {\r\n      tagType = ElementTypes.SLOT\r\n    } else if (tag === 'template') {\r\n      tagType = ElementTypes.TEMPLATE\r\n    }\r\n  }\r\n\r\n  return {\r\n    type: NodeTypes.ELEMENT,\r\n    ns,\r\n    tag,\r\n    tagType,\r\n    props,\r\n    isSelfClosing,\r\n    children: [],\r\n    loc: getSelection(context, start),\r\n    codegenNode: undefined // to be created during transform phase\r\n  }\r\n}\r\n\r\nfunction parseAttributes(\r\n  context: ParserContext,\r\n  type: TagType\r\n): (AttributeNode | DirectiveNode)[] {\r\n  const props = []\r\n  const attributeNames = new Set<string>()\r\n  while (\r\n    context.source.length > 0 &&\r\n    !startsWith(context.source, '>') &&\r\n    !startsWith(context.source, '/>')\r\n  ) {\r\n    if (startsWith(context.source, '/')) {\r\n      emitError(context, ErrorCodes.UNEXPECTED_SOLIDUS_IN_TAG)\r\n      advanceBy(context, 1)\r\n      advanceSpaces(context)\r\n      continue\r\n    }\r\n    if (type === TagType.End) {\r\n      emitError(context, ErrorCodes.END_TAG_WITH_ATTRIBUTES)\r\n    }\r\n\r\n    const attr = parseAttribute(context, attributeNames)\r\n    if (type === TagType.Start) {\r\n      props.push(attr)\r\n    }\r\n\r\n    if (/^[^\\t\\r\\n\\f />]/.test(context.source)) {\r\n      emitError(context, ErrorCodes.MISSING_WHITESPACE_BETWEEN_ATTRIBUTES)\r\n    }\r\n    advanceSpaces(context)\r\n  }\r\n  return props\r\n}\r\n\r\nfunction parseAttribute(\r\n  context: ParserContext,\r\n  nameSet: Set<string>\r\n): AttributeNode | DirectiveNode {\r\n  __TEST__ && assert(/^[^\\t\\r\\n\\f />]/.test(context.source))\r\n\r\n  // Name.\r\n  const start = getCursor(context)\r\n  const match = /^[^\\t\\r\\n\\f />][^\\t\\r\\n\\f />=]*/.exec(context.source)!\r\n  const name = match[0]\r\n\r\n  if (nameSet.has(name)) {\r\n    emitError(context, ErrorCodes.DUPLICATE_ATTRIBUTE)\r\n  }\r\n  nameSet.add(name)\r\n\r\n  if (name[0] === '=') {\r\n    emitError(context, ErrorCodes.UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME)\r\n  }\r\n  {\r\n    const pattern = /[\"'<]/g\r\n    let m: RegExpExecArray | null\r\n    while ((m = pattern.exec(name)) !== null) {\r\n      emitError(\r\n        context,\r\n        ErrorCodes.UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME,\r\n        m.index\r\n      )\r\n    }\r\n  }\r\n\r\n  advanceBy(context, name.length)\r\n\r\n  // Value\r\n  let value:\r\n    | {\r\n        content: string\r\n        isQuoted: boolean\r\n        loc: SourceLocation\r\n      }\r\n    | undefined = undefined\r\n\r\n  if (/^[\\t\\r\\n\\f ]*=/.test(context.source)) {\r\n    advanceSpaces(context)\r\n    advanceBy(context, 1)\r\n    advanceSpaces(context)\r\n    value = parseAttributeValue(context)\r\n    if (!value) {\r\n      emitError(context, ErrorCodes.MISSING_ATTRIBUTE_VALUE)\r\n    }\r\n  }\r\n  const loc = getSelection(context, start)\r\n\r\n  if (!context.inPre && /^(v-|:|@|#)/.test(name)) {\r\n    const match = /(?:^v-([a-z0-9-]+))?(?:(?::|^@|^#)([^\\.]+))?(.+)?$/i.exec(\r\n      name\r\n    )!\r\n\r\n    let arg: ExpressionNode | undefined\r\n\r\n    if (match[2]) {\r\n      const startOffset = name.indexOf(match[2])\r\n      const loc = getSelection(\r\n        context,\r\n        getNewPosition(context, start, startOffset),\r\n        getNewPosition(context, start, startOffset + match[2].length)\r\n      )\r\n      let content = match[2]\r\n      let isStatic = true\r\n\r\n      if (content.startsWith('[')) {\r\n        isStatic = false\r\n\r\n        if (!content.endsWith(']')) {\r\n          emitError(\r\n            context,\r\n            ErrorCodes.X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END\r\n          )\r\n        }\r\n\r\n        content = content.substr(1, content.length - 2)\r\n      }\r\n\r\n      arg = {\r\n        type: NodeTypes.SIMPLE_EXPRESSION,\r\n        content,\r\n        isStatic,\r\n        isConstant: isStatic,\r\n        loc\r\n      }\r\n    }\r\n\r\n    if (value && value.isQuoted) {\r\n      const valueLoc = value.loc\r\n      valueLoc.start.offset++\r\n      valueLoc.start.column++\r\n      valueLoc.end = advancePositionWithClone(valueLoc.start, value.content)\r\n      valueLoc.source = valueLoc.source.slice(1, -1)\r\n    }\r\n\r\n    return {\r\n      type: NodeTypes.DIRECTIVE,\r\n      name:\r\n        match[1] ||\r\n        (startsWith(name, ':')\r\n          ? 'bind'\r\n          : startsWith(name, '@')\r\n            ? 'on'\r\n            : 'slot'),\r\n      exp: value && {\r\n        type: NodeTypes.SIMPLE_EXPRESSION,\r\n        content: value.content,\r\n        isStatic: false,\r\n        // Treat as non-constant by default. This can be potentially set to\r\n        // true by `transformExpression` to make it eligible for hoisting.\r\n        isConstant: false,\r\n        loc: value.loc\r\n      },\r\n      arg,\r\n      modifiers: match[3] ? match[3].substr(1).split('.') : [],\r\n      loc\r\n    }\r\n  }\r\n\r\n  return {\r\n    type: NodeTypes.ATTRIBUTE,\r\n    name,\r\n    value: value && {\r\n      type: NodeTypes.TEXT,\r\n      content: value.content,\r\n      loc: value.loc\r\n    },\r\n    loc\r\n  }\r\n}\r\n\r\nfunction parseAttributeValue(\r\n  context: ParserContext\r\n):\r\n  | {\r\n      content: string\r\n      isQuoted: boolean\r\n      loc: SourceLocation\r\n    }\r\n  | undefined {\r\n  const start = getCursor(context)\r\n  let content: string\r\n\r\n  const quote = context.source[0]\r\n  const isQuoted = quote === `\"` || quote === `'`\r\n  if (isQuoted) {\r\n    // Quoted value.\r\n    advanceBy(context, 1)\r\n\r\n    const endIndex = context.source.indexOf(quote)\r\n    if (endIndex === -1) {\r\n      content = parseTextData(\r\n        context,\r\n        context.source.length,\r\n        TextModes.ATTRIBUTE_VALUE\r\n      )\r\n    } else {\r\n      content = parseTextData(context, endIndex, TextModes.ATTRIBUTE_VALUE)\r\n      advanceBy(context, 1)\r\n    }\r\n  } else {\r\n    // Unquoted\r\n    const match = /^[^\\t\\r\\n\\f >]+/.exec(context.source)\r\n    if (!match) {\r\n      return undefined\r\n    }\r\n    let unexpectedChars = /[\"'<=`]/g\r\n    let m: RegExpExecArray | null\r\n    while ((m = unexpectedChars.exec(match[0])) !== null) {\r\n      emitError(\r\n        context,\r\n        ErrorCodes.UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE,\r\n        m.index\r\n      )\r\n    }\r\n    content = parseTextData(context, match[0].length, TextModes.ATTRIBUTE_VALUE)\r\n  }\r\n\r\n  return { content, isQuoted, loc: getSelection(context, start) }\r\n}\r\n\r\nfunction parseInterpolation(\r\n  context: ParserContext,\r\n  mode: TextModes\r\n): InterpolationNode | undefined {\r\n  const [open, close] = context.options.delimiters\r\n  __TEST__ && assert(startsWith(context.source, open))\r\n\r\n  const closeIndex = context.source.indexOf(close, open.length)\r\n  if (closeIndex === -1) {\r\n    emitError(context, ErrorCodes.X_MISSING_INTERPOLATION_END)\r\n    return undefined\r\n  }\r\n\r\n  const start = getCursor(context)\r\n  advanceBy(context, open.length)\r\n  const innerStart = getCursor(context)\r\n  const innerEnd = getCursor(context)\r\n  const rawContentLength = closeIndex - open.length\r\n  const rawContent = context.source.slice(0, rawContentLength)\r\n  const preTrimContent = parseTextData(context, rawContentLength, mode)\r\n  const content = preTrimContent.trim()\r\n  const startOffset = preTrimContent.indexOf(content)\r\n  if (startOffset > 0) {\r\n    advancePositionWithMutation(innerStart, rawContent, startOffset)\r\n  }\r\n  const endOffset =\r\n    rawContentLength - (preTrimContent.length - content.length - startOffset)\r\n  advancePositionWithMutation(innerEnd, rawContent, endOffset)\r\n  advanceBy(context, close.length)\r\n\r\n  return {\r\n    type: NodeTypes.INTERPOLATION,\r\n    content: {\r\n      type: NodeTypes.SIMPLE_EXPRESSION,\r\n      isStatic: false,\r\n      // Set `isConstant` to false by default and will decide in transformExpression\r\n      isConstant: false,\r\n      content,\r\n      loc: getSelection(context, innerStart, innerEnd)\r\n    },\r\n    loc: getSelection(context, start)\r\n  }\r\n}\r\n\r\nfunction parseText(context: ParserContext, mode: TextModes): TextNode {\r\n  __TEST__ && assert(context.source.length > 0)\r\n\r\n  const endTokens = ['<', context.options.delimiters[0]]\r\n  if (mode === TextModes.CDATA) {\r\n    endTokens.push(']]>')\r\n  }\r\n\r\n  let endIndex = context.source.length\r\n  for (let i = 0; i < endTokens.length; i++) {\r\n    const index = context.source.indexOf(endTokens[i], 1)\r\n    if (index !== -1 && endIndex > index) {\r\n      endIndex = index\r\n    }\r\n  }\r\n\r\n  __TEST__ && assert(endIndex > 0)\r\n\r\n  const start = getCursor(context)\r\n  const content = parseTextData(context, endIndex, mode)\r\n\r\n  return {\r\n    type: NodeTypes.TEXT,\r\n    content,\r\n    loc: getSelection(context, start)\r\n  }\r\n}\r\n\r\n/**\r\n * Get text data with a given length from the current location.\r\n * This translates HTML entities in the text data.\r\n */\r\nfunction parseTextData(\r\n  context: ParserContext,\r\n  length: number,\r\n  mode: TextModes\r\n): string {\r\n  let rawText = context.source.slice(0, length)\r\n  if (\r\n    mode === TextModes.RAWTEXT ||\r\n    mode === TextModes.CDATA ||\r\n    rawText.indexOf('&') === -1\r\n  ) {\r\n    advanceBy(context, length)\r\n    return rawText\r\n  }\r\n\r\n  // DATA or RCDATA containing \"&\"\". Entity decoding required.\r\n  const end = context.offset + length\r\n  let decodedText = ''\r\n\r\n  function advance(length: number) {\r\n    advanceBy(context, length)\r\n    rawText = rawText.slice(length)\r\n  }\r\n\r\n  while (context.offset < end) {\r\n    const head = /&(?:#x?)?/i.exec(rawText)\r\n    if (!head || context.offset + head.index >= end) {\r\n      const remaining = end - context.offset\r\n      decodedText += rawText.slice(0, remaining)\r\n      advance(remaining)\r\n      break\r\n    }\r\n\r\n    // Advance to the \"&\".\r\n    decodedText += rawText.slice(0, head.index)\r\n    advance(head.index)\r\n\r\n    if (head[0] === '&') {\r\n      // Named character reference.\r\n      let name = '',\r\n        value: string | undefined = undefined\r\n      if (/[0-9a-z]/i.test(rawText[1])) {\r\n        for (\r\n          let length = context.options.maxCRNameLength;\r\n          !value && length > 0;\r\n          --length\r\n        ) {\r\n          name = rawText.substr(1, length)\r\n          value = context.options.namedCharacterReferences[name]\r\n        }\r\n        if (value) {\r\n          const semi = name.endsWith(';')\r\n          if (\r\n            mode === TextModes.ATTRIBUTE_VALUE &&\r\n            !semi &&\r\n            /[=a-z0-9]/i.test(rawText[1 + name.length] || '')\r\n          ) {\r\n            decodedText += '&' + name\r\n            advance(1 + name.length)\r\n          } else {\r\n            decodedText += value\r\n            advance(1 + name.length)\r\n            if (!semi) {\r\n              emitError(\r\n                context,\r\n                ErrorCodes.MISSING_SEMICOLON_AFTER_CHARACTER_REFERENCE\r\n              )\r\n            }\r\n          }\r\n        } else {\r\n          emitError(context, ErrorCodes.UNKNOWN_NAMED_CHARACTER_REFERENCE)\r\n          decodedText += '&' + name\r\n          advance(1 + name.length)\r\n        }\r\n      } else {\r\n        decodedText += '&'\r\n        advance(1)\r\n      }\r\n    } else {\r\n      // Numeric character reference.\r\n      const hex = head[0] === '&#x'\r\n      const pattern = hex ? /^&#x([0-9a-f]+);?/i : /^&#([0-9]+);?/\r\n      const body = pattern.exec(rawText)\r\n      if (!body) {\r\n        decodedText += head[0]\r\n        emitError(\r\n          context,\r\n          ErrorCodes.ABSENCE_OF_DIGITS_IN_NUMERIC_CHARACTER_REFERENCE\r\n        )\r\n        advance(head[0].length)\r\n      } else {\r\n        // https://html.spec.whatwg.org/multipage/parsing.html#numeric-character-reference-end-state\r\n        let cp = Number.parseInt(body[1], hex ? 16 : 10)\r\n        if (cp === 0) {\r\n          emitError(context, ErrorCodes.NULL_CHARACTER_REFERENCE)\r\n          cp = 0xfffd\r\n        } else if (cp > 0x10ffff) {\r\n          emitError(\r\n            context,\r\n            ErrorCodes.CHARACTER_REFERENCE_OUTSIDE_UNICODE_RANGE\r\n          )\r\n          cp = 0xfffd\r\n        } else if (cp >= 0xd800 && cp <= 0xdfff) {\r\n          emitError(context, ErrorCodes.SURROGATE_CHARACTER_REFERENCE)\r\n          cp = 0xfffd\r\n        } else if ((cp >= 0xfdd0 && cp <= 0xfdef) || (cp & 0xfffe) === 0xfffe) {\r\n          emitError(context, ErrorCodes.NONCHARACTER_CHARACTER_REFERENCE)\r\n        } else if (\r\n          (cp >= 0x01 && cp <= 0x08) ||\r\n          cp === 0x0b ||\r\n          (cp >= 0x0d && cp <= 0x1f) ||\r\n          (cp >= 0x7f && cp <= 0x9f)\r\n        ) {\r\n          emitError(context, ErrorCodes.CONTROL_CHARACTER_REFERENCE)\r\n          cp = CCR_REPLACEMENTS[cp] || cp\r\n        }\r\n        decodedText += String.fromCodePoint(cp)\r\n        advance(body[0].length)\r\n        if (!body![0].endsWith(';')) {\r\n          emitError(\r\n            context,\r\n            ErrorCodes.MISSING_SEMICOLON_AFTER_CHARACTER_REFERENCE\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return decodedText\r\n}\r\n\r\nfunction getCursor(context: ParserContext): Position {\r\n  const { column, line, offset } = context\r\n  return { column, line, offset }\r\n}\r\n\r\nfunction getSelection(\r\n  context: ParserContext,\r\n  start: Position,\r\n  end?: Position\r\n): SourceLocation {\r\n  end = end || getCursor(context)\r\n  return {\r\n    start,\r\n    end,\r\n    source: context.originalSource.slice(start.offset, end.offset)\r\n  }\r\n}\r\n\r\nfunction last<T>(xs: T[]): T | undefined {\r\n  return xs[xs.length - 1]\r\n}\r\n\r\nfunction startsWith(source: string, searchString: string): boolean {\r\n  return source.startsWith(searchString)\r\n}\r\n\r\nfunction advanceBy(context: ParserContext, numberOfCharacters: number): void {\r\n  const { source } = context\r\n  __TEST__ && assert(numberOfCharacters <= source.length)\r\n  advancePositionWithMutation(context, source, numberOfCharacters)\r\n  context.source = source.slice(numberOfCharacters)\r\n}\r\n\r\nfunction advanceSpaces(context: ParserContext): void {\r\n  const match = /^[\\t\\r\\n\\f ]+/.exec(context.source)\r\n  if (match) {\r\n    advanceBy(context, match[0].length)\r\n  }\r\n}\r\n\r\nfunction getNewPosition(\r\n  context: ParserContext,\r\n  start: Position,\r\n  numberOfCharacters: number\r\n): Position {\r\n  return advancePositionWithClone(\r\n    start,\r\n    context.originalSource.slice(start.offset, numberOfCharacters),\r\n    numberOfCharacters\r\n  )\r\n}\r\n\r\nfunction emitError(\r\n  context: ParserContext,\r\n  code: ErrorCodes,\r\n  offset?: number\r\n): void {\r\n  const loc = getCursor(context)\r\n  if (offset) {\r\n    loc.offset += offset\r\n    loc.column += offset\r\n  }\r\n  context.options.onError(\r\n    createCompilerError(code, {\r\n      start: loc,\r\n      end: loc,\r\n      source: ''\r\n    })\r\n  )\r\n}\r\n\r\nfunction isEnd(\r\n  context: ParserContext,\r\n  mode: TextModes,\r\n  ancestors: ElementNode[]\r\n): boolean {\r\n  const s = context.source\r\n\r\n  switch (mode) {\r\n    case TextModes.DATA:\r\n      if (startsWith(s, '</')) {\r\n        //TODO: probably bad performance\r\n        for (let i = ancestors.length - 1; i >= 0; --i) {\r\n          if (startsWithEndTagOpen(s, ancestors[i].tag)) {\r\n            return true\r\n          }\r\n        }\r\n      }\r\n      break\r\n\r\n    case TextModes.RCDATA:\r\n    case TextModes.RAWTEXT: {\r\n      const parent = last(ancestors)\r\n      if (parent && startsWithEndTagOpen(s, parent.tag)) {\r\n        return true\r\n      }\r\n      break\r\n    }\r\n\r\n    case TextModes.CDATA:\r\n      if (startsWith(s, ']]>')) {\r\n        return true\r\n      }\r\n      break\r\n  }\r\n\r\n  return !s\r\n}\r\n\r\nfunction startsWithEndTagOpen(source: string, tag: string): boolean {\r\n  return (\r\n    startsWith(source, '</') &&\r\n    source.substr(2, tag.length).toLowerCase() === tag.toLowerCase() &&\r\n    /[\\t\\n\\f />]/.test(source[2 + tag.length] || '>')\r\n  )\r\n}\r\n\r\n// https://html.spec.whatwg.org/multipage/parsing.html#numeric-character-reference-end-state\r\nconst CCR_REPLACEMENTS: { [key: number]: number | undefined } = {\r\n  0x80: 0x20ac,\r\n  0x82: 0x201a,\r\n  0x83: 0x0192,\r\n  0x84: 0x201e,\r\n  0x85: 0x2026,\r\n  0x86: 0x2020,\r\n  0x87: 0x2021,\r\n  0x88: 0x02c6,\r\n  0x89: 0x2030,\r\n  0x8a: 0x0160,\r\n  0x8b: 0x2039,\r\n  0x8c: 0x0152,\r\n  0x8e: 0x017d,\r\n  0x91: 0x2018,\r\n  0x92: 0x2019,\r\n  0x93: 0x201c,\r\n  0x94: 0x201d,\r\n  0x95: 0x2022,\r\n  0x96: 0x2013,\r\n  0x97: 0x2014,\r\n  0x98: 0x02dc,\r\n  0x99: 0x2122,\r\n  0x9a: 0x0161,\r\n  0x9b: 0x203a,\r\n  0x9c: 0x0153,\r\n  0x9e: 0x017e,\r\n  0x9f: 0x0178\r\n}\r\n","import {\r\n  RootNode,\r\n  NodeTypes,\r\n  TemplateChildNode,\r\n  SimpleExpressionNode,\r\n  ElementTypes,\r\n  PlainElementNode,\r\n  ComponentNode,\r\n  TemplateNode,\r\n  ElementNode,\r\n  PlainElementCodegenNode,\r\n  CodegenNodeWithDirective\r\n} from '../ast'\r\nimport { TransformContext } from '../transform'\r\nimport { WITH_DIRECTIVES } from '../runtimeHelpers'\r\nimport { PatchFlags, isString, isSymbol } from '@vue/shared'\r\nimport { isSlotOutlet, findProp } from '../utils'\r\n\r\nexport function hoistStatic(root: RootNode, context: TransformContext) {\r\n  walk(\r\n    root.children,\r\n    context,\r\n    new Map(),\r\n    isSingleElementRoot(root, root.children[0])\r\n  )\r\n}\r\n\r\nexport function isSingleElementRoot(\r\n  root: RootNode,\r\n  child: TemplateChildNode\r\n): child is PlainElementNode | ComponentNode | TemplateNode {\r\n  const { children } = root\r\n  return (\r\n    children.length === 1 &&\r\n    child.type === NodeTypes.ELEMENT &&\r\n    !isSlotOutlet(child)\r\n  )\r\n}\r\n\r\nfunction walk(\r\n  children: TemplateChildNode[],\r\n  context: TransformContext,\r\n  resultCache: Map<TemplateChildNode, boolean>,\r\n  doNotHoistNode: boolean = false\r\n) {\r\n  for (let i = 0; i < children.length; i++) {\r\n    const child = children[i]\r\n    // only plain elements are eligible for hoisting.\r\n    if (\r\n      child.type === NodeTypes.ELEMENT &&\r\n      child.tagType === ElementTypes.ELEMENT\r\n    ) {\r\n      if (!doNotHoistNode && isStaticNode(child, resultCache)) {\r\n        // whole tree is static\r\n        child.codegenNode = context.hoist(child.codegenNode!)\r\n        continue\r\n      } else {\r\n        // node may contain dynamic children, but its props may be eligible for\r\n        // hoisting.\r\n        const codegenNode = child.codegenNode!\r\n        if (codegenNode.type === NodeTypes.JS_CALL_EXPRESSION) {\r\n          const flag = getPatchFlag(codegenNode)\r\n          if (\r\n            (!flag ||\r\n              flag === PatchFlags.NEED_PATCH ||\r\n              flag === PatchFlags.TEXT) &&\r\n            !hasDynamicKeyOrRef(child) &&\r\n            !hasCachedProps(child)\r\n          ) {\r\n            const props = getNodeProps(child)\r\n            if (props && props !== `null`) {\r\n              getVNodeCall(codegenNode).arguments[1] = context.hoist(props)\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (child.type === NodeTypes.ELEMENT) {\r\n      walk(child.children, context, resultCache)\r\n    } else if (child.type === NodeTypes.FOR) {\r\n      // Do not hoist v-for single child because it has to be a block\r\n      walk(child.children, context, resultCache, child.children.length === 1)\r\n    } else if (child.type === NodeTypes.IF) {\r\n      for (let i = 0; i < child.branches.length; i++) {\r\n        const branchChildren = child.branches[i].children\r\n        // Do not hoist v-if single child because it has to be a block\r\n        walk(branchChildren, context, resultCache, branchChildren.length === 1)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport function isStaticNode(\r\n  node: TemplateChildNode | SimpleExpressionNode,\r\n  resultCache: Map<TemplateChildNode, boolean> = new Map()\r\n): boolean {\r\n  switch (node.type) {\r\n    case NodeTypes.ELEMENT:\r\n      if (node.tagType !== ElementTypes.ELEMENT) {\r\n        return false\r\n      }\r\n      const cached = resultCache.get(node)\r\n      if (cached !== undefined) {\r\n        return cached\r\n      }\r\n      const codegenNode = node.codegenNode!\r\n      if (codegenNode.type !== NodeTypes.JS_CALL_EXPRESSION) {\r\n        return false\r\n      }\r\n      const flag = getPatchFlag(codegenNode)\r\n      if (!flag && !hasDynamicKeyOrRef(node) && !hasCachedProps(node)) {\r\n        // element self is static. check its children.\r\n        for (let i = 0; i < node.children.length; i++) {\r\n          if (!isStaticNode(node.children[i], resultCache)) {\r\n            resultCache.set(node, false)\r\n            return false\r\n          }\r\n        }\r\n        resultCache.set(node, true)\r\n        return true\r\n      } else {\r\n        resultCache.set(node, false)\r\n        return false\r\n      }\r\n    case NodeTypes.TEXT:\r\n    case NodeTypes.COMMENT:\r\n      return true\r\n    case NodeTypes.IF:\r\n    case NodeTypes.FOR:\r\n      return false\r\n    case NodeTypes.INTERPOLATION:\r\n    case NodeTypes.TEXT_CALL:\r\n      return isStaticNode(node.content, resultCache)\r\n    case NodeTypes.SIMPLE_EXPRESSION:\r\n      return node.isConstant\r\n    case NodeTypes.COMPOUND_EXPRESSION:\r\n      return node.children.every(child => {\r\n        return (\r\n          isString(child) || isSymbol(child) || isStaticNode(child, resultCache)\r\n        )\r\n      })\r\n    default:\r\n      if (__DEV__) {\r\n        const exhaustiveCheck: never = node\r\n        exhaustiveCheck\r\n      }\r\n      return false\r\n  }\r\n}\r\n\r\nfunction hasDynamicKeyOrRef(node: ElementNode): boolean {\r\n  return !!(findProp(node, 'key', true) || findProp(node, 'ref', true))\r\n}\r\n\r\nfunction hasCachedProps(node: PlainElementNode): boolean {\r\n  if (__BROWSER__) {\r\n    return false\r\n  }\r\n  const props = getNodeProps(node)\r\n  if (\r\n    props &&\r\n    props !== 'null' &&\r\n    props.type === NodeTypes.JS_OBJECT_EXPRESSION\r\n  ) {\r\n    const { properties } = props\r\n    for (let i = 0; i < properties.length; i++) {\r\n      if (properties[i].value.type === NodeTypes.JS_CACHE_EXPRESSION) {\r\n        return true\r\n      }\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nfunction getNodeProps(node: PlainElementNode) {\r\n  const codegenNode = node.codegenNode!\r\n  if (codegenNode.type === NodeTypes.JS_CALL_EXPRESSION) {\r\n    return getVNodeArgAt(\r\n      codegenNode,\r\n      1\r\n    ) as PlainElementCodegenNode['arguments'][1]\r\n  }\r\n}\r\n\r\ntype NonCachedCodegenNode =\r\n  | PlainElementCodegenNode\r\n  | CodegenNodeWithDirective<PlainElementCodegenNode>\r\n\r\nfunction getVNodeArgAt(\r\n  node: NonCachedCodegenNode,\r\n  index: number\r\n): PlainElementCodegenNode['arguments'][number] {\r\n  return getVNodeCall(node).arguments[index]\r\n}\r\n\r\nfunction getVNodeCall(node: NonCachedCodegenNode) {\r\n  return node.callee === WITH_DIRECTIVES ? node.arguments[0] : node\r\n}\r\n\r\nfunction getPatchFlag(node: NonCachedCodegenNode): number | undefined {\r\n  const flag = getVNodeArgAt(node, 3) as string\r\n  return flag ? parseInt(flag, 10) : undefined\r\n}\r\n","import {\r\n  RootNode,\r\n  NodeTypes,\r\n  ParentNode,\r\n  TemplateChildNode,\r\n  ElementNode,\r\n  DirectiveNode,\r\n  Property,\r\n  ExpressionNode,\r\n  createSimpleExpression,\r\n  JSChildNode,\r\n  SimpleExpressionNode,\r\n  ElementTypes,\r\n  ElementCodegenNode,\r\n  ComponentCodegenNode,\r\n  createCallExpression,\r\n  CacheExpression,\r\n  createCacheExpression\r\n} from './ast'\r\nimport { isString, isArray } from '@vue/shared'\r\nimport { CompilerError, defaultOnError } from './errors'\r\nimport {\r\n  TO_STRING,\r\n  FRAGMENT,\r\n  helperNameMap,\r\n  WITH_DIRECTIVES,\r\n  CREATE_BLOCK,\r\n  CREATE_COMMENT\r\n} from './runtimeHelpers'\r\nimport { isVSlot, createBlockExpression } from './utils'\r\nimport { hoistStatic, isSingleElementRoot } from './transforms/hoistStatic'\r\n\r\n// There are two types of transforms:\r\n//\r\n// - NodeTransform:\r\n//   Transforms that operate directly on a ChildNode. NodeTransforms may mutate,\r\n//   replace or remove the node being processed.\r\nexport type NodeTransform = (\r\n  node: RootNode | TemplateChildNode,\r\n  context: TransformContext\r\n) => void | (() => void) | (() => void)[]\r\n\r\n// - DirectiveTransform:\r\n//   Transforms that handles a single directive attribute on an element.\r\n//   It translates the raw directive into actual props for the VNode.\r\nexport type DirectiveTransform = (\r\n  dir: DirectiveNode,\r\n  node: ElementNode,\r\n  context: TransformContext,\r\n  // a platform specific compiler can import the base transform and augment\r\n  // it by passing in this optional argument.\r\n  augmentor?: (ret: DirectiveTransformResult) => DirectiveTransformResult\r\n) => DirectiveTransformResult\r\n\r\nexport interface DirectiveTransformResult {\r\n  props: Property[]\r\n  needRuntime: boolean | symbol\r\n}\r\n\r\n// A structural directive transform is a technically a NodeTransform;\r\n// Only v-if and v-for fall into this category.\r\nexport type StructuralDirectiveTransform = (\r\n  node: ElementNode,\r\n  dir: DirectiveNode,\r\n  context: TransformContext\r\n) => void | (() => void)\r\n\r\nexport interface TransformOptions {\r\n  nodeTransforms?: NodeTransform[]\r\n  directiveTransforms?: { [name: string]: DirectiveTransform }\r\n  prefixIdentifiers?: boolean\r\n  hoistStatic?: boolean\r\n  cacheHandlers?: boolean\r\n  onError?: (error: CompilerError) => void\r\n}\r\n\r\nexport interface TransformContext extends Required<TransformOptions> {\r\n  root: RootNode\r\n  helpers: Set<symbol>\r\n  components: Set<string>\r\n  directives: Set<string>\r\n  hoists: JSChildNode[]\r\n  cached: number\r\n  identifiers: { [name: string]: number | undefined }\r\n  scopes: {\r\n    vFor: number\r\n    vSlot: number\r\n    vPre: number\r\n    vOnce: number\r\n  }\r\n  parent: ParentNode | null\r\n  childIndex: number\r\n  currentNode: RootNode | TemplateChildNode | null\r\n  helper<T extends symbol>(name: T): T\r\n  helperString(name: symbol): string\r\n  replaceNode(node: TemplateChildNode): void\r\n  removeNode(node?: TemplateChildNode): void\r\n  onNodeRemoved(): void\r\n  addIdentifiers(exp: ExpressionNode | string): void\r\n  removeIdentifiers(exp: ExpressionNode | string): void\r\n  hoist(exp: JSChildNode): SimpleExpressionNode\r\n  cache<T extends JSChildNode>(exp: T, isVNode?: boolean): CacheExpression | T\r\n}\r\n\r\nfunction createTransformContext(\r\n  root: RootNode,\r\n  {\r\n    prefixIdentifiers = false,\r\n    hoistStatic = false,\r\n    cacheHandlers = false,\r\n    nodeTransforms = [],\r\n    directiveTransforms = {},\r\n    onError = defaultOnError\r\n  }: TransformOptions\r\n): TransformContext {\r\n  const context: TransformContext = {\r\n    root,\r\n    helpers: new Set(),\r\n    components: new Set(),\r\n    directives: new Set(),\r\n    hoists: [],\r\n    cached: 0,\r\n    identifiers: {},\r\n    scopes: {\r\n      vFor: 0,\r\n      vSlot: 0,\r\n      vPre: 0,\r\n      vOnce: 0\r\n    },\r\n    prefixIdentifiers,\r\n    hoistStatic,\r\n    cacheHandlers,\r\n    nodeTransforms,\r\n    directiveTransforms,\r\n    onError,\r\n    parent: null,\r\n    currentNode: root,\r\n    childIndex: 0,\r\n    helper(name) {\r\n      context.helpers.add(name)\r\n      return name\r\n    },\r\n    helperString(name) {\r\n      return (\r\n        (context.prefixIdentifiers ? `` : `_`) +\r\n        helperNameMap[context.helper(name)]\r\n      )\r\n    },\r\n    replaceNode(node) {\r\n      /* istanbul ignore if */\r\n      if (__DEV__) {\r\n        if (!context.currentNode) {\r\n          throw new Error(`Node being replaced is already removed.`)\r\n        }\r\n        if (!context.parent) {\r\n          throw new Error(`Cannot replace root node.`)\r\n        }\r\n      }\r\n      context.parent!.children[context.childIndex] = context.currentNode = node\r\n    },\r\n    removeNode(node) {\r\n      if (__DEV__ && !context.parent) {\r\n        throw new Error(`Cannot remove root node.`)\r\n      }\r\n      const list = context.parent!.children\r\n      const removalIndex = node\r\n        ? list.indexOf(node)\r\n        : context.currentNode\r\n          ? context.childIndex\r\n          : -1\r\n      /* istanbul ignore if */\r\n      if (__DEV__ && removalIndex < 0) {\r\n        throw new Error(`node being removed is not a child of current parent`)\r\n      }\r\n      if (!node || node === context.currentNode) {\r\n        // current node removed\r\n        context.currentNode = null\r\n        context.onNodeRemoved()\r\n      } else {\r\n        // sibling node removed\r\n        if (context.childIndex > removalIndex) {\r\n          context.childIndex--\r\n          context.onNodeRemoved()\r\n        }\r\n      }\r\n      context.parent!.children.splice(removalIndex, 1)\r\n    },\r\n    onNodeRemoved: () => {},\r\n    addIdentifiers(exp) {\r\n      // identifier tracking only happens in non-browser builds.\r\n      if (!__BROWSER__) {\r\n        if (isString(exp)) {\r\n          addId(exp)\r\n        } else if (exp.identifiers) {\r\n          exp.identifiers.forEach(addId)\r\n        } else if (exp.type === NodeTypes.SIMPLE_EXPRESSION) {\r\n          addId(exp.content)\r\n        }\r\n      }\r\n    },\r\n    removeIdentifiers(exp) {\r\n      if (!__BROWSER__) {\r\n        if (isString(exp)) {\r\n          removeId(exp)\r\n        } else if (exp.identifiers) {\r\n          exp.identifiers.forEach(removeId)\r\n        } else if (exp.type === NodeTypes.SIMPLE_EXPRESSION) {\r\n          removeId(exp.content)\r\n        }\r\n      }\r\n    },\r\n    hoist(exp) {\r\n      context.hoists.push(exp)\r\n      return createSimpleExpression(\r\n        `_hoisted_${context.hoists.length}`,\r\n        false,\r\n        exp.loc,\r\n        true\r\n      )\r\n    },\r\n    cache(exp, isVNode = false) {\r\n      return createCacheExpression(++context.cached, exp, isVNode)\r\n    }\r\n  }\r\n\r\n  function addId(id: string) {\r\n    const { identifiers } = context\r\n    if (identifiers[id] === undefined) {\r\n      identifiers[id] = 0\r\n    }\r\n    identifiers[id]!++\r\n  }\r\n\r\n  function removeId(id: string) {\r\n    context.identifiers[id]!--\r\n  }\r\n\r\n  return context\r\n}\r\n\r\nexport function transform(root: RootNode, options: TransformOptions) {\r\n  const context = createTransformContext(root, options)\r\n  traverseNode(root, context)\r\n  if (options.hoistStatic) {\r\n    hoistStatic(root, context)\r\n  }\r\n  finalizeRoot(root, context)\r\n}\r\n\r\nfunction finalizeRoot(root: RootNode, context: TransformContext) {\r\n  const { helper } = context\r\n  const { children } = root\r\n  const child = children[0]\r\n  if (children.length === 1) {\r\n    // if the single child is an element, turn it into a block.\r\n    if (isSingleElementRoot(root, child) && child.codegenNode) {\r\n      // single element root is never hoisted so codegenNode will never be\r\n      // SimpleExpressionNode\r\n      const codegenNode = child.codegenNode as\r\n        | ElementCodegenNode\r\n        | ComponentCodegenNode\r\n        | CacheExpression\r\n      if (codegenNode.type !== NodeTypes.JS_CACHE_EXPRESSION) {\r\n        if (codegenNode.callee === WITH_DIRECTIVES) {\r\n          codegenNode.arguments[0].callee = helper(CREATE_BLOCK)\r\n        } else {\r\n          codegenNode.callee = helper(CREATE_BLOCK)\r\n        }\r\n        root.codegenNode = createBlockExpression(codegenNode, context)\r\n      } else {\r\n        root.codegenNode = codegenNode\r\n      }\r\n    } else {\r\n      // - single <slot/>, IfNode, ForNode: already blocks.\r\n      // - single text node: always patched.\r\n      // root codegen falls through via genNode()\r\n      root.codegenNode = child\r\n    }\r\n  } else if (children.length > 1) {\r\n    // root has multiple nodes - return a fragment block.\r\n    root.codegenNode = createBlockExpression(\r\n      createCallExpression(helper(CREATE_BLOCK), [\r\n        helper(FRAGMENT),\r\n        `null`,\r\n        root.children\r\n      ]),\r\n      context\r\n    )\r\n  } else {\r\n    // no children = noop. codegen will return null.\r\n  }\r\n  // finalize meta information\r\n  root.helpers = [...context.helpers]\r\n  root.components = [...context.components]\r\n  root.directives = [...context.directives]\r\n  root.hoists = context.hoists\r\n  root.cached = context.cached\r\n}\r\n\r\nexport function traverseChildren(\r\n  parent: ParentNode,\r\n  context: TransformContext\r\n) {\r\n  let i = 0\r\n  const nodeRemoved = () => {\r\n    i--\r\n  }\r\n  for (; i < parent.children.length; i++) {\r\n    const child = parent.children[i]\r\n    if (isString(child)) continue\r\n    context.currentNode = child\r\n    context.parent = parent\r\n    context.childIndex = i\r\n    context.onNodeRemoved = nodeRemoved\r\n    traverseNode(child, context)\r\n  }\r\n}\r\n\r\nexport function traverseNode(\r\n  node: RootNode | TemplateChildNode,\r\n  context: TransformContext\r\n) {\r\n  // apply transform plugins\r\n  const { nodeTransforms } = context\r\n  const exitFns = []\r\n  for (let i = 0; i < nodeTransforms.length; i++) {\r\n    const onExit = nodeTransforms[i](node, context)\r\n    if (onExit) {\r\n      if (isArray(onExit)) {\r\n        exitFns.push(...onExit)\r\n      } else {\r\n        exitFns.push(onExit)\r\n      }\r\n    }\r\n    if (!context.currentNode) {\r\n      // node was removed\r\n      return\r\n    } else {\r\n      // node may have been replaced\r\n      node = context.currentNode\r\n    }\r\n  }\r\n\r\n  switch (node.type) {\r\n    case NodeTypes.COMMENT:\r\n      // inject import for the Comment symbol, which is needed for creating\r\n      // comment nodes with `createVNode`\r\n      context.helper(CREATE_COMMENT)\r\n      break\r\n    case NodeTypes.INTERPOLATION:\r\n      // no need to traverse, but we need to inject toString helper\r\n      context.helper(TO_STRING)\r\n      break\r\n\r\n    // for container types, further traverse downwards\r\n    case NodeTypes.IF:\r\n      for (let i = 0; i < node.branches.length; i++) {\r\n        traverseChildren(node.branches[i], context)\r\n      }\r\n      break\r\n    case NodeTypes.FOR:\r\n    case NodeTypes.ELEMENT:\r\n    case NodeTypes.ROOT:\r\n      traverseChildren(node, context)\r\n      break\r\n  }\r\n\r\n  // exit transforms\r\n  let i = exitFns.length\r\n  while (i--) {\r\n    exitFns[i]()\r\n  }\r\n}\r\n\r\nexport function createStructuralDirectiveTransform(\r\n  name: string | RegExp,\r\n  fn: StructuralDirectiveTransform\r\n): NodeTransform {\r\n  const matches = isString(name)\r\n    ? (n: string) => n === name\r\n    : (n: string) => name.test(n)\r\n\r\n  return (node, context) => {\r\n    if (node.type === NodeTypes.ELEMENT) {\r\n      const { props } = node\r\n      // structural directive transforms are not concerned with slots\r\n      // as they are handled separately in vSlot.ts\r\n      if (node.tagType === ElementTypes.TEMPLATE && props.some(isVSlot)) {\r\n        return\r\n      }\r\n      const exitFns = []\r\n      for (let i = 0; i < props.length; i++) {\r\n        const prop = props[i]\r\n        if (prop.type === NodeTypes.DIRECTIVE && matches(prop.name)) {\r\n          // structural directives are removed to avoid infinite recursion\r\n          // also we remove them *before* applying so that it can further\r\n          // traverse itself in case it moves the node around\r\n          props.splice(i, 1)\r\n          i--\r\n          const onExit = fn(node, prop, context)\r\n          if (onExit) exitFns.push(onExit)\r\n        }\r\n      }\r\n      return exitFns\r\n    }\r\n  }\r\n}\r\n","import {\r\n  RootNode,\r\n  TemplateChildNode,\r\n  TextNode,\r\n  CommentNode,\r\n  ExpressionNode,\r\n  NodeTypes,\r\n  JSChildNode,\r\n  CallExpression,\r\n  ArrayExpression,\r\n  ObjectExpression,\r\n  SourceLocation,\r\n  Position,\r\n  InterpolationNode,\r\n  CompoundExpressionNode,\r\n  SimpleExpressionNode,\r\n  FunctionExpression,\r\n  SequenceExpression,\r\n  ConditionalExpression,\r\n  CacheExpression\r\n} from './ast'\r\nimport { SourceMapGenerator, RawSourceMap } from 'source-map'\r\nimport {\r\n  advancePositionWithMutation,\r\n  assert,\r\n  isSimpleIdentifier,\r\n  loadDep,\r\n  toValidAssetId\r\n} from './utils'\r\nimport { isString, isArray, isSymbol } from '@vue/shared'\r\nimport {\r\n  helperNameMap,\r\n  TO_STRING,\r\n  CREATE_VNODE,\r\n  RESOLVE_COMPONENT,\r\n  RESOLVE_DIRECTIVE,\r\n  SET_BLOCK_TRACKING,\r\n  CREATE_COMMENT,\r\n  CREATE_TEXT\r\n} from './runtimeHelpers'\r\n\r\ntype CodegenNode = TemplateChildNode | JSChildNode\r\n\r\nexport interface CodegenOptions {\r\n  // - Module mode will generate ES module import statements for helpers\r\n  //   and export the render function as the default export.\r\n  // - Function mode will generate a single `const { helpers... } = Vue`\r\n  //   statement and return the render function. It is meant to be used with\r\n  //   `new Function(code)()` to generate a render function at runtime.\r\n  // Default: 'function'\r\n  mode?: 'module' | 'function'\r\n  // Prefix suitable identifiers with _ctx.\r\n  // If this option is false, the generated code will be wrapped in a\r\n  // `with (this) { ... }` block.\r\n  // Default: false\r\n  prefixIdentifiers?: boolean\r\n  // Generate source map?\r\n  // Default: false\r\n  sourceMap?: boolean\r\n  // Filename for source map generation.\r\n  // Default: `template.vue.html`\r\n  filename?: string\r\n}\r\n\r\nexport interface CodegenResult {\r\n  code: string\r\n  ast: RootNode\r\n  map?: RawSourceMap\r\n}\r\n\r\nexport interface CodegenContext extends Required<CodegenOptions> {\r\n  source: string\r\n  code: string\r\n  line: number\r\n  column: number\r\n  offset: number\r\n  indentLevel: number\r\n  map?: SourceMapGenerator\r\n  helper(key: symbol): string\r\n  push(code: string, node?: CodegenNode, openOnly?: boolean): void\r\n  resetMapping(loc: SourceLocation): void\r\n  indent(): void\r\n  deindent(withoutNewLine?: boolean): void\r\n  newline(): void\r\n}\r\n\r\nfunction createCodegenContext(\r\n  ast: RootNode,\r\n  {\r\n    mode = 'function',\r\n    prefixIdentifiers = mode === 'module',\r\n    sourceMap = false,\r\n    filename = `template.vue.html`\r\n  }: CodegenOptions\r\n): CodegenContext {\r\n  const context: CodegenContext = {\r\n    mode,\r\n    prefixIdentifiers,\r\n    sourceMap,\r\n    filename,\r\n    source: ast.loc.source,\r\n    code: ``,\r\n    column: 1,\r\n    line: 1,\r\n    offset: 0,\r\n    indentLevel: 0,\r\n\r\n    // lazy require source-map implementation, only in non-browser builds!\r\n    map:\r\n      __BROWSER__ || !sourceMap\r\n        ? undefined\r\n        : new (loadDep('source-map')).SourceMapGenerator(),\r\n\r\n    helper(key) {\r\n      const name = helperNameMap[key]\r\n      return prefixIdentifiers ? name : `_${name}`\r\n    },\r\n    push(code, node, openOnly) {\r\n      context.code += code\r\n      if (!__BROWSER__ && context.map) {\r\n        if (node) {\r\n          let name\r\n          if (node.type === NodeTypes.SIMPLE_EXPRESSION && !node.isStatic) {\r\n            const content = node.content.replace(/^_ctx\\./, '')\r\n            if (content !== node.content && isSimpleIdentifier(content)) {\r\n              name = content\r\n            }\r\n          }\r\n          addMapping(node.loc.start, name)\r\n        }\r\n        advancePositionWithMutation(context, code)\r\n        if (node && !openOnly) {\r\n          addMapping(node.loc.end)\r\n        }\r\n      }\r\n    },\r\n    resetMapping(loc: SourceLocation) {\r\n      if (!__BROWSER__ && context.map) {\r\n        addMapping(loc.start)\r\n      }\r\n    },\r\n    indent() {\r\n      newline(++context.indentLevel)\r\n    },\r\n    deindent(withoutNewLine = false) {\r\n      if (withoutNewLine) {\r\n        --context.indentLevel\r\n      } else {\r\n        newline(--context.indentLevel)\r\n      }\r\n    },\r\n    newline() {\r\n      newline(context.indentLevel)\r\n    }\r\n  }\r\n\r\n  function newline(n: number) {\r\n    context.push('\\n' + `  `.repeat(n))\r\n  }\r\n\r\n  function addMapping(loc: Position, name?: string) {\r\n    context.map!.addMapping({\r\n      name,\r\n      source: context.filename,\r\n      original: {\r\n        line: loc.line,\r\n        column: loc.column - 1 // source-map column is 0 based\r\n      },\r\n      generated: {\r\n        line: context.line,\r\n        column: context.column - 1\r\n      }\r\n    })\r\n  }\r\n\r\n  if (!__BROWSER__ && context.map) {\r\n    context.map.setSourceContent(filename, context.source)\r\n  }\r\n  return context\r\n}\r\n\r\nexport function generate(\r\n  ast: RootNode,\r\n  options: CodegenOptions = {}\r\n): CodegenResult {\r\n  const context = createCodegenContext(ast, options)\r\n  const {\r\n    mode,\r\n    push,\r\n    helper,\r\n    prefixIdentifiers,\r\n    indent,\r\n    deindent,\r\n    newline\r\n  } = context\r\n  const hasHelpers = ast.helpers.length > 0\r\n  const useWithBlock = !prefixIdentifiers && mode !== 'module'\r\n\r\n  // preambles\r\n  if (mode === 'function') {\r\n    // Generate const declaration for helpers\r\n    // In prefix mode, we place the const declaration at top so it's done\r\n    // only once; But if we not prefixing, we place the declaration inside the\r\n    // with block so it doesn't incur the `in` check cost for every helper access.\r\n    if (hasHelpers) {\r\n      if (prefixIdentifiers) {\r\n        push(`const { ${ast.helpers.map(helper).join(', ')} } = Vue\\n`)\r\n      } else {\r\n        // \"with\" mode.\r\n        // save Vue in a separate variable to avoid collision\r\n        push(`const _Vue = Vue\\n`)\r\n        // in \"with\" mode, helpers are declared inside the with block to avoid\r\n        // has check cost, but hoists are lifted out of the function - we need\r\n        // to provide the helper here.\r\n        if (ast.hoists.length) {\r\n          const staticHelpers = [CREATE_VNODE, CREATE_COMMENT, CREATE_TEXT]\r\n            .filter(helper => ast.helpers.includes(helper))\r\n            .map(s => `${helperNameMap[s]}: _${helperNameMap[s]}`)\r\n            .join(', ')\r\n          push(`const { ${staticHelpers} } = Vue\\n`)\r\n        }\r\n      }\r\n    }\r\n    genHoists(ast.hoists, context)\r\n    newline()\r\n    push(`return `)\r\n  } else {\r\n    // generate import statements for helpers\r\n    if (hasHelpers) {\r\n      push(`import { ${ast.helpers.map(helper).join(', ')} } from \"vue\"\\n`)\r\n    }\r\n    genHoists(ast.hoists, context)\r\n    newline()\r\n    push(`export default `)\r\n  }\r\n\r\n  // enter render function\r\n  push(`function render() {`)\r\n  indent()\r\n\r\n  if (useWithBlock) {\r\n    push(`with (this) {`)\r\n    indent()\r\n    // function mode const declarations should be inside with block\r\n    // also they should be renamed to avoid collision with user properties\r\n    if (hasHelpers) {\r\n      push(\r\n        `const { ${ast.helpers\r\n          .map(s => `${helperNameMap[s]}: _${helperNameMap[s]}`)\r\n          .join(', ')} } = _Vue`\r\n      )\r\n      newline()\r\n      if (ast.cached > 0) {\r\n        push(`const _cache = $cache`)\r\n        newline()\r\n      }\r\n      newline()\r\n    }\r\n  } else {\r\n    push(`const _ctx = this`)\r\n    if (ast.cached > 0) {\r\n      newline()\r\n      push(`const _cache = _ctx.$cache`)\r\n    }\r\n    newline()\r\n  }\r\n\r\n  // generate asset resolution statements\r\n  if (ast.components.length) {\r\n    genAssets(ast.components, 'component', context)\r\n  }\r\n  if (ast.directives.length) {\r\n    genAssets(ast.directives, 'directive', context)\r\n  }\r\n  if (ast.components.length || ast.directives.length) {\r\n    newline()\r\n  }\r\n\r\n  // generate the VNode tree expression\r\n  push(`return `)\r\n  if (ast.codegenNode) {\r\n    genNode(ast.codegenNode, context)\r\n  } else {\r\n    push(`null`)\r\n  }\r\n\r\n  if (useWithBlock) {\r\n    deindent()\r\n    push(`}`)\r\n  }\r\n\r\n  deindent()\r\n  push(`}`)\r\n  return {\r\n    ast,\r\n    code: context.code,\r\n    map: context.map ? context.map.toJSON() : undefined\r\n  }\r\n}\r\n\r\nfunction genAssets(\r\n  assets: string[],\r\n  type: 'component' | 'directive',\r\n  context: CodegenContext\r\n) {\r\n  const resolver = context.helper(\r\n    type === 'component' ? RESOLVE_COMPONENT : RESOLVE_DIRECTIVE\r\n  )\r\n  for (let i = 0; i < assets.length; i++) {\r\n    const id = assets[i]\r\n    context.push(\r\n      `const ${toValidAssetId(id, type)} = ${resolver}(${JSON.stringify(id)})`\r\n    )\r\n    context.newline()\r\n  }\r\n}\r\n\r\nfunction genHoists(hoists: JSChildNode[], context: CodegenContext) {\r\n  if (!hoists.length) {\r\n    return\r\n  }\r\n  context.newline()\r\n  hoists.forEach((exp, i) => {\r\n    context.push(`const _hoisted_${i + 1} = `)\r\n    genNode(exp, context)\r\n    context.newline()\r\n  })\r\n}\r\n\r\nfunction isText(n: string | CodegenNode) {\r\n  return (\r\n    isString(n) ||\r\n    n.type === NodeTypes.SIMPLE_EXPRESSION ||\r\n    n.type === NodeTypes.TEXT ||\r\n    n.type === NodeTypes.INTERPOLATION ||\r\n    n.type === NodeTypes.COMPOUND_EXPRESSION\r\n  )\r\n}\r\n\r\nfunction genNodeListAsArray(\r\n  nodes: (string | CodegenNode | TemplateChildNode[])[],\r\n  context: CodegenContext\r\n) {\r\n  const multilines =\r\n    nodes.length > 3 ||\r\n    ((!__BROWSER__ || __DEV__) && nodes.some(n => isArray(n) || !isText(n)))\r\n  context.push(`[`)\r\n  multilines && context.indent()\r\n  genNodeList(nodes, context, multilines)\r\n  multilines && context.deindent()\r\n  context.push(`]`)\r\n}\r\n\r\nfunction genNodeList(\r\n  nodes: (string | symbol | CodegenNode | TemplateChildNode[])[],\r\n  context: CodegenContext,\r\n  multilines: boolean = false\r\n) {\r\n  const { push, newline } = context\r\n  for (let i = 0; i < nodes.length; i++) {\r\n    const node = nodes[i]\r\n    if (isString(node)) {\r\n      push(node)\r\n    } else if (isArray(node)) {\r\n      genNodeListAsArray(node, context)\r\n    } else {\r\n      genNode(node, context)\r\n    }\r\n    if (i < nodes.length - 1) {\r\n      if (multilines) {\r\n        push(',')\r\n        newline()\r\n      } else {\r\n        push(', ')\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction genNode(node: CodegenNode | symbol | string, context: CodegenContext) {\r\n  if (isString(node)) {\r\n    context.push(node)\r\n    return\r\n  }\r\n  if (isSymbol(node)) {\r\n    context.push(context.helper(node))\r\n    return\r\n  }\r\n  switch (node.type) {\r\n    case NodeTypes.ELEMENT:\r\n    case NodeTypes.IF:\r\n    case NodeTypes.FOR:\r\n      __DEV__ &&\r\n        assert(\r\n          node.codegenNode != null,\r\n          `Codegen node is missing for element/if/for node. ` +\r\n            `Apply appropriate transforms first.`\r\n        )\r\n      genNode(node.codegenNode!, context)\r\n      break\r\n    case NodeTypes.TEXT:\r\n      genText(node, context)\r\n      break\r\n    case NodeTypes.SIMPLE_EXPRESSION:\r\n      genExpression(node, context)\r\n      break\r\n    case NodeTypes.INTERPOLATION:\r\n      genInterpolation(node, context)\r\n      break\r\n    case NodeTypes.TEXT_CALL:\r\n      genNode(node.codegenNode, context)\r\n      break\r\n    case NodeTypes.COMPOUND_EXPRESSION:\r\n      genCompoundExpression(node, context)\r\n      break\r\n    case NodeTypes.COMMENT:\r\n      genComment(node, context)\r\n      break\r\n    case NodeTypes.JS_CALL_EXPRESSION:\r\n      genCallExpression(node, context)\r\n      break\r\n    case NodeTypes.JS_OBJECT_EXPRESSION:\r\n      genObjectExpression(node, context)\r\n      break\r\n    case NodeTypes.JS_ARRAY_EXPRESSION:\r\n      genArrayExpression(node, context)\r\n      break\r\n    case NodeTypes.JS_FUNCTION_EXPRESSION:\r\n      genFunctionExpression(node, context)\r\n      break\r\n    case NodeTypes.JS_SEQUENCE_EXPRESSION:\r\n      genSequenceExpression(node, context)\r\n      break\r\n    case NodeTypes.JS_CONDITIONAL_EXPRESSION:\r\n      genConditionalExpression(node, context)\r\n      break\r\n    case NodeTypes.JS_CACHE_EXPRESSION:\r\n      genCacheExpression(node, context)\r\n      break\r\n    /* istanbul ignore next */\r\n    default:\r\n      if (__DEV__) {\r\n        assert(false, `unhandled codegen node type: ${(node as any).type}`)\r\n        // make sure we exhaust all possible types\r\n        const exhaustiveCheck: never = node\r\n        return exhaustiveCheck\r\n      }\r\n  }\r\n}\r\n\r\nfunction genText(\r\n  node: TextNode | SimpleExpressionNode,\r\n  context: CodegenContext\r\n) {\r\n  context.push(JSON.stringify(node.content), node)\r\n}\r\n\r\nfunction genExpression(node: SimpleExpressionNode, context: CodegenContext) {\r\n  const { content, isStatic } = node\r\n  context.push(isStatic ? JSON.stringify(content) : content, node)\r\n}\r\n\r\nfunction genInterpolation(node: InterpolationNode, context: CodegenContext) {\r\n  const { push, helper } = context\r\n  push(`${helper(TO_STRING)}(`)\r\n  genNode(node.content, context)\r\n  push(`)`)\r\n}\r\n\r\nfunction genCompoundExpression(\r\n  node: CompoundExpressionNode,\r\n  context: CodegenContext\r\n) {\r\n  for (let i = 0; i < node.children!.length; i++) {\r\n    const child = node.children![i]\r\n    if (isString(child)) {\r\n      context.push(child)\r\n    } else {\r\n      genNode(child, context)\r\n    }\r\n  }\r\n}\r\n\r\nfunction genExpressionAsPropertyKey(\r\n  node: ExpressionNode,\r\n  context: CodegenContext\r\n) {\r\n  const { push } = context\r\n  if (node.type === NodeTypes.COMPOUND_EXPRESSION) {\r\n    push(`[`)\r\n    genCompoundExpression(node, context)\r\n    push(`]`)\r\n  } else if (node.isStatic) {\r\n    // only quote keys if necessary\r\n    const text = isSimpleIdentifier(node.content)\r\n      ? node.content\r\n      : JSON.stringify(node.content)\r\n    push(text, node)\r\n  } else {\r\n    push(`[${node.content}]`, node)\r\n  }\r\n}\r\n\r\nfunction genComment(node: CommentNode, context: CodegenContext) {\r\n  if (__DEV__) {\r\n    const { push, helper } = context\r\n    push(`${helper(CREATE_COMMENT)}(${JSON.stringify(node.content)})`, node)\r\n  }\r\n}\r\n\r\n// JavaScript\r\nfunction genCallExpression(node: CallExpression, context: CodegenContext) {\r\n  const callee = isString(node.callee)\r\n    ? node.callee\r\n    : context.helper(node.callee)\r\n  context.push(callee + `(`, node, true)\r\n  genNodeList(node.arguments, context)\r\n  context.push(`)`)\r\n}\r\n\r\nfunction genObjectExpression(node: ObjectExpression, context: CodegenContext) {\r\n  const { push, indent, deindent, newline, resetMapping } = context\r\n  const { properties } = node\r\n  if (!properties.length) {\r\n    push(`{}`, node)\r\n    return\r\n  }\r\n  const multilines =\r\n    properties.length > 1 ||\r\n    ((!__BROWSER__ || __DEV__) &&\r\n      properties.some(p => p.value.type !== NodeTypes.SIMPLE_EXPRESSION))\r\n  push(multilines ? `{` : `{ `)\r\n  multilines && indent()\r\n  for (let i = 0; i < properties.length; i++) {\r\n    const { key, value, loc } = properties[i]\r\n    resetMapping(loc) // reset source mapping for every property.\r\n    // key\r\n    genExpressionAsPropertyKey(key, context)\r\n    push(`: `)\r\n    // value\r\n    genNode(value, context)\r\n    if (i < properties.length - 1) {\r\n      // will only reach this if it's multilines\r\n      push(`,`)\r\n      newline()\r\n    }\r\n  }\r\n  multilines && deindent()\r\n  push(multilines ? `}` : ` }`)\r\n}\r\n\r\nfunction genArrayExpression(node: ArrayExpression, context: CodegenContext) {\r\n  genNodeListAsArray(node.elements, context)\r\n}\r\n\r\nfunction genFunctionExpression(\r\n  node: FunctionExpression,\r\n  context: CodegenContext\r\n) {\r\n  const { push, indent, deindent } = context\r\n  const { params, returns, newline } = node\r\n  push(`(`, node)\r\n  if (isArray(params)) {\r\n    genNodeList(params, context)\r\n  } else if (params) {\r\n    genNode(params, context)\r\n  }\r\n  push(`) => `)\r\n  if (newline) {\r\n    push(`{`)\r\n    indent()\r\n    push(`return `)\r\n  }\r\n  if (isArray(returns)) {\r\n    genNodeListAsArray(returns, context)\r\n  } else {\r\n    genNode(returns, context)\r\n  }\r\n  if (newline) {\r\n    deindent()\r\n    push(`}`)\r\n  }\r\n}\r\n\r\nfunction genConditionalExpression(\r\n  node: ConditionalExpression,\r\n  context: CodegenContext\r\n) {\r\n  const { test, consequent, alternate } = node\r\n  const { push, indent, deindent, newline } = context\r\n  if (test.type === NodeTypes.SIMPLE_EXPRESSION) {\r\n    const needsParens = !isSimpleIdentifier(test.content)\r\n    needsParens && push(`(`)\r\n    genExpression(test, context)\r\n    needsParens && push(`)`)\r\n  } else {\r\n    push(`(`)\r\n    genCompoundExpression(test, context)\r\n    push(`)`)\r\n  }\r\n  indent()\r\n  context.indentLevel++\r\n  push(`? `)\r\n  genNode(consequent, context)\r\n  context.indentLevel--\r\n  newline()\r\n  push(`: `)\r\n  const isNested = alternate.type === NodeTypes.JS_CONDITIONAL_EXPRESSION\r\n  if (!isNested) {\r\n    context.indentLevel++\r\n  }\r\n  genNode(alternate, context)\r\n  if (!isNested) {\r\n    context.indentLevel--\r\n  }\r\n  deindent(true /* without newline */)\r\n}\r\n\r\nfunction genSequenceExpression(\r\n  node: SequenceExpression,\r\n  context: CodegenContext\r\n) {\r\n  context.push(`(`)\r\n  genNodeList(node.expressions, context)\r\n  context.push(`)`)\r\n}\r\n\r\nfunction genCacheExpression(node: CacheExpression, context: CodegenContext) {\r\n  const { push, helper, indent, deindent, newline } = context\r\n  push(`_cache[${node.index}] || (`)\r\n  if (node.isVNode) {\r\n    indent()\r\n    push(`${helper(SET_BLOCK_TRACKING)}(-1),`)\r\n    newline()\r\n  }\r\n  push(`_cache[${node.index}] = `)\r\n  genNode(node.value, context)\r\n  if (node.isVNode) {\r\n    push(`,`)\r\n    newline()\r\n    push(`${helper(SET_BLOCK_TRACKING)}(1),`)\r\n    newline()\r\n    push(`_cache[${node.index}]`)\r\n    deindent()\r\n  }\r\n  push(`)`)\r\n}\r\n","import {\r\n  createStructuralDirectiveTransform,\r\n  traverseChildren,\r\n  TransformContext\r\n} from '../transform'\r\nimport {\r\n  NodeTypes,\r\n  ElementTypes,\r\n  ElementNode,\r\n  DirectiveNode,\r\n  IfBranchNode,\r\n  SimpleExpressionNode,\r\n  createSequenceExpression,\r\n  createCallExpression,\r\n  createConditionalExpression,\r\n  ConditionalExpression,\r\n  CallExpression,\r\n  createSimpleExpression,\r\n  createObjectProperty,\r\n  createObjectExpression,\r\n  IfCodegenNode,\r\n  IfConditionalExpression,\r\n  BlockCodegenNode,\r\n  SlotOutletCodegenNode,\r\n  ElementCodegenNode,\r\n  ComponentCodegenNode\r\n} from '../ast'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport { processExpression } from './transformExpression'\r\nimport {\r\n  OPEN_BLOCK,\r\n  CREATE_BLOCK,\r\n  FRAGMENT,\r\n  WITH_DIRECTIVES,\r\n  CREATE_VNODE,\r\n  CREATE_COMMENT\r\n} from '../runtimeHelpers'\r\nimport { injectProp } from '../utils'\r\n\r\nexport const transformIf = createStructuralDirectiveTransform(\r\n  /^(if|else|else-if)$/,\r\n  (node, dir, context) => {\r\n    if (\r\n      dir.name !== 'else' &&\r\n      (!dir.exp || !(dir.exp as SimpleExpressionNode).content.trim())\r\n    ) {\r\n      const loc = dir.exp ? dir.exp.loc : node.loc\r\n      context.onError(\r\n        createCompilerError(ErrorCodes.X_V_IF_NO_EXPRESSION, dir.loc)\r\n      )\r\n      dir.exp = createSimpleExpression(`true`, false, loc)\r\n    }\r\n\r\n    if (!__BROWSER__ && context.prefixIdentifiers && dir.exp) {\r\n      // dir.exp can only be simple expression because vIf transform is applied\r\n      // before expression transform.\r\n      dir.exp = processExpression(dir.exp as SimpleExpressionNode, context)\r\n    }\r\n\r\n    if (dir.name === 'if') {\r\n      const branch = createIfBranch(node, dir)\r\n      const codegenNode = createSequenceExpression([\r\n        createCallExpression(context.helper(OPEN_BLOCK))\r\n      ]) as IfCodegenNode\r\n\r\n      context.replaceNode({\r\n        type: NodeTypes.IF,\r\n        loc: node.loc,\r\n        branches: [branch],\r\n        codegenNode\r\n      })\r\n\r\n      // Exit callback. Complete the codegenNode when all children have been\r\n      // transformed.\r\n      return () => {\r\n        codegenNode.expressions.push(createCodegenNodeForBranch(\r\n          branch,\r\n          0,\r\n          context\r\n        ) as IfConditionalExpression)\r\n      }\r\n    } else {\r\n      // locate the adjacent v-if\r\n      const siblings = context.parent!.children\r\n      const comments = []\r\n      let i = siblings.indexOf(node)\r\n      while (i-- >= -1) {\r\n        const sibling = siblings[i]\r\n        if (__DEV__ && sibling && sibling.type === NodeTypes.COMMENT) {\r\n          context.removeNode(sibling)\r\n          comments.unshift(sibling)\r\n          continue\r\n        }\r\n        if (sibling && sibling.type === NodeTypes.IF) {\r\n          // move the node to the if node's branches\r\n          context.removeNode()\r\n          const branch = createIfBranch(node, dir)\r\n          if (__DEV__ && comments.length) {\r\n            branch.children = [...comments, ...branch.children]\r\n          }\r\n          sibling.branches.push(branch)\r\n          // since the branch was removed, it will not be traversed.\r\n          // make sure to traverse here.\r\n          traverseChildren(branch, context)\r\n          // make sure to reset currentNode after traversal to indicate this\r\n          // node has been removed.\r\n          context.currentNode = null\r\n          // attach this branch's codegen node to the v-if root.\r\n          let parentCondition = sibling.codegenNode\r\n            .expressions[1] as ConditionalExpression\r\n          while (true) {\r\n            if (\r\n              parentCondition.alternate.type ===\r\n              NodeTypes.JS_CONDITIONAL_EXPRESSION\r\n            ) {\r\n              parentCondition = parentCondition.alternate\r\n            } else {\r\n              parentCondition.alternate = createCodegenNodeForBranch(\r\n                branch,\r\n                sibling.branches.length - 1,\r\n                context\r\n              )\r\n              break\r\n            }\r\n          }\r\n        } else {\r\n          context.onError(\r\n            createCompilerError(ErrorCodes.X_V_ELSE_NO_ADJACENT_IF, node.loc)\r\n          )\r\n        }\r\n        break\r\n      }\r\n    }\r\n  }\r\n)\r\n\r\nfunction createIfBranch(node: ElementNode, dir: DirectiveNode): IfBranchNode {\r\n  return {\r\n    type: NodeTypes.IF_BRANCH,\r\n    loc: node.loc,\r\n    condition: dir.name === 'else' ? undefined : dir.exp,\r\n    children: node.tagType === ElementTypes.TEMPLATE ? node.children : [node]\r\n  }\r\n}\r\n\r\nfunction createCodegenNodeForBranch(\r\n  branch: IfBranchNode,\r\n  index: number,\r\n  context: TransformContext\r\n): IfConditionalExpression | BlockCodegenNode {\r\n  if (branch.condition) {\r\n    return createConditionalExpression(\r\n      branch.condition,\r\n      createChildrenCodegenNode(branch, index, context),\r\n      // make sure to pass in asBlock: true so that the comment node call\r\n      // closes the current block.\r\n      createCallExpression(context.helper(CREATE_COMMENT), [\r\n        __DEV__ ? '\"v-if\"' : '\"\"',\r\n        'true'\r\n      ])\r\n    ) as IfConditionalExpression\r\n  } else {\r\n    return createChildrenCodegenNode(branch, index, context) as BlockCodegenNode\r\n  }\r\n}\r\n\r\nfunction createChildrenCodegenNode(\r\n  branch: IfBranchNode,\r\n  index: number,\r\n  context: TransformContext\r\n): CallExpression {\r\n  const { helper } = context\r\n  const keyProperty = createObjectProperty(\r\n    `key`,\r\n    createSimpleExpression(index + '', false)\r\n  )\r\n  const { children } = branch\r\n  const child = children[0]\r\n  const needFragmentWrapper =\r\n    children.length !== 1 || child.type !== NodeTypes.ELEMENT\r\n  if (needFragmentWrapper) {\r\n    const blockArgs: CallExpression['arguments'] = [\r\n      helper(FRAGMENT),\r\n      createObjectExpression([keyProperty]),\r\n      children\r\n    ]\r\n    if (children.length === 1 && child.type === NodeTypes.FOR) {\r\n      // optimize away nested fragments when child is a ForNode\r\n      const forBlockArgs = child.codegenNode.expressions[1].arguments\r\n      // directly use the for block's children and patchFlag\r\n      blockArgs[2] = forBlockArgs[2]\r\n      blockArgs[3] = forBlockArgs[3]\r\n    }\r\n    return createCallExpression(helper(CREATE_BLOCK), blockArgs)\r\n  } else {\r\n    const childCodegen = (child as ElementNode).codegenNode as\r\n      | ElementCodegenNode\r\n      | ComponentCodegenNode\r\n      | SlotOutletCodegenNode\r\n    let vnodeCall = childCodegen\r\n    // Element with custom directives. Locate the actual createVNode() call.\r\n    if (vnodeCall.callee === WITH_DIRECTIVES) {\r\n      vnodeCall = vnodeCall.arguments[0]\r\n    }\r\n    // Change createVNode to createBlock.\r\n    if (vnodeCall.callee === CREATE_VNODE) {\r\n      vnodeCall.callee = helper(CREATE_BLOCK)\r\n    }\r\n    // inject branch key\r\n    injectProp(vnodeCall, keyProperty, context)\r\n    return childCodegen\r\n  }\r\n}\r\n","import {\r\n  createStructuralDirectiveTransform,\r\n  TransformContext\r\n} from '../transform'\r\nimport {\r\n  NodeTypes,\r\n  ExpressionNode,\r\n  createSimpleExpression,\r\n  SourceLocation,\r\n  SimpleExpressionNode,\r\n  createSequenceExpression,\r\n  createCallExpression,\r\n  createFunctionExpression,\r\n  ElementTypes,\r\n  createObjectExpression,\r\n  createObjectProperty,\r\n  ForCodegenNode,\r\n  ElementCodegenNode,\r\n  SlotOutletCodegenNode,\r\n  SlotOutletNode\r\n} from '../ast'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport {\r\n  getInnerRange,\r\n  findProp,\r\n  createBlockExpression,\r\n  isTemplateNode,\r\n  isSlotOutlet,\r\n  injectProp\r\n} from '../utils'\r\nimport {\r\n  RENDER_LIST,\r\n  OPEN_BLOCK,\r\n  CREATE_BLOCK,\r\n  FRAGMENT,\r\n  WITH_DIRECTIVES\r\n} from '../runtimeHelpers'\r\nimport { processExpression } from './transformExpression'\r\nimport { PatchFlags, PatchFlagNames } from '@vue/shared'\r\n\r\nexport const transformFor = createStructuralDirectiveTransform(\r\n  'for',\r\n  (node, dir, context) => {\r\n    if (!dir.exp) {\r\n      context.onError(\r\n        createCompilerError(ErrorCodes.X_V_FOR_NO_EXPRESSION, dir.loc)\r\n      )\r\n      return\r\n    }\r\n\r\n    const parseResult = parseForExpression(\r\n      // can only be simple expression because vFor transform is applied\r\n      // before expression transform.\r\n      dir.exp as SimpleExpressionNode,\r\n      context\r\n    )\r\n\r\n    if (!parseResult) {\r\n      context.onError(\r\n        createCompilerError(ErrorCodes.X_V_FOR_MALFORMED_EXPRESSION, dir.loc)\r\n      )\r\n      return\r\n    }\r\n\r\n    const { helper, addIdentifiers, removeIdentifiers, scopes } = context\r\n    const { source, value, key, index } = parseResult\r\n\r\n    // create the loop render function expression now, and add the\r\n    // iterator on exit after all children have been traversed\r\n    const renderExp = createCallExpression(helper(RENDER_LIST), [source])\r\n    const keyProp = findProp(node, `key`)\r\n    const fragmentFlag = keyProp\r\n      ? PatchFlags.KEYED_FRAGMENT\r\n      : PatchFlags.UNKEYED_FRAGMENT\r\n    const codegenNode = createSequenceExpression([\r\n      // fragment blocks disable tracking since they always diff their children\r\n      createCallExpression(helper(OPEN_BLOCK), [`false`]),\r\n      createCallExpression(helper(CREATE_BLOCK), [\r\n        helper(FRAGMENT),\r\n        `null`,\r\n        renderExp,\r\n        fragmentFlag + (__DEV__ ? ` /* ${PatchFlagNames[fragmentFlag]} */` : ``)\r\n      ])\r\n    ]) as ForCodegenNode\r\n\r\n    context.replaceNode({\r\n      type: NodeTypes.FOR,\r\n      loc: dir.loc,\r\n      source,\r\n      valueAlias: value,\r\n      keyAlias: key,\r\n      objectIndexAlias: index,\r\n      children: node.tagType === ElementTypes.TEMPLATE ? node.children : [node],\r\n      codegenNode\r\n    })\r\n\r\n    // bookkeeping\r\n    scopes.vFor++\r\n    if (!__BROWSER__ && context.prefixIdentifiers) {\r\n      // scope management\r\n      // inject identifiers to context\r\n      value && addIdentifiers(value)\r\n      key && addIdentifiers(key)\r\n      index && addIdentifiers(index)\r\n    }\r\n\r\n    return () => {\r\n      scopes.vFor--\r\n      if (!__BROWSER__ && context.prefixIdentifiers) {\r\n        value && removeIdentifiers(value)\r\n        key && removeIdentifiers(key)\r\n        index && removeIdentifiers(index)\r\n      }\r\n\r\n      // finish the codegen now that all children have been traversed\r\n      let childBlock\r\n      const isTemplate = isTemplateNode(node)\r\n      const slotOutlet = isSlotOutlet(node)\r\n        ? node\r\n        : isTemplate &&\r\n          node.children.length === 1 &&\r\n          isSlotOutlet(node.children[0])\r\n          ? (node.children[0] as SlotOutletNode) // api-extractor somehow fails to infer this\r\n          : null\r\n      const keyProperty = keyProp\r\n        ? createObjectProperty(\r\n            `key`,\r\n            keyProp.type === NodeTypes.ATTRIBUTE\r\n              ? createSimpleExpression(keyProp.value!.content, true)\r\n              : keyProp.exp!\r\n          )\r\n        : null\r\n      if (slotOutlet) {\r\n        // <slot v-for=\"...\"> or <template v-for=\"...\"><slot/></template>\r\n        childBlock = slotOutlet.codegenNode as SlotOutletCodegenNode\r\n        if (isTemplate && keyProperty) {\r\n          // <template v-for=\"...\" :key=\"...\"><slot/></template>\r\n          // we need to inject the key to the renderSlot() call.\r\n          // the props for renderSlot is passed as the 3rd argument.\r\n          injectProp(childBlock, keyProperty, context)\r\n        }\r\n      } else if (isTemplate) {\r\n        // <template v-for=\"...\">\r\n        // should generate a fragment block for each loop\r\n        childBlock = createBlockExpression(\r\n          createCallExpression(helper(CREATE_BLOCK), [\r\n            helper(FRAGMENT),\r\n            keyProperty ? createObjectExpression([keyProperty]) : `null`,\r\n            node.children\r\n          ]),\r\n          context\r\n        )\r\n      } else {\r\n        // Normal element v-for. Directly use the child's codegenNode\r\n        // arguments, but replace createVNode() with createBlock()\r\n        let codegenNode = node.codegenNode as ElementCodegenNode\r\n        if (codegenNode.callee === WITH_DIRECTIVES) {\r\n          codegenNode.arguments[0].callee = helper(CREATE_BLOCK)\r\n        } else {\r\n          codegenNode.callee = helper(CREATE_BLOCK)\r\n        }\r\n        childBlock = createBlockExpression(codegenNode, context)\r\n      }\r\n\r\n      renderExp.arguments.push(\r\n        createFunctionExpression(\r\n          createForLoopParams(parseResult),\r\n          childBlock,\r\n          true /* force newline */\r\n        )\r\n      )\r\n    }\r\n  }\r\n)\r\n\r\nconst forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\r\n// This regex doesn't cover the case if key or index aliases have destructuring,\r\n// but those do not make sense in the first place, so this works in practice.\r\nconst forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/\r\nconst stripParensRE = /^\\(|\\)$/g\r\n\r\nexport interface ForParseResult {\r\n  source: ExpressionNode\r\n  value: ExpressionNode | undefined\r\n  key: ExpressionNode | undefined\r\n  index: ExpressionNode | undefined\r\n}\r\n\r\nexport function parseForExpression(\r\n  input: SimpleExpressionNode,\r\n  context: TransformContext\r\n): ForParseResult | undefined {\r\n  const loc = input.loc\r\n  const exp = input.content\r\n  const inMatch = exp.match(forAliasRE)\r\n  if (!inMatch) return\r\n\r\n  const [, LHS, RHS] = inMatch\r\n\r\n  const result: ForParseResult = {\r\n    source: createAliasExpression(\r\n      loc,\r\n      RHS.trim(),\r\n      exp.indexOf(RHS, LHS.length)\r\n    ),\r\n    value: undefined,\r\n    key: undefined,\r\n    index: undefined\r\n  }\r\n  if (!__BROWSER__ && context.prefixIdentifiers) {\r\n    result.source = processExpression(\r\n      result.source as SimpleExpressionNode,\r\n      context\r\n    )\r\n  }\r\n\r\n  let valueContent = LHS.trim()\r\n    .replace(stripParensRE, '')\r\n    .trim()\r\n  const trimmedOffset = LHS.indexOf(valueContent)\r\n\r\n  const iteratorMatch = valueContent.match(forIteratorRE)\r\n  if (iteratorMatch) {\r\n    valueContent = valueContent.replace(forIteratorRE, '').trim()\r\n\r\n    const keyContent = iteratorMatch[1].trim()\r\n    let keyOffset: number | undefined\r\n    if (keyContent) {\r\n      keyOffset = exp.indexOf(keyContent, trimmedOffset + valueContent.length)\r\n      result.key = createAliasExpression(loc, keyContent, keyOffset)\r\n      if (!__BROWSER__ && context.prefixIdentifiers) {\r\n        result.key = processExpression(result.key, context, true)\r\n      }\r\n    }\r\n\r\n    if (iteratorMatch[2]) {\r\n      const indexContent = iteratorMatch[2].trim()\r\n\r\n      if (indexContent) {\r\n        result.index = createAliasExpression(\r\n          loc,\r\n          indexContent,\r\n          exp.indexOf(\r\n            indexContent,\r\n            result.key\r\n              ? keyOffset! + keyContent.length\r\n              : trimmedOffset + valueContent.length\r\n          )\r\n        )\r\n        if (!__BROWSER__ && context.prefixIdentifiers) {\r\n          result.index = processExpression(result.index, context, true)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (valueContent) {\r\n    result.value = createAliasExpression(loc, valueContent, trimmedOffset)\r\n    if (!__BROWSER__ && context.prefixIdentifiers) {\r\n      result.value = processExpression(result.value, context, true)\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction createAliasExpression(\r\n  range: SourceLocation,\r\n  content: string,\r\n  offset: number\r\n): SimpleExpressionNode {\r\n  return createSimpleExpression(\r\n    content,\r\n    false,\r\n    getInnerRange(range, offset, content.length)\r\n  )\r\n}\r\n\r\nexport function createForLoopParams({\r\n  value,\r\n  key,\r\n  index\r\n}: ForParseResult): ExpressionNode[] {\r\n  const params: ExpressionNode[] = []\r\n  if (value) {\r\n    params.push(value)\r\n  }\r\n  if (key) {\r\n    if (!value) {\r\n      params.push(createSimpleExpression(`_`, false))\r\n    }\r\n    params.push(key)\r\n  }\r\n  if (index) {\r\n    if (!key) {\r\n      if (!value) {\r\n        params.push(createSimpleExpression(`_`, false))\r\n      }\r\n      params.push(createSimpleExpression(`__`, false))\r\n    }\r\n    params.push(index)\r\n  }\r\n  return params\r\n}\r\n","import {\r\n  ElementNode,\r\n  ObjectExpression,\r\n  createObjectExpression,\r\n  NodeTypes,\r\n  createObjectProperty,\r\n  createSimpleExpression,\r\n  createFunctionExpression,\r\n  DirectiveNode,\r\n  ElementTypes,\r\n  ExpressionNode,\r\n  Property,\r\n  TemplateChildNode,\r\n  SourceLocation,\r\n  createConditionalExpression,\r\n  ConditionalExpression,\r\n  JSChildNode,\r\n  SimpleExpressionNode,\r\n  FunctionExpression,\r\n  CallExpression,\r\n  createCallExpression,\r\n  createArrayExpression\r\n} from '../ast'\r\nimport { TransformContext, NodeTransform } from '../transform'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport { findDir, isTemplateNode, assert, isVSlot, hasScopeRef } from '../utils'\r\nimport { CREATE_SLOTS, RENDER_LIST } from '../runtimeHelpers'\r\nimport { parseForExpression, createForLoopParams } from './vFor'\r\n\r\nconst isStaticExp = (p: JSChildNode): p is SimpleExpressionNode =>\r\n  p.type === NodeTypes.SIMPLE_EXPRESSION && p.isStatic\r\n\r\nconst defaultFallback = createSimpleExpression(`undefined`, false)\r\n\r\n// A NodeTransform that:\r\n// 1. Tracks scope identifiers for scoped slots so that they don't get prefixed\r\n//    by transformExpression. This is only applied in non-browser builds with\r\n//    { prefixIdentifiers: true }.\r\n// 2. Track v-slot depths so that we know a slot is inside another slot.\r\n//    Note the exit callback is executed before buildSlots() on the same node,\r\n//    so only nested slots see positive numbers.\r\nexport const trackSlotScopes: NodeTransform = (node, context) => {\r\n  if (\r\n    node.type === NodeTypes.ELEMENT &&\r\n    (node.tagType === ElementTypes.COMPONENT ||\r\n      node.tagType === ElementTypes.TEMPLATE)\r\n  ) {\r\n    // We are only checking non-empty v-slot here\r\n    // since we only care about slots that introduce scope variables.\r\n    const vSlot = findDir(node, 'slot')\r\n    if (vSlot) {\r\n      const slotProps = vSlot.exp\r\n      if (!__BROWSER__ && context.prefixIdentifiers) {\r\n        slotProps && context.addIdentifiers(slotProps)\r\n      }\r\n      context.scopes.vSlot++\r\n      return () => {\r\n        if (!__BROWSER__ && context.prefixIdentifiers) {\r\n          slotProps && context.removeIdentifiers(slotProps)\r\n        }\r\n        context.scopes.vSlot--\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// A NodeTransform that tracks scope identifiers for scoped slots with v-for.\r\n// This transform is only applied in non-browser builds with { prefixIdentifiers: true }\r\nexport const trackVForSlotScopes: NodeTransform = (node, context) => {\r\n  let vFor\r\n  if (\r\n    isTemplateNode(node) &&\r\n    node.props.some(isVSlot) &&\r\n    (vFor = findDir(node, 'for'))\r\n  ) {\r\n    const result = (vFor.parseResult = parseForExpression(\r\n      vFor.exp as SimpleExpressionNode,\r\n      context\r\n    ))\r\n    if (result) {\r\n      const { value, key, index } = result\r\n      const { addIdentifiers, removeIdentifiers } = context\r\n      value && addIdentifiers(value)\r\n      key && addIdentifiers(key)\r\n      index && addIdentifiers(index)\r\n\r\n      return () => {\r\n        value && removeIdentifiers(value)\r\n        key && removeIdentifiers(key)\r\n        index && removeIdentifiers(index)\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Instead of being a DirectiveTransform, v-slot processing is called during\r\n// transformElement to build the slots object for a component.\r\nexport function buildSlots(\r\n  node: ElementNode,\r\n  context: TransformContext\r\n): {\r\n  slots: ObjectExpression | CallExpression\r\n  hasDynamicSlots: boolean\r\n} {\r\n  const { children, loc } = node\r\n  const slotsProperties: Property[] = []\r\n  const dynamicSlots: (ConditionalExpression | CallExpression)[] = []\r\n\r\n  // If the slot is inside a v-for or another v-slot, force it to be dynamic\r\n  // since it likely uses a scope variable.\r\n  let hasDynamicSlots = context.scopes.vSlot > 0 || context.scopes.vFor > 0\r\n  // with `prefixIdentifiers: true`, this can be further optimized to make\r\n  // it dynamic only when the slot actually uses the scope variables.\r\n  if (!__BROWSER__ && context.prefixIdentifiers) {\r\n    hasDynamicSlots = hasScopeRef(node, context.identifiers)\r\n  }\r\n\r\n  // 1. Check for default slot with slotProps on component itself.\r\n  //    <Comp v-slot=\"{ prop }\"/>\r\n  const explicitDefaultSlot = findDir(node, 'slot', true)\r\n  if (explicitDefaultSlot) {\r\n    const { arg, exp, loc } = explicitDefaultSlot\r\n    if (arg) {\r\n      context.onError(\r\n        createCompilerError(ErrorCodes.X_V_SLOT_NAMED_SLOT_ON_COMPONENT, loc)\r\n      )\r\n    }\r\n    slotsProperties.push(buildDefaultSlot(exp, children, loc))\r\n  }\r\n\r\n  // 2. Iterate through children and check for template slots\r\n  //    <template v-slot:foo=\"{ prop }\">\r\n  let hasTemplateSlots = false\r\n  let extraneousChild: TemplateChildNode | undefined = undefined\r\n  const seenSlotNames = new Set<string>()\r\n  for (let i = 0; i < children.length; i++) {\r\n    const slotElement = children[i]\r\n    let slotDir\r\n\r\n    if (\r\n      !isTemplateNode(slotElement) ||\r\n      !(slotDir = findDir(slotElement, 'slot', true))\r\n    ) {\r\n      // not a <template v-slot>, skip.\r\n      if (slotElement.type !== NodeTypes.COMMENT && !extraneousChild) {\r\n        extraneousChild = slotElement\r\n      }\r\n      continue\r\n    }\r\n\r\n    if (explicitDefaultSlot) {\r\n      // already has on-component default slot - this is incorrect usage.\r\n      context.onError(\r\n        createCompilerError(ErrorCodes.X_V_SLOT_MIXED_SLOT_USAGE, slotDir.loc)\r\n      )\r\n      break\r\n    }\r\n\r\n    hasTemplateSlots = true\r\n    const { children: slotChildren, loc: slotLoc } = slotElement\r\n    const {\r\n      arg: slotName = createSimpleExpression(`default`, true),\r\n      exp: slotProps,\r\n      loc: dirLoc\r\n    } = slotDir\r\n\r\n    // check if name is dynamic.\r\n    let staticSlotName: string | undefined\r\n    if (isStaticExp(slotName)) {\r\n      staticSlotName = slotName ? slotName.content : `default`\r\n    } else {\r\n      hasDynamicSlots = true\r\n    }\r\n\r\n    const slotFunction = createFunctionExpression(\r\n      slotProps,\r\n      slotChildren,\r\n      false,\r\n      slotChildren.length ? slotChildren[0].loc : slotLoc\r\n    )\r\n\r\n    // check if this slot is conditional (v-if/v-for)\r\n    let vIf: DirectiveNode | undefined\r\n    let vElse: DirectiveNode | undefined\r\n    let vFor: DirectiveNode | undefined\r\n    if ((vIf = findDir(slotElement, 'if'))) {\r\n      hasDynamicSlots = true\r\n      dynamicSlots.push(\r\n        createConditionalExpression(\r\n          vIf.exp!,\r\n          buildDynamicSlot(slotName, slotFunction),\r\n          defaultFallback\r\n        )\r\n      )\r\n    } else if (\r\n      (vElse = findDir(slotElement, /^else(-if)?$/, true /* allowEmpty */))\r\n    ) {\r\n      // find adjacent v-if\r\n      let j = i\r\n      let prev\r\n      while (j--) {\r\n        prev = children[j]\r\n        if (prev.type !== NodeTypes.COMMENT) {\r\n          break\r\n        }\r\n      }\r\n      if (prev && isTemplateNode(prev) && findDir(prev, 'if')) {\r\n        // remove node\r\n        children.splice(i, 1)\r\n        i--\r\n        __TEST__ && assert(dynamicSlots.length > 0)\r\n        // attach this slot to previous conditional\r\n        let conditional = dynamicSlots[\r\n          dynamicSlots.length - 1\r\n        ] as ConditionalExpression\r\n        while (\r\n          conditional.alternate.type === NodeTypes.JS_CONDITIONAL_EXPRESSION\r\n        ) {\r\n          conditional = conditional.alternate\r\n        }\r\n        conditional.alternate = vElse.exp\r\n          ? createConditionalExpression(\r\n              vElse.exp,\r\n              buildDynamicSlot(slotName, slotFunction),\r\n              defaultFallback\r\n            )\r\n          : buildDynamicSlot(slotName, slotFunction)\r\n      } else {\r\n        context.onError(\r\n          createCompilerError(ErrorCodes.X_V_ELSE_NO_ADJACENT_IF, vElse.loc)\r\n        )\r\n      }\r\n    } else if ((vFor = findDir(slotElement, 'for'))) {\r\n      hasDynamicSlots = true\r\n      const parseResult =\r\n        vFor.parseResult ||\r\n        parseForExpression(vFor.exp as SimpleExpressionNode, context)\r\n      if (parseResult) {\r\n        // Render the dynamic slots as an array and add it to the createSlot()\r\n        // args. The runtime knows how to handle it appropriately.\r\n        dynamicSlots.push(\r\n          createCallExpression(context.helper(RENDER_LIST), [\r\n            parseResult.source,\r\n            createFunctionExpression(\r\n              createForLoopParams(parseResult),\r\n              buildDynamicSlot(slotName, slotFunction),\r\n              true\r\n            )\r\n          ])\r\n        )\r\n      } else {\r\n        context.onError(\r\n          createCompilerError(ErrorCodes.X_V_FOR_MALFORMED_EXPRESSION, vFor.loc)\r\n        )\r\n      }\r\n    } else {\r\n      // check duplicate static names\r\n      if (staticSlotName) {\r\n        if (seenSlotNames.has(staticSlotName)) {\r\n          context.onError(\r\n            createCompilerError(\r\n              ErrorCodes.X_V_SLOT_DUPLICATE_SLOT_NAMES,\r\n              dirLoc\r\n            )\r\n          )\r\n          continue\r\n        }\r\n        seenSlotNames.add(staticSlotName)\r\n      }\r\n      slotsProperties.push(createObjectProperty(slotName, slotFunction))\r\n    }\r\n  }\r\n\r\n  if (hasTemplateSlots && extraneousChild) {\r\n    context.onError(\r\n      createCompilerError(\r\n        ErrorCodes.X_V_SLOT_EXTRANEOUS_NON_SLOT_CHILDREN,\r\n        extraneousChild.loc\r\n      )\r\n    )\r\n  }\r\n\r\n  if (!explicitDefaultSlot && !hasTemplateSlots) {\r\n    // implicit default slot.\r\n    slotsProperties.push(buildDefaultSlot(undefined, children, loc))\r\n  }\r\n\r\n  let slots: ObjectExpression | CallExpression = createObjectExpression(\r\n    slotsProperties.concat(\r\n      createObjectProperty(`_compiled`, createSimpleExpression(`true`, false))\r\n    ),\r\n    loc\r\n  )\r\n  if (dynamicSlots.length) {\r\n    slots = createCallExpression(context.helper(CREATE_SLOTS), [\r\n      slots,\r\n      createArrayExpression(dynamicSlots)\r\n    ])\r\n  }\r\n\r\n  return {\r\n    slots,\r\n    hasDynamicSlots\r\n  }\r\n}\r\n\r\nfunction buildDefaultSlot(\r\n  slotProps: ExpressionNode | undefined,\r\n  children: TemplateChildNode[],\r\n  loc: SourceLocation\r\n): Property {\r\n  return createObjectProperty(\r\n    `default`,\r\n    createFunctionExpression(\r\n      slotProps,\r\n      children,\r\n      false,\r\n      children.length ? children[0].loc : loc\r\n    )\r\n  )\r\n}\r\n\r\nfunction buildDynamicSlot(\r\n  name: ExpressionNode,\r\n  fn: FunctionExpression\r\n): ObjectExpression {\r\n  return createObjectExpression([\r\n    createObjectProperty(`name`, name),\r\n    createObjectProperty(`fn`, fn)\r\n  ])\r\n}\r\n","import { NodeTransform, TransformContext } from '../transform'\r\nimport {\r\n  NodeTypes,\r\n  ElementTypes,\r\n  CallExpression,\r\n  ObjectExpression,\r\n  ElementNode,\r\n  DirectiveNode,\r\n  ExpressionNode,\r\n  ArrayExpression,\r\n  createCallExpression,\r\n  createArrayExpression,\r\n  createObjectProperty,\r\n  createSimpleExpression,\r\n  createObjectExpression,\r\n  Property\r\n} from '../ast'\r\nimport { PatchFlags, PatchFlagNames, isSymbol, hyphenate } from '@vue/shared'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport {\r\n  CREATE_VNODE,\r\n  WITH_DIRECTIVES,\r\n  RESOLVE_DIRECTIVE,\r\n  RESOLVE_COMPONENT,\r\n  RESOLVE_DYNAMIC_COMPONENT,\r\n  MERGE_PROPS,\r\n  TO_HANDLERS,\r\n  PORTAL,\r\n  SUSPENSE,\r\n  KEEP_ALIVE,\r\n  TRANSITION\r\n} from '../runtimeHelpers'\r\nimport { getInnerRange, isVSlot, toValidAssetId, findProp } from '../utils'\r\nimport { buildSlots } from './vSlot'\r\nimport { isStaticNode } from './hoistStatic'\r\n\r\n// some directive transforms (e.g. v-model) may return a symbol for runtime\r\n// import, which should be used instead of a resolveDirective call.\r\nconst directiveImportMap = new WeakMap<DirectiveNode, symbol>()\r\n\r\nconst isBuiltInType = (tag: string, expected: string): boolean =>\r\n  tag === expected || tag === hyphenate(expected)\r\n\r\n// generate a JavaScript AST for this element's codegen\r\nexport const transformElement: NodeTransform = (node, context) => {\r\n  if (\r\n    node.type !== NodeTypes.ELEMENT ||\r\n    // handled by transformSlotOutlet\r\n    node.tagType === ElementTypes.SLOT ||\r\n    // <template v-if/v-for> should have already been replaced\r\n    // <templte v-slot> is handled by buildSlots\r\n    (node.tagType === ElementTypes.TEMPLATE && node.props.some(isVSlot))\r\n  ) {\r\n    return\r\n  }\r\n  // perform the work on exit, after all child expressions have been\r\n  // processed and merged.\r\n  return function postTransformElement() {\r\n    const { tag, tagType, props } = node\r\n    const isPortal = isBuiltInType(tag, 'Portal')\r\n    const isSuspense = isBuiltInType(tag, 'Suspense')\r\n    const isKeepAlive = isBuiltInType(tag, 'KeepAlive')\r\n    const isTransition = isBuiltInType(tag, 'Transition')\r\n    const isComponent = tagType === ElementTypes.COMPONENT\r\n\r\n    let hasProps = props.length > 0\r\n    let patchFlag: number = 0\r\n    let runtimeDirectives: DirectiveNode[] | undefined\r\n    let dynamicPropNames: string[] | undefined\r\n    let dynamicComponent: string | CallExpression | undefined\r\n\r\n    // handle dynamic component\r\n    const isProp = findProp(node, 'is')\r\n    if (tag === 'component') {\r\n      if (isProp) {\r\n        // static <component is=\"foo\" />\r\n        if (isProp.type === NodeTypes.ATTRIBUTE) {\r\n          const tag = isProp.value && isProp.value.content\r\n          if (tag) {\r\n            context.helper(RESOLVE_COMPONENT)\r\n            context.components.add(tag)\r\n            dynamicComponent = toValidAssetId(tag, `component`)\r\n          }\r\n        }\r\n        // dynamic <component :is=\"asdf\" />\r\n        else if (isProp.exp) {\r\n          dynamicComponent = createCallExpression(\r\n            context.helper(RESOLVE_DYNAMIC_COMPONENT),\r\n            // _ctx.$ exposes the owner instance of current render function\r\n            [isProp.exp, context.prefixIdentifiers ? `_ctx.$` : `$`]\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    let nodeType\r\n    if (dynamicComponent) {\r\n      nodeType = dynamicComponent\r\n    } else if (isPortal) {\r\n      nodeType = context.helper(PORTAL)\r\n    } else if (isSuspense) {\r\n      nodeType = context.helper(SUSPENSE)\r\n    } else if (isKeepAlive) {\r\n      nodeType = context.helper(KEEP_ALIVE)\r\n    } else if (isTransition) {\r\n      nodeType = context.helper(TRANSITION)\r\n    } else if (isComponent) {\r\n      // user component w/ resolve\r\n      context.helper(RESOLVE_COMPONENT)\r\n      context.components.add(tag)\r\n      nodeType = toValidAssetId(tag, `component`)\r\n    } else {\r\n      // plain element\r\n      nodeType = `\"${node.tag}\"`\r\n    }\r\n\r\n    const args: CallExpression['arguments'] = [nodeType]\r\n    // props\r\n    if (hasProps) {\r\n      const propsBuildResult = buildProps(\r\n        node,\r\n        context,\r\n        // skip reserved \"is\" prop <component is>\r\n        isProp ? node.props.filter(p => p !== isProp) : node.props\r\n      )\r\n      patchFlag = propsBuildResult.patchFlag\r\n      dynamicPropNames = propsBuildResult.dynamicPropNames\r\n      runtimeDirectives = propsBuildResult.directives\r\n      if (!propsBuildResult.props) {\r\n        hasProps = false\r\n      } else {\r\n        args.push(propsBuildResult.props)\r\n      }\r\n    }\r\n    // children\r\n    const hasChildren = node.children.length > 0\r\n    if (hasChildren) {\r\n      if (!hasProps) {\r\n        args.push(`null`)\r\n      }\r\n      // Portal & KeepAlive should have normal children instead of slots\r\n      // Portal is not a real component has dedicated handling in the renderer\r\n      // KeepAlive should not track its own deps so that it can be used inside\r\n      // Transition\r\n      if (isComponent && !isPortal && !isKeepAlive) {\r\n        const { slots, hasDynamicSlots } = buildSlots(node, context)\r\n        args.push(slots)\r\n        if (hasDynamicSlots) {\r\n          patchFlag |= PatchFlags.DYNAMIC_SLOTS\r\n        }\r\n      } else if (node.children.length === 1) {\r\n        const child = node.children[0]\r\n        const type = child.type\r\n        // check for dynamic text children\r\n        const hasDynamicTextChild =\r\n          type === NodeTypes.INTERPOLATION ||\r\n          type === NodeTypes.COMPOUND_EXPRESSION\r\n        if (hasDynamicTextChild && !isStaticNode(child)) {\r\n          patchFlag |= PatchFlags.TEXT\r\n        }\r\n        // pass directly if the only child is a text node\r\n        // (plain / interpolation / expression)\r\n        if (hasDynamicTextChild || type === NodeTypes.TEXT) {\r\n          args.push(child)\r\n        } else {\r\n          args.push(node.children)\r\n        }\r\n      } else {\r\n        args.push(node.children)\r\n      }\r\n    }\r\n    // patchFlag & dynamicPropNames\r\n    if (patchFlag !== 0) {\r\n      if (!hasChildren) {\r\n        if (!hasProps) {\r\n          args.push(`null`)\r\n        }\r\n        args.push(`null`)\r\n      }\r\n      if (__DEV__) {\r\n        const flagNames = Object.keys(PatchFlagNames)\r\n          .map(Number)\r\n          .filter(n => n > 0 && patchFlag & n)\r\n          .map(n => PatchFlagNames[n])\r\n          .join(`, `)\r\n        args.push(patchFlag + ` /* ${flagNames} */`)\r\n      } else {\r\n        args.push(patchFlag + '')\r\n      }\r\n      if (dynamicPropNames && dynamicPropNames.length) {\r\n        args.push(stringifyDynamicPropNames(dynamicPropNames))\r\n      }\r\n    }\r\n\r\n    const { loc } = node\r\n    const vnode = createCallExpression(context.helper(CREATE_VNODE), args, loc)\r\n\r\n    if (runtimeDirectives && runtimeDirectives.length) {\r\n      node.codegenNode = createCallExpression(\r\n        context.helper(WITH_DIRECTIVES),\r\n        [\r\n          vnode,\r\n          createArrayExpression(\r\n            runtimeDirectives.map(dir => buildDirectiveArgs(dir, context)),\r\n            loc\r\n          )\r\n        ],\r\n        loc\r\n      )\r\n    } else {\r\n      node.codegenNode = vnode\r\n    }\r\n  }\r\n}\r\n\r\nfunction stringifyDynamicPropNames(props: string[]): string {\r\n  let propsNamesString = `[`\r\n  for (let i = 0, l = props.length; i < l; i++) {\r\n    propsNamesString += JSON.stringify(props[i])\r\n    if (i < l - 1) propsNamesString += ', '\r\n  }\r\n  return propsNamesString + `]`\r\n}\r\n\r\nexport type PropsExpression = ObjectExpression | CallExpression | ExpressionNode\r\n\r\nexport function buildProps(\r\n  node: ElementNode,\r\n  context: TransformContext,\r\n  props: ElementNode['props'] = node.props\r\n): {\r\n  props: PropsExpression | undefined\r\n  directives: DirectiveNode[]\r\n  patchFlag: number\r\n  dynamicPropNames: string[]\r\n} {\r\n  const elementLoc = node.loc\r\n  const isComponent = node.tagType === ElementTypes.COMPONENT\r\n  let properties: ObjectExpression['properties'] = []\r\n  const mergeArgs: PropsExpression[] = []\r\n  const runtimeDirectives: DirectiveNode[] = []\r\n\r\n  // patchFlag analysis\r\n  let patchFlag = 0\r\n  let hasRef = false\r\n  let hasClassBinding = false\r\n  let hasStyleBinding = false\r\n  let hasDynamicKeys = false\r\n  const dynamicPropNames: string[] = []\r\n\r\n  const analyzePatchFlag = ({ key, value }: Property) => {\r\n    if (key.type === NodeTypes.SIMPLE_EXPRESSION && key.isStatic) {\r\n      if (\r\n        value.type === NodeTypes.JS_CACHE_EXPRESSION ||\r\n        ((value.type === NodeTypes.SIMPLE_EXPRESSION ||\r\n          value.type === NodeTypes.COMPOUND_EXPRESSION) &&\r\n          isStaticNode(value))\r\n      ) {\r\n        return\r\n      }\r\n      const name = key.content\r\n      if (name === 'ref') {\r\n        hasRef = true\r\n      } else if (name === 'class') {\r\n        hasClassBinding = true\r\n      } else if (name === 'style') {\r\n        hasStyleBinding = true\r\n      } else if (name !== 'key') {\r\n        dynamicPropNames.push(name)\r\n      }\r\n    } else {\r\n      hasDynamicKeys = true\r\n    }\r\n  }\r\n\r\n  for (let i = 0; i < props.length; i++) {\r\n    // static attribute\r\n    const prop = props[i]\r\n    if (prop.type === NodeTypes.ATTRIBUTE) {\r\n      const { loc, name, value } = prop\r\n      if (name === 'ref') {\r\n        hasRef = true\r\n      }\r\n      properties.push(\r\n        createObjectProperty(\r\n          createSimpleExpression(\r\n            name,\r\n            true,\r\n            getInnerRange(loc, 0, name.length)\r\n          ),\r\n          createSimpleExpression(\r\n            value ? value.content : '',\r\n            true,\r\n            value ? value.loc : loc\r\n          )\r\n        )\r\n      )\r\n    } else {\r\n      // directives\r\n      const { name, arg, exp, loc } = prop\r\n\r\n      // skip v-slot - it is handled by its dedicated transform.\r\n      if (name === 'slot') {\r\n        if (!isComponent) {\r\n          context.onError(\r\n            createCompilerError(ErrorCodes.X_V_SLOT_MISPLACED, loc)\r\n          )\r\n        }\r\n        continue\r\n      }\r\n\r\n      // skip v-once - it is handled by its dedicated transform.\r\n      if (name === 'once') {\r\n        continue\r\n      }\r\n\r\n      // special case for v-bind and v-on with no argument\r\n      const isBind = name === 'bind'\r\n      const isOn = name === 'on'\r\n      if (!arg && (isBind || isOn)) {\r\n        hasDynamicKeys = true\r\n        if (exp) {\r\n          if (properties.length) {\r\n            mergeArgs.push(\r\n              createObjectExpression(dedupeProperties(properties), elementLoc)\r\n            )\r\n            properties = []\r\n          }\r\n          if (isBind) {\r\n            mergeArgs.push(exp)\r\n          } else {\r\n            // v-on=\"obj\" -> toHandlers(obj)\r\n            mergeArgs.push({\r\n              type: NodeTypes.JS_CALL_EXPRESSION,\r\n              loc,\r\n              callee: context.helper(TO_HANDLERS),\r\n              arguments: [exp]\r\n            })\r\n          }\r\n        } else {\r\n          context.onError(\r\n            createCompilerError(\r\n              isBind\r\n                ? ErrorCodes.X_V_BIND_NO_EXPRESSION\r\n                : ErrorCodes.X_V_ON_NO_EXPRESSION,\r\n              loc\r\n            )\r\n          )\r\n        }\r\n        continue\r\n      }\r\n\r\n      const directiveTransform = context.directiveTransforms[name]\r\n      if (directiveTransform) {\r\n        // has built-in directive transform.\r\n        const { props, needRuntime } = directiveTransform(prop, node, context)\r\n        props.forEach(analyzePatchFlag)\r\n        properties.push(...props)\r\n        if (needRuntime) {\r\n          runtimeDirectives.push(prop)\r\n          if (isSymbol(needRuntime)) {\r\n            directiveImportMap.set(prop, needRuntime)\r\n          }\r\n        }\r\n      } else {\r\n        // no built-in transform, this is a user custom directive.\r\n        runtimeDirectives.push(prop)\r\n      }\r\n    }\r\n  }\r\n\r\n  let propsExpression: PropsExpression | undefined = undefined\r\n\r\n  // has v-bind=\"object\" or v-on=\"object\", wrap with mergeProps\r\n  if (mergeArgs.length) {\r\n    if (properties.length) {\r\n      mergeArgs.push(\r\n        createObjectExpression(dedupeProperties(properties), elementLoc)\r\n      )\r\n    }\r\n    if (mergeArgs.length > 1) {\r\n      propsExpression = createCallExpression(\r\n        context.helper(MERGE_PROPS),\r\n        mergeArgs,\r\n        elementLoc\r\n      )\r\n    } else {\r\n      // single v-bind with nothing else - no need for a mergeProps call\r\n      propsExpression = mergeArgs[0]\r\n    }\r\n  } else if (properties.length) {\r\n    propsExpression = createObjectExpression(\r\n      dedupeProperties(properties),\r\n      elementLoc\r\n    )\r\n  }\r\n\r\n  // patchFlag analysis\r\n  if (hasDynamicKeys) {\r\n    patchFlag |= PatchFlags.FULL_PROPS\r\n  } else {\r\n    if (hasClassBinding) {\r\n      patchFlag |= PatchFlags.CLASS\r\n    }\r\n    if (hasStyleBinding) {\r\n      patchFlag |= PatchFlags.STYLE\r\n    }\r\n    if (dynamicPropNames.length) {\r\n      patchFlag |= PatchFlags.PROPS\r\n    }\r\n  }\r\n  if (patchFlag === 0 && (hasRef || runtimeDirectives.length > 0)) {\r\n    patchFlag |= PatchFlags.NEED_PATCH\r\n  }\r\n\r\n  return {\r\n    props: propsExpression,\r\n    directives: runtimeDirectives,\r\n    patchFlag,\r\n    dynamicPropNames\r\n  }\r\n}\r\n\r\n// Dedupe props in an object literal.\r\n// Literal duplicated attributes would have been warned during the parse phase,\r\n// however, it's possible to encounter duplicated `onXXX` handlers with different\r\n// modifiers. We also need to merge static and dynamic class / style attributes.\r\n// - onXXX handlers / style: merge into array\r\n// - class: merge into single expression with concatenation\r\nfunction dedupeProperties(properties: Property[]): Property[] {\r\n  const knownProps: Map<string, Property> = new Map()\r\n  const deduped: Property[] = []\r\n  for (let i = 0; i < properties.length; i++) {\r\n    const prop = properties[i]\r\n    // dynamic keys are always allowed\r\n    if (prop.key.type === NodeTypes.COMPOUND_EXPRESSION || !prop.key.isStatic) {\r\n      deduped.push(prop)\r\n      continue\r\n    }\r\n    const name = prop.key.content\r\n    const existing = knownProps.get(name)\r\n    if (existing) {\r\n      if (\r\n        name === 'style' ||\r\n        name === 'class' ||\r\n        name.startsWith('on') ||\r\n        name.startsWith('vnode')\r\n      ) {\r\n        mergeAsArray(existing, prop)\r\n      }\r\n      // unexpected duplicate, should have emitted error during parse\r\n    } else {\r\n      knownProps.set(name, prop)\r\n      deduped.push(prop)\r\n    }\r\n  }\r\n  return deduped\r\n}\r\n\r\nfunction mergeAsArray(existing: Property, incoming: Property) {\r\n  if (existing.value.type === NodeTypes.JS_ARRAY_EXPRESSION) {\r\n    existing.value.elements.push(incoming.value)\r\n  } else {\r\n    existing.value = createArrayExpression(\r\n      [existing.value, incoming.value],\r\n      existing.loc\r\n    )\r\n  }\r\n}\r\n\r\nfunction buildDirectiveArgs(\r\n  dir: DirectiveNode,\r\n  context: TransformContext\r\n): ArrayExpression {\r\n  const dirArgs: ArrayExpression['elements'] = []\r\n  const runtime = directiveImportMap.get(dir)\r\n  if (runtime) {\r\n    context.helper(runtime)\r\n    dirArgs.push(context.helperString(runtime))\r\n  } else {\r\n    // inject statement for resolving directive\r\n    context.helper(RESOLVE_DIRECTIVE)\r\n    context.directives.add(dir.name)\r\n    dirArgs.push(toValidAssetId(dir.name, `directive`))\r\n  }\r\n  const { loc } = dir\r\n  if (dir.exp) dirArgs.push(dir.exp)\r\n  if (dir.arg) {\r\n    if (!dir.exp) {\r\n      dirArgs.push(`void 0`)\r\n    }\r\n    dirArgs.push(dir.arg)\r\n  }\r\n  if (Object.keys(dir.modifiers).length) {\r\n    if (!dir.arg) {\r\n      if (!dir.exp) {\r\n        dirArgs.push(`void 0`)\r\n      }\r\n      dirArgs.push(`void 0`)\r\n    }\r\n    const trueExpression = createSimpleExpression(`true`, false, loc)\r\n    dirArgs.push(\r\n      createObjectExpression(\r\n        dir.modifiers.map(modifier =>\r\n          createObjectProperty(modifier, trueExpression)\r\n        ),\r\n        loc\r\n      )\r\n    )\r\n  }\r\n  return createArrayExpression(dirArgs, dir.loc)\r\n}\r\n","import { NodeTransform } from '../transform'\r\nimport {\r\n  NodeTypes,\r\n  CallExpression,\r\n  createCallExpression,\r\n  ExpressionNode\r\n} from '../ast'\r\nimport { isSlotOutlet } from '../utils'\r\nimport { buildProps } from './transformElement'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport { RENDER_SLOT } from '../runtimeHelpers'\r\n\r\nexport const transformSlotOutlet: NodeTransform = (node, context) => {\r\n  if (isSlotOutlet(node)) {\r\n    const { props, children, loc } = node\r\n    const $slots = context.prefixIdentifiers ? `_ctx.$slots` : `$slots`\r\n    let slotName: string | ExpressionNode = `\"default\"`\r\n\r\n    // check for <slot name=\"xxx\" OR :name=\"xxx\" />\r\n    let nameIndex: number = -1\r\n    for (let i = 0; i < props.length; i++) {\r\n      const prop = props[i]\r\n      if (prop.type === NodeTypes.ATTRIBUTE) {\r\n        if (prop.name === `name` && prop.value) {\r\n          // static name=\"xxx\"\r\n          slotName = JSON.stringify(prop.value.content)\r\n          nameIndex = i\r\n          break\r\n        }\r\n      } else if (prop.name === `bind`) {\r\n        const { arg, exp } = prop\r\n        if (\r\n          arg &&\r\n          exp &&\r\n          arg.type === NodeTypes.SIMPLE_EXPRESSION &&\r\n          arg.isStatic &&\r\n          arg.content === `name`\r\n        ) {\r\n          // dynamic :name=\"xxx\"\r\n          slotName = exp\r\n          nameIndex = i\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    const slotArgs: CallExpression['arguments'] = [$slots, slotName]\r\n    const propsWithoutName =\r\n      nameIndex > -1\r\n        ? props.slice(0, nameIndex).concat(props.slice(nameIndex + 1))\r\n        : props\r\n    let hasProps = propsWithoutName.length > 0\r\n    if (hasProps) {\r\n      const { props: propsExpression, directives } = buildProps(\r\n        node,\r\n        context,\r\n        propsWithoutName\r\n      )\r\n      if (directives.length) {\r\n        context.onError(\r\n          createCompilerError(\r\n            ErrorCodes.X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET,\r\n            directives[0].loc\r\n          )\r\n        )\r\n      }\r\n      if (propsExpression) {\r\n        slotArgs.push(propsExpression)\r\n      } else {\r\n        hasProps = false\r\n      }\r\n    }\r\n\r\n    if (children.length) {\r\n      if (!hasProps) {\r\n        slotArgs.push(`{}`)\r\n      }\r\n      slotArgs.push(children)\r\n    }\r\n\r\n    node.codegenNode = createCallExpression(\r\n      context.helper(RENDER_SLOT),\r\n      slotArgs,\r\n      loc\r\n    )\r\n  }\r\n}\r\n","import { DirectiveTransform, DirectiveTransformResult } from '../transform'\r\nimport {\r\n  DirectiveNode,\r\n  createObjectProperty,\r\n  createSimpleExpression,\r\n  ExpressionNode,\r\n  NodeTypes,\r\n  createCompoundExpression,\r\n  SimpleExpressionNode\r\n} from '../ast'\r\nimport { capitalize } from '@vue/shared'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport { processExpression } from './transformExpression'\r\nimport { isMemberExpression, hasScopeRef } from '../utils'\r\n\r\nconst fnExpRE = /^([\\w$_]+|\\([^)]*?\\))\\s*=>|^function(?:\\s+[\\w$]+)?\\s*\\(/\r\n\r\nexport interface VOnDirectiveNode extends DirectiveNode {\r\n  // v-on without arg is handled directly in ./transformElements.ts due to it affecting\r\n  // codegen for the entire props object. This transform here is only for v-on\r\n  // *with* args.\r\n  arg: ExpressionNode\r\n  // exp is guaranteed to be a simple expression here because v-on w/ arg is\r\n  // skipped by transformExpression as a special case.\r\n  exp: SimpleExpressionNode | undefined\r\n}\r\n\r\nexport const transformOn: DirectiveTransform = (\r\n  dir: VOnDirectiveNode,\r\n  node,\r\n  context,\r\n  augmentor\r\n) => {\r\n  const { loc, modifiers, arg } = dir\r\n  if (!dir.exp && !modifiers.length) {\r\n    context.onError(createCompilerError(ErrorCodes.X_V_ON_NO_EXPRESSION, loc))\r\n  }\r\n  let eventName: ExpressionNode\r\n  if (arg.type === NodeTypes.SIMPLE_EXPRESSION) {\r\n    if (arg.isStatic) {\r\n      eventName = createSimpleExpression(\r\n        `on${capitalize(arg.content)}`,\r\n        true,\r\n        arg.loc\r\n      )\r\n    } else {\r\n      eventName = createCompoundExpression([`\"on\" + (`, arg, `)`])\r\n    }\r\n  } else {\r\n    // already a compound expression.\r\n    eventName = arg\r\n    eventName.children.unshift(`\"on\" + (`)\r\n    eventName.children.push(`)`)\r\n  }\r\n\r\n  // handler processing\r\n  let exp: ExpressionNode | undefined = dir.exp\r\n  let isCacheable: boolean = !exp\r\n  if (exp) {\r\n    const isMemberExp = isMemberExpression(exp.content)\r\n    const isInlineStatement = !(isMemberExp || fnExpRE.test(exp.content))\r\n\r\n    // process the expression since it's been skipped\r\n    if (!__BROWSER__ && context.prefixIdentifiers) {\r\n      context.addIdentifiers(`$event`)\r\n      exp = processExpression(exp, context)\r\n      context.removeIdentifiers(`$event`)\r\n      // with scope analysis, the function is hoistable if it has no reference\r\n      // to scope variables.\r\n      isCacheable =\r\n        context.cacheHandlers && !hasScopeRef(exp, context.identifiers)\r\n      // If the expression is optimizable and is a member expression pointing\r\n      // to a function, turn it into invocation (and wrap in an arrow function\r\n      // below) so that it always accesses the latest value when called - thus\r\n      // avoiding the need to be patched.\r\n      if (isCacheable && isMemberExp) {\r\n        if (exp.type === NodeTypes.SIMPLE_EXPRESSION) {\r\n          exp.content += `($event)`\r\n        } else {\r\n          exp.children.push(`($event)`)\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isInlineStatement || (isCacheable && isMemberExp)) {\r\n      // wrap inline statement in a function expression\r\n      exp = createCompoundExpression([\r\n        `$event => (`,\r\n        ...(exp.type === NodeTypes.SIMPLE_EXPRESSION ? [exp] : exp.children),\r\n        `)`\r\n      ])\r\n    }\r\n  }\r\n\r\n  let ret: DirectiveTransformResult = {\r\n    props: [\r\n      createObjectProperty(\r\n        eventName,\r\n        exp || createSimpleExpression(`() => {}`, false, loc)\r\n      )\r\n    ],\r\n    needRuntime: false\r\n  }\r\n\r\n  // apply extended compiler augmentor\r\n  if (augmentor) {\r\n    ret = augmentor(ret)\r\n  }\r\n\r\n  if (isCacheable) {\r\n    // cache handlers so that it's always the same handler being passed down.\r\n    // this avoids unnecessary re-renders when users use inline handlers on\r\n    // components.\r\n    ret.props[0].value = context.cache(ret.props[0].value)\r\n  }\r\n\r\n  return ret\r\n}\r\n","import { DirectiveTransform } from '../transform'\r\nimport { createObjectProperty, createSimpleExpression, NodeTypes } from '../ast'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport { camelize } from '@vue/shared'\r\nimport { CAMELIZE } from '../runtimeHelpers'\r\n\r\n// v-bind without arg is handled directly in ./transformElements.ts due to it affecting\r\n// codegen for the entire props object. This transform here is only for v-bind\r\n// *with* args.\r\nexport const transformBind: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, modifiers, loc } = dir\r\n  const arg = dir.arg!\r\n  if (!exp) {\r\n    context.onError(createCompilerError(ErrorCodes.X_V_BIND_NO_EXPRESSION, loc))\r\n  }\r\n  // .prop is no longer necessary due to new patch behavior\r\n  // .sync is replaced by v-model:arg\r\n  if (modifiers.includes('camel')) {\r\n    if (arg.type === NodeTypes.SIMPLE_EXPRESSION) {\r\n      if (arg.isStatic) {\r\n        arg.content = camelize(arg.content)\r\n      } else {\r\n        arg.content = `${context.helperString(CAMELIZE)}(${arg.content})`\r\n      }\r\n    } else {\r\n      arg.children.unshift(`${context.helperString(CAMELIZE)}(`)\r\n      arg.children.push(`)`)\r\n    }\r\n  }\r\n  return {\r\n    props: [\r\n      createObjectProperty(arg!, exp || createSimpleExpression('', true, loc))\r\n    ],\r\n    needRuntime: false\r\n  }\r\n}\r\n","import { NodeTransform } from '../transform'\r\nimport {\r\n  NodeTypes,\r\n  TemplateChildNode,\r\n  TextNode,\r\n  InterpolationNode,\r\n  CompoundExpressionNode,\r\n  createCallExpression,\r\n  CallExpression\r\n} from '../ast'\r\nimport { CREATE_TEXT } from '../runtimeHelpers'\r\nimport { PatchFlags, PatchFlagNames } from '@vue/shared'\r\n\r\nconst isText = (\r\n  node: TemplateChildNode\r\n): node is TextNode | InterpolationNode =>\r\n  node.type === NodeTypes.INTERPOLATION || node.type === NodeTypes.TEXT\r\n\r\n// Merge adjacent text nodes and expressions into a single expression\r\n// e.g. <div>abc {{ d }} {{ e }}</div> should have a single expression node as child.\r\nexport const transformText: NodeTransform = (node, context) => {\r\n  if (node.type === NodeTypes.ROOT || node.type === NodeTypes.ELEMENT) {\r\n    // perform the transform on node exit so that all expressions have already\r\n    // been processed.\r\n    return () => {\r\n      const children = node.children\r\n      let currentContainer: CompoundExpressionNode | undefined = undefined\r\n      let hasText = false\r\n\r\n      for (let i = 0; i < children.length; i++) {\r\n        const child = children[i]\r\n        if (isText(child)) {\r\n          hasText = true\r\n          for (let j = i + 1; j < children.length; j++) {\r\n            const next = children[j]\r\n            if (isText(next)) {\r\n              if (!currentContainer) {\r\n                currentContainer = children[i] = {\r\n                  type: NodeTypes.COMPOUND_EXPRESSION,\r\n                  loc: child.loc,\r\n                  children: [child]\r\n                }\r\n              }\r\n              // merge adjacent text node into current\r\n              currentContainer.children.push(` + `, next)\r\n              children.splice(j, 1)\r\n              j--\r\n            } else {\r\n              currentContainer = undefined\r\n              break\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (hasText && children.length > 1) {\r\n        // when an element has mixed text/element children, convert text nodes\r\n        // into createTextVNode(text) calls.\r\n        for (let i = 0; i < children.length; i++) {\r\n          const child = children[i]\r\n          if (isText(child) || child.type === NodeTypes.COMPOUND_EXPRESSION) {\r\n            const callArgs: CallExpression['arguments'] = []\r\n            // createTextVNode defaults to single whitespace, so if it is a\r\n            // single space the code could be an empty call to save bytes.\r\n            if (child.type !== NodeTypes.TEXT || child.content !== ' ') {\r\n              callArgs.push(child)\r\n            }\r\n            // mark dynamic text with flag so it gets patched inside a block\r\n            if (child.type !== NodeTypes.TEXT) {\r\n              callArgs.push(\r\n                `${PatchFlags.TEXT} /* ${PatchFlagNames[PatchFlags.TEXT]} */`\r\n              )\r\n            }\r\n            children[i] = {\r\n              type: NodeTypes.TEXT_CALL,\r\n              content: child,\r\n              loc: child.loc,\r\n              codegenNode: createCallExpression(\r\n                context.helper(CREATE_TEXT),\r\n                callArgs\r\n              )\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { NodeTransform } from '../transform'\r\nimport { findDir } from '../utils'\r\nimport { NodeTypes } from '../ast'\r\nimport { SET_BLOCK_TRACKING } from '../runtimeHelpers'\r\n\r\nexport const transformOnce: NodeTransform = (node, context) => {\r\n  if (node.type === NodeTypes.ELEMENT && findDir(node, 'once', true)) {\r\n    context.helper(SET_BLOCK_TRACKING)\r\n    return () => {\r\n      if (node.codegenNode) {\r\n        node.codegenNode = context.cache(node.codegenNode, true /* isVNode */)\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { DirectiveTransform } from '../transform'\r\nimport {\r\n  createSimpleExpression,\r\n  createObjectProperty,\r\n  createCompoundExpression,\r\n  NodeTypes,\r\n  Property,\r\n  ElementTypes\r\n} from '../ast'\r\nimport { createCompilerError, ErrorCodes } from '../errors'\r\nimport { isMemberExpression, isSimpleIdentifier, hasScopeRef } from '../utils'\r\n\r\nexport const transformModel: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, arg } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createCompilerError(ErrorCodes.X_V_MODEL_NO_EXPRESSION, dir.loc)\r\n    )\r\n    return createTransformProps()\r\n  }\r\n\r\n  const expString =\r\n    exp.type === NodeTypes.SIMPLE_EXPRESSION ? exp.content : exp.loc.source\r\n  if (!isMemberExpression(expString)) {\r\n    context.onError(\r\n      createCompilerError(ErrorCodes.X_V_MODEL_MALFORMED_EXPRESSION, exp.loc)\r\n    )\r\n    return createTransformProps()\r\n  }\r\n\r\n  if (\r\n    !__BROWSER__ &&\r\n    context.prefixIdentifiers &&\r\n    isSimpleIdentifier(expString) &&\r\n    context.identifiers[expString]\r\n  ) {\r\n    context.onError(\r\n      createCompilerError(ErrorCodes.X_V_MODEL_ON_SCOPE_VARIABLE, exp.loc)\r\n    )\r\n    return createTransformProps()\r\n  }\r\n\r\n  const propName = arg ? arg : createSimpleExpression('modelValue', true)\r\n  const eventName = arg\r\n    ? arg.type === NodeTypes.SIMPLE_EXPRESSION && arg.isStatic\r\n      ? `onUpdate:${arg.content}`\r\n      : createCompoundExpression([\r\n          '\"onUpdate:\" + ',\r\n          ...(arg.type === NodeTypes.SIMPLE_EXPRESSION ? [arg] : arg.children)\r\n        ])\r\n    : `onUpdate:modelValue`\r\n\r\n  const props = [\r\n    // modelValue: foo\r\n    createObjectProperty(propName, dir.exp!),\r\n    // \"onUpdate:modelValue\": $event => (foo = $event)\r\n    createObjectProperty(\r\n      eventName,\r\n      createCompoundExpression([\r\n        `$event => (`,\r\n        ...(exp.type === NodeTypes.SIMPLE_EXPRESSION ? [exp] : exp.children),\r\n        ` = $event)`\r\n      ])\r\n    )\r\n  ]\r\n\r\n  // cache v-model handler if applicable (when it doesn't refer any scope vars)\r\n  if (\r\n    !__BROWSER__ &&\r\n    context.prefixIdentifiers &&\r\n    context.cacheHandlers &&\r\n    !hasScopeRef(exp, context.identifiers)\r\n  ) {\r\n    props[1].value = context.cache(props[1].value)\r\n  }\r\n\r\n  // modelModifiers: { foo: true, \"bar-baz\": true }\r\n  if (dir.modifiers.length && node.tagType === ElementTypes.COMPONENT) {\r\n    const modifiers = dir.modifiers\r\n      .map(m => (isSimpleIdentifier(m) ? m : JSON.stringify(m)) + `: true`)\r\n      .join(`, `)\r\n    const modifiersKey = arg\r\n      ? arg.type === NodeTypes.SIMPLE_EXPRESSION && arg.isStatic\r\n        ? `${arg.content}Modifiers`\r\n        : createCompoundExpression([\r\n            ...(arg.type === NodeTypes.SIMPLE_EXPRESSION\r\n              ? [arg]\r\n              : arg.children),\r\n            ' + \"Modifiers\"'\r\n          ])\r\n      : `modelModifiers`\r\n    props.push(\r\n      createObjectProperty(\r\n        modifiersKey,\r\n        createSimpleExpression(`{ ${modifiers} }`, false, dir.loc, true)\r\n      )\r\n    )\r\n  }\r\n\r\n  return createTransformProps(props)\r\n}\r\n\r\nfunction createTransformProps(props: Property[] = []) {\r\n  return { props, needRuntime: false }\r\n}\r\n","import { parse, ParserOptions } from './parse'\r\nimport { transform, TransformOptions } from './transform'\r\nimport { generate, CodegenOptions, CodegenResult } from './codegen'\r\nimport { RootNode } from './ast'\r\nimport { isString } from '@vue/shared'\r\nimport { transformIf } from './transforms/vIf'\r\nimport { transformFor } from './transforms/vFor'\r\nimport { transformExpression } from './transforms/transformExpression'\r\nimport { transformSlotOutlet } from './transforms/transformSlotOutlet'\r\nimport { transformElement } from './transforms/transformElement'\r\nimport { transformOn } from './transforms/vOn'\r\nimport { transformBind } from './transforms/vBind'\r\nimport { defaultOnError, createCompilerError, ErrorCodes } from './errors'\r\nimport { trackSlotScopes, trackVForSlotScopes } from './transforms/vSlot'\r\nimport { transformText } from './transforms/transformText'\r\nimport { transformOnce } from './transforms/vOnce'\r\nimport { transformModel } from './transforms/vModel'\r\n\r\nexport type CompilerOptions = ParserOptions & TransformOptions & CodegenOptions\r\n\r\n// we name it `baseCompile` so that higher order compilers like @vue/compiler-dom\r\n// can export `compile` while re-exporting everything else.\r\nexport function baseCompile(\r\n  template: string | RootNode,\r\n  options: CompilerOptions = {}\r\n): CodegenResult {\r\n  /* istanbul ignore if */\r\n  if (__BROWSER__) {\r\n    const onError = options.onError || defaultOnError\r\n    if (options.prefixIdentifiers === true) {\r\n      onError(createCompilerError(ErrorCodes.X_PREFIX_ID_NOT_SUPPORTED))\r\n    } else if (options.mode === 'module') {\r\n      onError(createCompilerError(ErrorCodes.X_MODULE_MODE_NOT_SUPPORTED))\r\n    }\r\n  }\r\n\r\n  const ast = isString(template) ? parse(template, options) : template\r\n\r\n  const prefixIdentifiers =\r\n    !__BROWSER__ &&\r\n    (options.prefixIdentifiers === true || options.mode === 'module')\r\n\r\n  transform(ast, {\r\n    ...options,\r\n    prefixIdentifiers,\r\n    nodeTransforms: [\r\n      transformOnce,\r\n      transformIf,\r\n      transformFor,\r\n      ...(prefixIdentifiers\r\n        ? [\r\n            // order is important\r\n            trackVForSlotScopes,\r\n            transformExpression\r\n          ]\r\n        : []),\r\n      transformSlotOutlet,\r\n      transformElement,\r\n      trackSlotScopes,\r\n      transformText,\r\n      ...(options.nodeTransforms || []) // user transforms\r\n    ],\r\n    directiveTransforms: {\r\n      on: transformOn,\r\n      bind: transformBind,\r\n      model: transformModel,\r\n      ...(options.directiveTransforms || {}) // user transforms\r\n    }\r\n  })\r\n\r\n  return generate(ast, {\r\n    ...options,\r\n    prefixIdentifiers\r\n  })\r\n}\r\n\r\n// Also expose lower level APIs & types\r\nexport { parse, ParserOptions, TextModes } from './parse'\r\nexport {\r\n  transform,\r\n  createStructuralDirectiveTransform,\r\n  TransformOptions,\r\n  TransformContext,\r\n  NodeTransform,\r\n  StructuralDirectiveTransform,\r\n  DirectiveTransform\r\n} from './transform'\r\nexport {\r\n  generate,\r\n  CodegenOptions,\r\n  CodegenContext,\r\n  CodegenResult\r\n} from './codegen'\r\nexport {\r\n  ErrorCodes,\r\n  CoreCompilerError,\r\n  CompilerError,\r\n  createCompilerError\r\n} from './errors'\r\nexport * from './ast'\r\nexport * from './utils'\r\nexport { registerRuntimeHelpers } from './runtimeHelpers'\r\n\r\n// expose transforms so higher-order compilers can import and extend them\r\nexport { transformModel } from './transforms/vModel'\r\nexport { transformOn } from './transforms/vOn'\r\n","import {\r\n  TextModes,\r\n  ParserOptions,\r\n  ElementNode,\r\n  Namespaces,\r\n  NodeTypes\r\n} from '@vue/compiler-core'\r\nimport { makeMap, isVoidTag, isHTMLTag, isSVGTag } from '@vue/shared'\r\n\r\nconst isRawTextContainer = /*#__PURE__*/ makeMap(\r\n  'style,iframe,script,noscript',\r\n  true\r\n)\r\n\r\nexport const enum DOMNamespaces {\r\n  HTML = Namespaces.HTML,\r\n  SVG,\r\n  MATH_ML\r\n}\r\n\r\nexport const parserOptionsMinimal: ParserOptions = {\r\n  isVoidTag,\r\n  isNativeTag: tag => isHTMLTag(tag) || isSVGTag(tag),\r\n  isPreTag: tag => tag === 'pre',\r\n\r\n  // https://html.spec.whatwg.org/multipage/parsing.html#tree-construction-dispatcher\r\n  getNamespace(tag: string, parent: ElementNode | undefined): DOMNamespaces {\r\n    let ns = parent ? parent.ns : DOMNamespaces.HTML\r\n\r\n    if (parent && ns === DOMNamespaces.MATH_ML) {\r\n      if (parent.tag === 'annotation-xml') {\r\n        if (tag === 'svg') {\r\n          return DOMNamespaces.SVG\r\n        }\r\n        if (\r\n          parent.props.some(\r\n            a =>\r\n              a.type === NodeTypes.ATTRIBUTE &&\r\n              a.name === 'encoding' &&\r\n              a.value != null &&\r\n              (a.value.content === 'text/html' ||\r\n                a.value.content === 'application/xhtml+xml')\r\n          )\r\n        ) {\r\n          ns = DOMNamespaces.HTML\r\n        }\r\n      } else if (\r\n        /^m(?:[ions]|text)$/.test(parent.tag) &&\r\n        tag !== 'mglyph' &&\r\n        tag !== 'malignmark'\r\n      ) {\r\n        ns = DOMNamespaces.HTML\r\n      }\r\n    } else if (parent && ns === DOMNamespaces.SVG) {\r\n      if (\r\n        parent.tag === 'foreignObject' ||\r\n        parent.tag === 'desc' ||\r\n        parent.tag === 'title'\r\n      ) {\r\n        ns = DOMNamespaces.HTML\r\n      }\r\n    }\r\n\r\n    if (ns === DOMNamespaces.HTML) {\r\n      if (tag === 'svg') {\r\n        return DOMNamespaces.SVG\r\n      }\r\n      if (tag === 'math') {\r\n        return DOMNamespaces.MATH_ML\r\n      }\r\n    }\r\n    return ns\r\n  },\r\n\r\n  // https://html.spec.whatwg.org/multipage/parsing.html#parsing-html-fragments\r\n  getTextMode(tag: string, ns: DOMNamespaces): TextModes {\r\n    if (ns === DOMNamespaces.HTML) {\r\n      if (tag === 'textarea' || tag === 'title') {\r\n        return TextModes.RCDATA\r\n      }\r\n      if (isRawTextContainer(tag)) {\r\n        return TextModes.RAWTEXT\r\n      }\r\n    }\r\n    return TextModes.DATA\r\n  }\r\n}\r\n","import {\r\n  NodeTransform,\r\n  NodeTypes,\r\n  createSimpleExpression\r\n} from '@vue/compiler-core'\r\n\r\n// Parse inline CSS strings for static style attributes into an object.\r\n// This is a NodeTransform since it works on the static `style` attribute and\r\n// converts it into a dynamic equivalent:\r\n// style=\"color: red\" -> :style='{ \"color\": \"red\" }'\r\n// It is then processed by `transformElement` and included in the generated\r\n// props.\r\nexport const transformStyle: NodeTransform = (node, context) => {\r\n  if (node.type === NodeTypes.ELEMENT) {\r\n    node.props.forEach((p, i) => {\r\n      if (p.type === NodeTypes.ATTRIBUTE && p.name === 'style' && p.value) {\r\n        // replace p with an expression node\r\n        const parsed = JSON.stringify(parseInlineCSS(p.value.content))\r\n        const exp = context.hoist(createSimpleExpression(parsed, false, p.loc))\r\n        node.props[i] = {\r\n          type: NodeTypes.DIRECTIVE,\r\n          name: `bind`,\r\n          arg: createSimpleExpression(`style`, true, p.loc),\r\n          exp,\r\n          modifiers: [],\r\n          loc: p.loc\r\n        }\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nconst listDelimiterRE = /;(?![^(]*\\))/g\r\nconst propertyDelimiterRE = /:(.+)/\r\n\r\nfunction parseInlineCSS(cssText: string): Record<string, string> {\r\n  const res: Record<string, string> = {}\r\n  cssText.split(listDelimiterRE).forEach(item => {\r\n    if (item) {\r\n      const tmp = item.split(propertyDelimiterRE)\r\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim())\r\n    }\r\n  })\r\n  return res\r\n}\r\n","import { DirectiveTransform } from 'packages/compiler-core/src/transform'\r\n\r\nexport const transformCloak: DirectiveTransform = (node, context) => {\r\n  return { props: [], needRuntime: false }\r\n}\r\n","import {\r\n  SourceLocation,\r\n  CompilerError,\r\n  createCompilerError,\r\n  ErrorCodes\r\n} from '@vue/compiler-core'\r\n\r\nexport interface DOMCompilerError extends CompilerError {\r\n  code: DOMErrorCodes\r\n}\r\n\r\nexport function createDOMCompilerError(\r\n  code: DOMErrorCodes,\r\n  loc?: SourceLocation\r\n): DOMCompilerError {\r\n  return createCompilerError(\r\n    code,\r\n    loc,\r\n    __DEV__ || !__BROWSER__ ? DOMErrorMessages : undefined\r\n  )\r\n}\r\n\r\nexport const enum DOMErrorCodes {\r\n  X_V_HTML_NO_EXPRESSION = ErrorCodes.__EXTEND_POINT__,\r\n  X_V_HTML_WITH_CHILDREN,\r\n  X_V_TEXT_NO_EXPRESSION,\r\n  X_V_TEXT_WITH_CHILDREN,\r\n  X_V_MODEL_ON_INVALID_ELEMENT,\r\n  X_V_MODEL_ARG_ON_ELEMENT,\r\n  X_V_MODEL_ON_FILE_INPUT_ELEMENT,\r\n  X_V_SHOW_NO_EXPRESSION\r\n}\r\n\r\nexport const DOMErrorMessages: { [code: number]: string } = {\r\n  [DOMErrorCodes.X_V_HTML_NO_EXPRESSION]: `v-html is missing expression.`,\r\n  [DOMErrorCodes.X_V_HTML_WITH_CHILDREN]: `v-html will override element children.`,\r\n  [DOMErrorCodes.X_V_TEXT_NO_EXPRESSION]: `v-text is missing expression.`,\r\n  [DOMErrorCodes.X_V_TEXT_WITH_CHILDREN]: `v-text will override element children.`,\r\n  [DOMErrorCodes.X_V_MODEL_ON_INVALID_ELEMENT]: `v-model can only be used on <input>, <textarea> and <select> elements.`,\r\n  [DOMErrorCodes.X_V_MODEL_ARG_ON_ELEMENT]: `v-model argument is not supported on plain elements.`,\r\n  [DOMErrorCodes.X_V_MODEL_ON_FILE_INPUT_ELEMENT]: `v-model cannot used on file inputs since they are read-only. Use a v-on:change listener instead.`,\r\n  [DOMErrorCodes.X_V_SHOW_NO_EXPRESSION]: `v-show is missing expression.`\r\n}\r\n","import {\r\n  DirectiveTransform,\r\n  createObjectProperty,\r\n  createSimpleExpression\r\n} from '@vue/compiler-core'\r\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\r\n\r\nexport const transformVHtml: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, loc } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_HTML_NO_EXPRESSION, loc)\r\n    )\r\n  }\r\n  if (node.children.length) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_HTML_WITH_CHILDREN, loc)\r\n    )\r\n    node.children.length = 0\r\n  }\r\n  return {\r\n    props: [\r\n      createObjectProperty(\r\n        createSimpleExpression(`innerHTML`, true, loc),\r\n        exp || createSimpleExpression('', true)\r\n      )\r\n    ],\r\n    needRuntime: false\r\n  }\r\n}\r\n","import {\r\n  DirectiveTransform,\r\n  createObjectProperty,\r\n  createSimpleExpression\r\n} from '@vue/compiler-core'\r\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\r\n\r\nexport const transformVText: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, loc } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_TEXT_NO_EXPRESSION, loc)\r\n    )\r\n  }\r\n  if (node.children.length) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_TEXT_WITH_CHILDREN, loc)\r\n    )\r\n    node.children.length = 0\r\n  }\r\n  return {\r\n    props: [\r\n      createObjectProperty(\r\n        createSimpleExpression(`textContent`, true, loc),\r\n        exp || createSimpleExpression('', true)\r\n      )\r\n    ],\r\n    needRuntime: false\r\n  }\r\n}\r\n","import { registerRuntimeHelpers } from '@vue/compiler-core'\r\n\r\nexport const V_MODEL_RADIO = Symbol(__DEV__ ? `vModelRadio` : ``)\r\nexport const V_MODEL_CHECKBOX = Symbol(__DEV__ ? `vModelCheckbox` : ``)\r\nexport const V_MODEL_TEXT = Symbol(__DEV__ ? `vModelText` : ``)\r\nexport const V_MODEL_SELECT = Symbol(__DEV__ ? `vModelSelect` : ``)\r\nexport const V_MODEL_DYNAMIC = Symbol(__DEV__ ? `vModelDynamic` : ``)\r\n\r\nexport const V_ON_WITH_MODIFIERS = Symbol(__DEV__ ? `vOnModifiersGuard` : ``)\r\nexport const V_ON_WITH_KEYS = Symbol(__DEV__ ? `vOnKeysGuard` : ``)\r\n\r\nexport const V_SHOW = Symbol(__DEV__ ? `vShow` : ``)\r\n\r\nregisterRuntimeHelpers({\r\n  [V_MODEL_RADIO]: `vModelRadio`,\r\n  [V_MODEL_CHECKBOX]: `vModelCheckbox`,\r\n  [V_MODEL_TEXT]: `vModelText`,\r\n  [V_MODEL_SELECT]: `vModelSelect`,\r\n  [V_MODEL_DYNAMIC]: `vModelDynamic`,\r\n  [V_ON_WITH_MODIFIERS]: `withModifiers`,\r\n  [V_ON_WITH_KEYS]: `withKeys`,\r\n  [V_SHOW]: `vShow`\r\n})\r\n","import {\r\n  transformModel as baseTransform,\r\n  DirectiveTransform,\r\n  ElementTypes,\r\n  findProp,\r\n  NodeTypes\r\n} from '@vue/compiler-core'\r\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\r\nimport {\r\n  V_MODEL_CHECKBOX,\r\n  V_MODEL_RADIO,\r\n  V_MODEL_SELECT,\r\n  V_MODEL_TEXT,\r\n  V_MODEL_DYNAMIC\r\n} from '../runtimeHelpers'\r\n\r\nexport const transformModel: DirectiveTransform = (dir, node, context) => {\r\n  const baseResult = baseTransform(dir, node, context)\r\n  // base transform has errors\r\n  if (!baseResult.props.length) {\r\n    return baseResult\r\n  }\r\n\r\n  const { tag, tagType } = node\r\n  if (tagType === ElementTypes.ELEMENT) {\r\n    if (dir.arg) {\r\n      context.onError(\r\n        createDOMCompilerError(\r\n          DOMErrorCodes.X_V_MODEL_ARG_ON_ELEMENT,\r\n          dir.arg.loc\r\n        )\r\n      )\r\n    }\r\n\r\n    if (tag === 'input' || tag === 'textarea' || tag === 'select') {\r\n      let directiveToUse = V_MODEL_TEXT\r\n      let isInvalidType = false\r\n      if (tag === 'input') {\r\n        const type = findProp(node, `type`)\r\n        if (type) {\r\n          if (type.type === NodeTypes.DIRECTIVE) {\r\n            // :type=\"foo\"\r\n            directiveToUse = V_MODEL_DYNAMIC\r\n          } else if (type.value) {\r\n            switch (type.value.content) {\r\n              case 'radio':\r\n                directiveToUse = V_MODEL_RADIO\r\n                break\r\n              case 'checkbox':\r\n                directiveToUse = V_MODEL_CHECKBOX\r\n                break\r\n              case 'file':\r\n                isInvalidType = true\r\n                context.onError(\r\n                  createDOMCompilerError(\r\n                    DOMErrorCodes.X_V_MODEL_ON_FILE_INPUT_ELEMENT,\r\n                    dir.loc\r\n                  )\r\n                )\r\n                break\r\n            }\r\n          }\r\n        }\r\n      } else if (tag === 'select') {\r\n        directiveToUse = V_MODEL_SELECT\r\n      }\r\n      // inject runtime directive\r\n      // by returning the helper symbol via needRuntime\r\n      // the import will replaced a resolveDirective call.\r\n      if (!isInvalidType) {\r\n        baseResult.needRuntime = context.helper(directiveToUse)\r\n      }\r\n    } else {\r\n      context.onError(\r\n        createDOMCompilerError(\r\n          DOMErrorCodes.X_V_MODEL_ON_INVALID_ELEMENT,\r\n          dir.loc\r\n        )\r\n      )\r\n    }\r\n  }\r\n  return baseResult\r\n}\r\n","import {\r\n  transformOn as baseTransform,\r\n  DirectiveTransform,\r\n  createObjectProperty,\r\n  createCallExpression,\r\n  createObjectExpression,\r\n  createSimpleExpression,\r\n  NodeTypes\r\n} from '@vue/compiler-core'\r\nimport { V_ON_WITH_MODIFIERS, V_ON_WITH_KEYS } from '../runtimeHelpers'\r\nimport { makeMap } from '@vue/shared'\r\n\r\nconst isEventOptionModifier = /*#__PURE__*/ makeMap(`passive,once,capture`)\r\nconst isNonKeyModifier = /*#__PURE__*/ makeMap(\r\n  // event propagation management\r\n  `stop,prevent,self,` +\r\n    // system modifiers + exact\r\n    `ctrl,shift,alt,meta,exact,` +\r\n    // mouse\r\n    `left,middle,right`\r\n)\r\nconst isKeyboardEvent = /*#__PURE__*/ makeMap(\r\n  `onkeyup,onkeydown,onkeypress`,\r\n  true\r\n)\r\n\r\nconst generateModifiers = (modifiers: string[]) => {\r\n  const keyModifiers = []\r\n  const nonKeyModifiers = []\r\n  const eventOptionModifiers = []\r\n\r\n  for (let i = 0; i < modifiers.length; i++) {\r\n    const modifier = modifiers[i]\r\n\r\n    if (isEventOptionModifier(modifier)) {\r\n      // eventOptionModifiers: modifiers for addEventListener() options, e.g. .passive & .capture\r\n      eventOptionModifiers.push(modifier)\r\n    } else {\r\n      // runtimeModifiers: modifiers that needs runtime guards\r\n      if (isNonKeyModifier(modifier)) {\r\n        nonKeyModifiers.push(modifier)\r\n      } else {\r\n        keyModifiers.push(modifier)\r\n      }\r\n    }\r\n  }\r\n\r\n  return {\r\n    keyModifiers,\r\n    nonKeyModifiers,\r\n    eventOptionModifiers\r\n  }\r\n}\r\n\r\nexport const transformOn: DirectiveTransform = (dir, node, context) => {\r\n  return baseTransform(dir, node, context, baseResult => {\r\n    const { modifiers } = dir\r\n    if (!modifiers.length) return baseResult\r\n\r\n    let { key, value: handlerExp } = baseResult.props[0]\r\n    const {\r\n      keyModifiers,\r\n      nonKeyModifiers,\r\n      eventOptionModifiers\r\n    } = generateModifiers(modifiers)\r\n\r\n    if (nonKeyModifiers.length) {\r\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_MODIFIERS), [\r\n        handlerExp,\r\n        JSON.stringify(nonKeyModifiers)\r\n      ])\r\n    }\r\n\r\n    if (\r\n      keyModifiers.length &&\r\n      // if event name is dynamic, always wrap with keys guard\r\n      (key.type === NodeTypes.COMPOUND_EXPRESSION ||\r\n        !key.isStatic ||\r\n        isKeyboardEvent(key.content))\r\n    ) {\r\n      handlerExp = createCallExpression(context.helper(V_ON_WITH_KEYS), [\r\n        handlerExp,\r\n        JSON.stringify(keyModifiers)\r\n      ])\r\n    }\r\n\r\n    if (eventOptionModifiers.length) {\r\n      handlerExp = createObjectExpression([\r\n        createObjectProperty('handler', handlerExp),\r\n        createObjectProperty(\r\n          'options',\r\n          createObjectExpression(\r\n            eventOptionModifiers.map(modifier =>\r\n              createObjectProperty(\r\n                modifier,\r\n                createSimpleExpression('true', false)\r\n              )\r\n            )\r\n          )\r\n        )\r\n      ])\r\n    }\r\n\r\n    return {\r\n      props: [createObjectProperty(key, handlerExp)],\r\n      needRuntime: false\r\n    }\r\n  })\r\n}\r\n","import { DirectiveTransform } from '@vue/compiler-core'\r\nimport { createDOMCompilerError, DOMErrorCodes } from '../errors'\r\nimport { V_SHOW } from '../runtimeHelpers'\r\n\r\nexport const transformShow: DirectiveTransform = (dir, node, context) => {\r\n  const { exp, loc } = dir\r\n  if (!exp) {\r\n    context.onError(\r\n      createDOMCompilerError(DOMErrorCodes.X_V_SHOW_NO_EXPRESSION, loc)\r\n    )\r\n  }\r\n\r\n  return {\r\n    props: [],\r\n    needRuntime: context.helper(V_SHOW)\r\n  }\r\n}\r\n","import { baseCompile, CompilerOptions, CodegenResult } from '@vue/compiler-core'\r\nimport { parserOptionsMinimal } from './parserOptionsMinimal'\r\nimport { parserOptionsStandard } from './parserOptionsStandard'\r\nimport { transformStyle } from './transforms/transformStyle'\r\nimport { transformCloak } from './transforms/vCloak'\r\nimport { transformVHtml } from './transforms/vHtml'\r\nimport { transformVText } from './transforms/vText'\r\nimport { transformModel } from './transforms/vModel'\r\nimport { transformOn } from './transforms/vOn'\r\nimport { transformShow } from './transforms/vShow'\r\n\r\nexport function compile(\r\n  template: string,\r\n  options: CompilerOptions = {}\r\n): CodegenResult {\r\n  return baseCompile(template, {\r\n    ...options,\r\n    ...(__BROWSER__ ? parserOptionsMinimal : parserOptionsStandard),\r\n    nodeTransforms: [transformStyle, ...(options.nodeTransforms || [])],\r\n    directiveTransforms: {\r\n      cloak: transformCloak,\r\n      html: transformVHtml,\r\n      text: transformVText,\r\n      model: transformModel, // override compiler-core\r\n      on: transformOn,\r\n      show: transformShow,\r\n      ...(options.directiveTransforms || {})\r\n    }\r\n  })\r\n}\r\n\r\nexport * from '@vue/compiler-core'\r\n","// global immutability lock\r\nexport let LOCKED = true\r\n\r\nexport function lock() {\r\n  LOCKED = true\r\n}\r\n\r\nexport function unlock() {\r\n  LOCKED = false\r\n}\r\n","import { reactive, readonly, toRaw } from './reactive'\r\nimport { OperationTypes } from './operations'\r\nimport { track, trigger } from './effect'\r\nimport { LOCKED } from './lock'\r\nimport { isObject, hasOwn, isSymbol, hasChanged } from '@vue/shared'\r\nimport { isRef } from './ref'\r\n\r\nconst builtInSymbols = new Set(\r\n  Object.getOwnPropertyNames(Symbol)\r\n    .map(key => (Symbol as any)[key])\r\n    .filter(isSymbol)\r\n)\r\n\r\nfunction createGetter(isReadonly: boolean, unwrap = true) {\r\n  return function get(target: object, key: string | symbol, receiver: object) {\r\n    let res = Reflect.get(target, key, receiver)\r\n    if (isSymbol(key) && builtInSymbols.has(key)) {\r\n      return res\r\n    }\r\n    if (unwrap && isRef(res)) {\r\n      res = res.value\r\n    } else {\r\n      track(target, OperationTypes.GET, key)\r\n    }\r\n    return isObject(res)\r\n      ? isReadonly\r\n        ? // need to lazy access readonly and reactive here to avoid\r\n          // circular dependency\r\n          readonly(res)\r\n        : reactive(res)\r\n      : res\r\n  }\r\n}\r\n\r\nfunction set(\r\n  target: object,\r\n  key: string | symbol,\r\n  value: unknown,\r\n  receiver: object\r\n): boolean {\r\n  value = toRaw(value)\r\n  const oldValue = (target as any)[key]\r\n  if (isRef(oldValue) && !isRef(value)) {\r\n    oldValue.value = value\r\n    return true\r\n  }\r\n  const hadKey = hasOwn(target, key)\r\n  const result = Reflect.set(target, key, value, receiver)\r\n  // don't trigger if target is something up in the prototype chain of original\r\n  if (target === toRaw(receiver)) {\r\n    /* istanbul ignore else */\r\n    if (__DEV__) {\r\n      const extraInfo = { oldValue, newValue: value }\r\n      if (!hadKey) {\r\n        trigger(target, OperationTypes.ADD, key, extraInfo)\r\n      } else if (hasChanged(value, oldValue)) {\r\n        trigger(target, OperationTypes.SET, key, extraInfo)\r\n      }\r\n    } else {\r\n      if (!hadKey) {\r\n        trigger(target, OperationTypes.ADD, key)\r\n      } else if (hasChanged(value, oldValue)) {\r\n        trigger(target, OperationTypes.SET, key)\r\n      }\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nfunction deleteProperty(target: object, key: string | symbol): boolean {\r\n  const hadKey = hasOwn(target, key)\r\n  const oldValue = (target as any)[key]\r\n  const result = Reflect.deleteProperty(target, key)\r\n  if (result && hadKey) {\r\n    /* istanbul ignore else */\r\n    if (__DEV__) {\r\n      trigger(target, OperationTypes.DELETE, key, { oldValue })\r\n    } else {\r\n      trigger(target, OperationTypes.DELETE, key)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nfunction has(target: object, key: string | symbol): boolean {\r\n  const result = Reflect.has(target, key)\r\n  track(target, OperationTypes.HAS, key)\r\n  return result\r\n}\r\n\r\nfunction ownKeys(target: object): (string | number | symbol)[] {\r\n  track(target, OperationTypes.ITERATE)\r\n  return Reflect.ownKeys(target)\r\n}\r\n\r\nexport const mutableHandlers: ProxyHandler<object> = {\r\n  get: createGetter(false),\r\n  set,\r\n  deleteProperty,\r\n  has,\r\n  ownKeys\r\n}\r\n\r\nexport const readonlyHandlers: ProxyHandler<object> = {\r\n  get: createGetter(true),\r\n\r\n  set(\r\n    target: object,\r\n    key: string | symbol,\r\n    value: unknown,\r\n    receiver: object\r\n  ): boolean {\r\n    if (LOCKED) {\r\n      if (__DEV__) {\r\n        console.warn(\r\n          `Set operation on key \"${String(key)}\" failed: target is readonly.`,\r\n          target\r\n        )\r\n      }\r\n      return true\r\n    } else {\r\n      return set(target, key, value, receiver)\r\n    }\r\n  },\r\n\r\n  deleteProperty(target: object, key: string | symbol): boolean {\r\n    if (LOCKED) {\r\n      if (__DEV__) {\r\n        console.warn(\r\n          `Delete operation on key \"${String(\r\n            key\r\n          )}\" failed: target is readonly.`,\r\n          target\r\n        )\r\n      }\r\n      return true\r\n    } else {\r\n      return deleteProperty(target, key)\r\n    }\r\n  },\r\n\r\n  has,\r\n  ownKeys\r\n}\r\n\r\n// props handlers are special in the sense that it should not unwrap top-level\r\n// refs (in order to allow refs to be explicitly passed down), but should\r\n// retain the reactivity of the normal readonly object.\r\nexport const readonlyPropsHandlers: ProxyHandler<object> = {\r\n  ...readonlyHandlers,\r\n  get: createGetter(true, false)\r\n}\r\n","import { toRaw, reactive, readonly } from './reactive'\r\nimport { track, trigger } from './effect'\r\nimport { OperationTypes } from './operations'\r\nimport { LOCKED } from './lock'\r\nimport { isObject, capitalize, hasOwn, hasChanged } from '@vue/shared'\r\n\r\nexport type CollectionTypes = IterableCollections | WeakCollections\r\n\r\ntype IterableCollections = Map<any, any> | Set<any>\r\ntype WeakCollections = WeakMap<any, any> | WeakSet<any>\r\ntype MapTypes = Map<any, any> | WeakMap<any, any>\r\ntype SetTypes = Set<any> | WeakSet<any>\r\n\r\nconst toReactive = <T extends unknown>(value: T): T =>\r\n  isObject(value) ? reactive(value) : value\r\n\r\nconst toReadonly = <T extends unknown>(value: T): T =>\r\n  isObject(value) ? readonly(value) : value\r\n\r\nconst getProto = <T extends CollectionTypes>(v: T): any =>\r\n  Reflect.getPrototypeOf(v)\r\n\r\nfunction get(\r\n  target: MapTypes,\r\n  key: unknown,\r\n  wrap: typeof toReactive | typeof toReadonly\r\n) {\r\n  target = toRaw(target)\r\n  key = toRaw(key)\r\n  track(target, OperationTypes.GET, key)\r\n  return wrap(getProto(target).get.call(target, key))\r\n}\r\n\r\nfunction has(this: CollectionTypes, key: unknown): boolean {\r\n  const target = toRaw(this)\r\n  key = toRaw(key)\r\n  track(target, OperationTypes.HAS, key)\r\n  return getProto(target).has.call(target, key)\r\n}\r\n\r\nfunction size(target: IterableCollections) {\r\n  target = toRaw(target)\r\n  track(target, OperationTypes.ITERATE)\r\n  return Reflect.get(getProto(target), 'size', target)\r\n}\r\n\r\nfunction add(this: SetTypes, value: unknown) {\r\n  value = toRaw(value)\r\n  const target = toRaw(this)\r\n  const proto = getProto(target)\r\n  const hadKey = proto.has.call(target, value)\r\n  const result = proto.add.call(target, value)\r\n  if (!hadKey) {\r\n    /* istanbul ignore else */\r\n    if (__DEV__) {\r\n      trigger(target, OperationTypes.ADD, value, { newValue: value })\r\n    } else {\r\n      trigger(target, OperationTypes.ADD, value)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nfunction set(this: MapTypes, key: unknown, value: unknown) {\r\n  value = toRaw(value)\r\n  const target = toRaw(this)\r\n  const proto = getProto(target)\r\n  const hadKey = proto.has.call(target, key)\r\n  const oldValue = proto.get.call(target, key)\r\n  const result = proto.set.call(target, key, value)\r\n  /* istanbul ignore else */\r\n  if (__DEV__) {\r\n    const extraInfo = { oldValue, newValue: value }\r\n    if (!hadKey) {\r\n      trigger(target, OperationTypes.ADD, key, extraInfo)\r\n    } else if (hasChanged(value, oldValue)) {\r\n      trigger(target, OperationTypes.SET, key, extraInfo)\r\n    }\r\n  } else {\r\n    if (!hadKey) {\r\n      trigger(target, OperationTypes.ADD, key)\r\n    } else if (hasChanged(value, oldValue)) {\r\n      trigger(target, OperationTypes.SET, key)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nfunction deleteEntry(this: CollectionTypes, key: unknown) {\r\n  const target = toRaw(this)\r\n  const proto = getProto(target)\r\n  const hadKey = proto.has.call(target, key)\r\n  const oldValue = proto.get ? proto.get.call(target, key) : undefined\r\n  // forward the operation before queueing reactions\r\n  const result = proto.delete.call(target, key)\r\n  if (hadKey) {\r\n    /* istanbul ignore else */\r\n    if (__DEV__) {\r\n      trigger(target, OperationTypes.DELETE, key, { oldValue })\r\n    } else {\r\n      trigger(target, OperationTypes.DELETE, key)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nfunction clear(this: IterableCollections) {\r\n  const target = toRaw(this)\r\n  const hadItems = target.size !== 0\r\n  const oldTarget = __DEV__\r\n    ? target instanceof Map\r\n      ? new Map(target)\r\n      : new Set(target)\r\n    : undefined\r\n  // forward the operation before queueing reactions\r\n  const result = getProto(target).clear.call(target)\r\n  if (hadItems) {\r\n    /* istanbul ignore else */\r\n    if (__DEV__) {\r\n      trigger(target, OperationTypes.CLEAR, void 0, { oldTarget })\r\n    } else {\r\n      trigger(target, OperationTypes.CLEAR)\r\n    }\r\n  }\r\n  return result\r\n}\r\n\r\nfunction createForEach(isReadonly: boolean) {\r\n  return function forEach(\r\n    this: IterableCollections,\r\n    callback: Function,\r\n    thisArg?: unknown\r\n  ) {\r\n    const observed = this\r\n    const target = toRaw(observed)\r\n    const wrap = isReadonly ? toReadonly : toReactive\r\n    track(target, OperationTypes.ITERATE)\r\n    // important: create sure the callback is\r\n    // 1. invoked with the reactive map as `this` and 3rd arg\r\n    // 2. the value received should be a corresponding reactive/readonly.\r\n    function wrappedCallback(value: unknown, key: unknown) {\r\n      return callback.call(observed, wrap(value), wrap(key), observed)\r\n    }\r\n    return getProto(target).forEach.call(target, wrappedCallback, thisArg)\r\n  }\r\n}\r\n\r\nfunction createIterableMethod(method: string | symbol, isReadonly: boolean) {\r\n  return function(this: IterableCollections, ...args: unknown[]) {\r\n    const target = toRaw(this)\r\n    const isPair =\r\n      method === 'entries' ||\r\n      (method === Symbol.iterator && target instanceof Map)\r\n    const innerIterator = getProto(target)[method].apply(target, args)\r\n    const wrap = isReadonly ? toReadonly : toReactive\r\n    track(target, OperationTypes.ITERATE)\r\n    // return a wrapped iterator which returns observed versions of the\r\n    // values emitted from the real iterator\r\n    return {\r\n      // iterator protocol\r\n      next() {\r\n        const { value, done } = innerIterator.next()\r\n        return done\r\n          ? { value, done }\r\n          : {\r\n              value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\r\n              done\r\n            }\r\n      },\r\n      // iterable protocol\r\n      [Symbol.iterator]() {\r\n        return this\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction createReadonlyMethod(\r\n  method: Function,\r\n  type: OperationTypes\r\n): Function {\r\n  return function(this: CollectionTypes, ...args: unknown[]) {\r\n    if (LOCKED) {\r\n      if (__DEV__) {\r\n        const key = args[0] ? `on key \"${args[0]}\" ` : ``\r\n        console.warn(\r\n          `${capitalize(type)} operation ${key}failed: target is readonly.`,\r\n          toRaw(this)\r\n        )\r\n      }\r\n      return type === OperationTypes.DELETE ? false : this\r\n    } else {\r\n      return method.apply(this, args)\r\n    }\r\n  }\r\n}\r\n\r\nconst mutableInstrumentations: Record<string, Function> = {\r\n  get(this: MapTypes, key: unknown) {\r\n    return get(this, key, toReactive)\r\n  },\r\n  get size(this: IterableCollections) {\r\n    return size(this)\r\n  },\r\n  has,\r\n  add,\r\n  set,\r\n  delete: deleteEntry,\r\n  clear,\r\n  forEach: createForEach(false)\r\n}\r\n\r\nconst readonlyInstrumentations: Record<string, Function> = {\r\n  get(this: MapTypes, key: unknown) {\r\n    return get(this, key, toReadonly)\r\n  },\r\n  get size(this: IterableCollections) {\r\n    return size(this)\r\n  },\r\n  has,\r\n  add: createReadonlyMethod(add, OperationTypes.ADD),\r\n  set: createReadonlyMethod(set, OperationTypes.SET),\r\n  delete: createReadonlyMethod(deleteEntry, OperationTypes.DELETE),\r\n  clear: createReadonlyMethod(clear, OperationTypes.CLEAR),\r\n  forEach: createForEach(true)\r\n}\r\n\r\nconst iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator]\r\niteratorMethods.forEach(method => {\r\n  mutableInstrumentations[method as string] = createIterableMethod(\r\n    method,\r\n    false\r\n  )\r\n  readonlyInstrumentations[method as string] = createIterableMethod(\r\n    method,\r\n    true\r\n  )\r\n})\r\n\r\nfunction createInstrumentationGetter(\r\n  instrumentations: Record<string, Function>\r\n) {\r\n  return (\r\n    target: CollectionTypes,\r\n    key: string | symbol,\r\n    receiver: CollectionTypes\r\n  ) =>\r\n    Reflect.get(\r\n      hasOwn(instrumentations, key) && key in target\r\n        ? instrumentations\r\n        : target,\r\n      key,\r\n      receiver\r\n    )\r\n}\r\n\r\nexport const mutableCollectionHandlers: ProxyHandler<CollectionTypes> = {\r\n  get: createInstrumentationGetter(mutableInstrumentations)\r\n}\r\n\r\nexport const readonlyCollectionHandlers: ProxyHandler<CollectionTypes> = {\r\n  get: createInstrumentationGetter(readonlyInstrumentations)\r\n}\r\n","import { isObject, toRawType } from '@vue/shared'\r\nimport {\r\n  mutableHandlers,\r\n  readonlyHandlers,\r\n  readonlyPropsHandlers\r\n} from './baseHandlers'\r\nimport {\r\n  mutableCollectionHandlers,\r\n  readonlyCollectionHandlers\r\n} from './collectionHandlers'\r\nimport { ReactiveEffect } from './effect'\r\nimport { UnwrapRef, Ref } from './ref'\r\nimport { makeMap } from '@vue/shared'\r\n\r\n// The main WeakMap that stores {target -> key -> dep} connections.\r\n// Conceptually, it's easier to think of a dependency as a Dep class\r\n// which maintains a Set of subscribers, but we simply store them as\r\n// raw Sets to reduce memory overhead.\r\nexport type Dep = Set<ReactiveEffect>\r\nexport type KeyToDepMap = Map<any, Dep>\r\nexport const targetMap = new WeakMap<any, KeyToDepMap>()\r\n\r\n// WeakMaps that store {raw <-> observed} pairs.\r\nconst rawToReactive = new WeakMap<any, any>()\r\nconst reactiveToRaw = new WeakMap<any, any>()\r\nconst rawToReadonly = new WeakMap<any, any>()\r\nconst readonlyToRaw = new WeakMap<any, any>()\r\n\r\n// WeakSets for values that are marked readonly or non-reactive during\r\n// observable creation.\r\nconst readonlyValues = new WeakSet<any>()\r\nconst nonReactiveValues = new WeakSet<any>()\r\n\r\nconst collectionTypes = new Set<Function>([Set, Map, WeakMap, WeakSet])\r\nconst isObservableType = /*#__PURE__*/ makeMap(\r\n  'Object,Array,Map,Set,WeakMap,WeakSet'\r\n)\r\n\r\nconst canObserve = (value: any): boolean => {\r\n  return (\r\n    !value._isVue &&\r\n    !value._isVNode &&\r\n    isObservableType(toRawType(value)) &&\r\n    !nonReactiveValues.has(value)\r\n  )\r\n}\r\n\r\n// only unwrap nested ref\r\ntype UnwrapNestedRefs<T> = T extends Ref ? T : UnwrapRef<T>\r\n\r\nexport function reactive<T extends object>(target: T): UnwrapNestedRefs<T>\r\nexport function reactive(target: object) {\r\n  // if trying to observe a readonly proxy, return the readonly version.\r\n  if (readonlyToRaw.has(target)) {\r\n    return target\r\n  }\r\n  // target is explicitly marked as readonly by user\r\n  if (readonlyValues.has(target)) {\r\n    return readonly(target)\r\n  }\r\n  return createReactiveObject(\r\n    target,\r\n    rawToReactive,\r\n    reactiveToRaw,\r\n    mutableHandlers,\r\n    mutableCollectionHandlers\r\n  )\r\n}\r\n\r\nexport function readonly<T extends object>(\r\n  target: T\r\n): Readonly<UnwrapNestedRefs<T>> {\r\n  // value is a mutable observable, retrieve its original and return\r\n  // a readonly version.\r\n  if (reactiveToRaw.has(target)) {\r\n    target = reactiveToRaw.get(target)\r\n  }\r\n  return createReactiveObject(\r\n    target,\r\n    rawToReadonly,\r\n    readonlyToRaw,\r\n    readonlyHandlers,\r\n    readonlyCollectionHandlers\r\n  )\r\n}\r\n\r\n// @internal\r\n// Return a readonly-copy of a props object, without unwrapping refs at the root\r\n// level. This is intended to allow explicitly passing refs as props.\r\n// Technically this should use different global cache from readonly(), but\r\n// since it is only used on internal objects so it's not really necessary.\r\nexport function readonlyProps<T extends object>(\r\n  target: T\r\n): Readonly<{ [K in keyof T]: UnwrapNestedRefs<T[K]> }> {\r\n  return createReactiveObject(\r\n    target,\r\n    rawToReadonly,\r\n    readonlyToRaw,\r\n    readonlyPropsHandlers,\r\n    readonlyCollectionHandlers\r\n  )\r\n}\r\n\r\nfunction createReactiveObject(\r\n  target: unknown,\r\n  toProxy: WeakMap<any, any>,\r\n  toRaw: WeakMap<any, any>,\r\n  baseHandlers: ProxyHandler<any>,\r\n  collectionHandlers: ProxyHandler<any>\r\n) {\r\n  if (!isObject(target)) {\r\n    if (__DEV__) {\r\n      console.warn(`value cannot be made reactive: ${String(target)}`)\r\n    }\r\n    return target\r\n  }\r\n  // target already has corresponding Proxy\r\n  let observed = toProxy.get(target)\r\n  if (observed !== void 0) {\r\n    return observed\r\n  }\r\n  // target is already a Proxy\r\n  if (toRaw.has(target)) {\r\n    return target\r\n  }\r\n  // only a whitelist of value types can be observed.\r\n  if (!canObserve(target)) {\r\n    return target\r\n  }\r\n  const handlers = collectionTypes.has(target.constructor)\r\n    ? collectionHandlers\r\n    : baseHandlers\r\n  observed = new Proxy(target, handlers)\r\n  toProxy.set(target, observed)\r\n  toRaw.set(observed, target)\r\n  if (!targetMap.has(target)) {\r\n    targetMap.set(target, new Map())\r\n  }\r\n  return observed\r\n}\r\n\r\nexport function isReactive(value: unknown): boolean {\r\n  return reactiveToRaw.has(value) || readonlyToRaw.has(value)\r\n}\r\n\r\nexport function isReadonly(value: unknown): boolean {\r\n  return readonlyToRaw.has(value)\r\n}\r\n\r\nexport function toRaw<T>(observed: T): T {\r\n  return reactiveToRaw.get(observed) || readonlyToRaw.get(observed) || observed\r\n}\r\n\r\nexport function markReadonly<T>(value: T): T {\r\n  readonlyValues.add(value)\r\n  return value\r\n}\r\n\r\nexport function markNonReactive<T>(value: T): T {\r\n  nonReactiveValues.add(value)\r\n  return value\r\n}\r\n","import { OperationTypes } from './operations'\r\nimport { Dep, targetMap } from './reactive'\r\nimport { EMPTY_OBJ, extend, isArray } from '@vue/shared'\r\n\r\nexport interface ReactiveEffect<T = any> {\r\n  (): T\r\n  _isEffect: true\r\n  active: boolean\r\n  raw: () => T\r\n  deps: Array<Dep>\r\n  options: ReactiveEffectOptions\r\n}\r\n\r\nexport interface ReactiveEffectOptions {\r\n  lazy?: boolean\r\n  computed?: boolean\r\n  scheduler?: (run: Function) => void\r\n  onTrack?: (event: DebuggerEvent) => void\r\n  onTrigger?: (event: DebuggerEvent) => void\r\n  onStop?: () => void\r\n}\r\n\r\nexport type DebuggerEvent = {\r\n  effect: ReactiveEffect\r\n  target: object\r\n  type: OperationTypes\r\n  key: any\r\n} & DebuggerEventExtraInfo\r\n\r\nexport interface DebuggerEventExtraInfo {\r\n  newValue?: any\r\n  oldValue?: any\r\n  oldTarget?: Map<any, any> | Set<any>\r\n}\r\n\r\nexport const effectStack: ReactiveEffect[] = []\r\n\r\nexport const ITERATE_KEY = Symbol('iterate')\r\n\r\nexport function isEffect(fn: any): fn is ReactiveEffect {\r\n  return fn != null && fn._isEffect === true\r\n}\r\n\r\nexport function effect<T = any>(\r\n  fn: () => T,\r\n  options: ReactiveEffectOptions = EMPTY_OBJ\r\n): ReactiveEffect<T> {\r\n  if (isEffect(fn)) {\r\n    fn = fn.raw\r\n  }\r\n  const effect = createReactiveEffect(fn, options)\r\n  if (!options.lazy) {\r\n    effect()\r\n  }\r\n  return effect\r\n}\r\n\r\nexport function stop(effect: ReactiveEffect) {\r\n  if (effect.active) {\r\n    cleanup(effect)\r\n    if (effect.options.onStop) {\r\n      effect.options.onStop()\r\n    }\r\n    effect.active = false\r\n  }\r\n}\r\n\r\nfunction createReactiveEffect<T = any>(\r\n  fn: () => T,\r\n  options: ReactiveEffectOptions\r\n): ReactiveEffect<T> {\r\n  const effect = function reactiveEffect(...args: unknown[]): unknown {\r\n    return run(effect, fn, args)\r\n  } as ReactiveEffect\r\n  effect._isEffect = true\r\n  effect.active = true\r\n  effect.raw = fn\r\n  effect.deps = []\r\n  effect.options = options\r\n  return effect\r\n}\r\n\r\nfunction run(effect: ReactiveEffect, fn: Function, args: unknown[]): unknown {\r\n  if (!effect.active) {\r\n    return fn(...args)\r\n  }\r\n  if (!effectStack.includes(effect)) {\r\n    cleanup(effect)\r\n    try {\r\n      effectStack.push(effect)\r\n      return fn(...args)\r\n    } finally {\r\n      effectStack.pop()\r\n    }\r\n  }\r\n}\r\n\r\nfunction cleanup(effect: ReactiveEffect) {\r\n  const { deps } = effect\r\n  if (deps.length) {\r\n    for (let i = 0; i < deps.length; i++) {\r\n      deps[i].delete(effect)\r\n    }\r\n    deps.length = 0\r\n  }\r\n}\r\n\r\nlet shouldTrack = true\r\n\r\nexport function pauseTracking() {\r\n  shouldTrack = false\r\n}\r\n\r\nexport function resumeTracking() {\r\n  shouldTrack = true\r\n}\r\n\r\nexport function track(target: object, type: OperationTypes, key?: unknown) {\r\n  if (!shouldTrack || effectStack.length === 0) {\r\n    return\r\n  }\r\n  const effect = effectStack[effectStack.length - 1]\r\n  if (type === OperationTypes.ITERATE) {\r\n    key = ITERATE_KEY\r\n  }\r\n  let depsMap = targetMap.get(target)\r\n  if (depsMap === void 0) {\r\n    targetMap.set(target, (depsMap = new Map()))\r\n  }\r\n  let dep = depsMap.get(key!)\r\n  if (dep === void 0) {\r\n    depsMap.set(key!, (dep = new Set()))\r\n  }\r\n  if (!dep.has(effect)) {\r\n    dep.add(effect)\r\n    effect.deps.push(dep)\r\n    if (__DEV__ && effect.options.onTrack) {\r\n      effect.options.onTrack({\r\n        effect,\r\n        target,\r\n        type,\r\n        key\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport function trigger(\r\n  target: object,\r\n  type: OperationTypes,\r\n  key?: unknown,\r\n  extraInfo?: DebuggerEventExtraInfo\r\n) {\r\n  const depsMap = targetMap.get(target)\r\n  if (depsMap === void 0) {\r\n    // never been tracked\r\n    return\r\n  }\r\n  const effects = new Set<ReactiveEffect>()\r\n  const computedRunners = new Set<ReactiveEffect>()\r\n  if (type === OperationTypes.CLEAR) {\r\n    // collection being cleared, trigger all effects for target\r\n    depsMap.forEach(dep => {\r\n      addRunners(effects, computedRunners, dep)\r\n    })\r\n  } else {\r\n    // schedule runs for SET | ADD | DELETE\r\n    if (key !== void 0) {\r\n      addRunners(effects, computedRunners, depsMap.get(key))\r\n    }\r\n    // also run for iteration key on ADD | DELETE\r\n    if (type === OperationTypes.ADD || type === OperationTypes.DELETE) {\r\n      const iterationKey = isArray(target) ? 'length' : ITERATE_KEY\r\n      addRunners(effects, computedRunners, depsMap.get(iterationKey))\r\n    }\r\n  }\r\n  const run = (effect: ReactiveEffect) => {\r\n    scheduleRun(effect, target, type, key, extraInfo)\r\n  }\r\n  // Important: computed effects must be run first so that computed getters\r\n  // can be invalidated before any normal effects that depend on them are run.\r\n  computedRunners.forEach(run)\r\n  effects.forEach(run)\r\n}\r\n\r\nfunction addRunners(\r\n  effects: Set<ReactiveEffect>,\r\n  computedRunners: Set<ReactiveEffect>,\r\n  effectsToAdd: Set<ReactiveEffect> | undefined\r\n) {\r\n  if (effectsToAdd !== void 0) {\r\n    effectsToAdd.forEach(effect => {\r\n      if (effect.options.computed) {\r\n        computedRunners.add(effect)\r\n      } else {\r\n        effects.add(effect)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction scheduleRun(\r\n  effect: ReactiveEffect,\r\n  target: object,\r\n  type: OperationTypes,\r\n  key: unknown,\r\n  extraInfo?: DebuggerEventExtraInfo\r\n) {\r\n  if (__DEV__ && effect.options.onTrigger) {\r\n    const event: DebuggerEvent = {\r\n      effect,\r\n      target,\r\n      key,\r\n      type\r\n    }\r\n    effect.options.onTrigger(extraInfo ? extend(event, extraInfo) : event)\r\n  }\r\n  if (effect.options.scheduler !== void 0) {\r\n    effect.options.scheduler(effect)\r\n  } else {\r\n    effect()\r\n  }\r\n}\r\n","import { track, trigger } from './effect'\r\nimport { OperationTypes } from './operations'\r\nimport { isObject } from '@vue/shared'\r\nimport { reactive, isReactive } from './reactive'\r\nimport { ComputedRef } from './computed'\r\nimport { CollectionTypes } from './collectionHandlers'\r\n\r\nconst isRefSymbol = Symbol()\r\n\r\nexport interface Ref<T = any> {\r\n  // This field is necessary to allow TS to differentiate a Ref from a plain\r\n  // object that happens to have a \"value\" field.\r\n  // However, checking a symbol on an arbitrary object is much slower than\r\n  // checking a plain property, so we use a _isRef plain property for isRef()\r\n  // check in the actual implementation.\r\n  // The reason for not just declaring _isRef in the interface is because we\r\n  // don't want this internal field to leak into userland autocompletion -\r\n  // a private symbol, on the other hand, achieves just that.\r\n  [isRefSymbol]: true\r\n  value: UnwrapRef<T>\r\n}\r\n\r\nconst convert = <T extends unknown>(val: T): T =>\r\n  isObject(val) ? reactive(val) : val\r\n\r\nexport function isRef(r: any): r is Ref {\r\n  return r ? r._isRef === true : false\r\n}\r\n\r\nexport function ref<T extends Ref>(raw: T): T\r\nexport function ref<T>(raw: T): Ref<T>\r\nexport function ref<T = any>(): Ref<T>\r\nexport function ref(raw?: unknown) {\r\n  if (isRef(raw)) {\r\n    return raw\r\n  }\r\n  raw = convert(raw)\r\n  const r = {\r\n    _isRef: true,\r\n    get value() {\r\n      track(r, OperationTypes.GET, 'value')\r\n      return raw\r\n    },\r\n    set value(newVal) {\r\n      raw = convert(newVal)\r\n      trigger(\r\n        r,\r\n        OperationTypes.SET,\r\n        'value',\r\n        __DEV__ ? { newValue: newVal } : void 0\r\n      )\r\n    }\r\n  }\r\n  return r\r\n}\r\n\r\nexport function toRefs<T extends object>(\r\n  object: T\r\n): { [K in keyof T]: Ref<T[K]> } {\r\n  if (__DEV__ && !isReactive(object)) {\r\n    console.warn(`toRefs() expects a reactive object but received a plain one.`)\r\n  }\r\n  const ret: any = {}\r\n  for (const key in object) {\r\n    ret[key] = toProxyRef(object, key)\r\n  }\r\n  return ret\r\n}\r\n\r\nfunction toProxyRef<T extends object, K extends keyof T>(\r\n  object: T,\r\n  key: K\r\n): Ref<T[K]> {\r\n  return {\r\n    _isRef: true,\r\n    get value(): any {\r\n      return object[key]\r\n    },\r\n    set value(newVal) {\r\n      object[key] = newVal\r\n    }\r\n  } as any\r\n}\r\n\r\ntype UnwrapArray<T> = { [P in keyof T]: UnwrapRef<T[P]> }\r\n\r\n// Recursively unwraps nested value bindings.\r\nexport type UnwrapRef<T> = {\r\n  cRef: T extends ComputedRef<infer V> ? UnwrapRef<V> : T\r\n  ref: T extends Ref<infer V> ? UnwrapRef<V> : T\r\n  array: T extends Array<infer V> ? Array<UnwrapRef<V>> & UnwrapArray<T> : T\r\n  object: { [K in keyof T]: UnwrapRef<T[K]> }\r\n}[T extends ComputedRef<any>\r\n  ? 'cRef'\r\n  : T extends Ref\r\n    ? 'ref'\r\n    : T extends Array<any>\r\n      ? 'array'\r\n      : T extends Function | CollectionTypes\r\n        ? 'ref' // bail out on types that shouldn't be unwrapped\r\n        : T extends object ? 'object' : 'ref']\r\n","import { effect, ReactiveEffect, effectStack } from './effect'\r\nimport { Ref, UnwrapRef } from './ref'\r\nimport { isFunction, NOOP } from '@vue/shared'\r\n\r\nexport interface ComputedRef<T = any> extends WritableComputedRef<T> {\r\n  readonly value: UnwrapRef<T>\r\n}\r\n\r\nexport interface WritableComputedRef<T> extends Ref<T> {\r\n  readonly effect: ReactiveEffect<T>\r\n}\r\n\r\nexport type ComputedGetter<T> = () => T\r\nexport type ComputedSetter<T> = (v: T) => void\r\n\r\nexport interface WritableComputedOptions<T> {\r\n  get: ComputedGetter<T>\r\n  set: ComputedSetter<T>\r\n}\r\n\r\nexport function computed<T>(getter: ComputedGetter<T>): ComputedRef<T>\r\nexport function computed<T>(\r\n  options: WritableComputedOptions<T>\r\n): WritableComputedRef<T>\r\nexport function computed<T>(\r\n  getterOrOptions: ComputedGetter<T> | WritableComputedOptions<T>\r\n) {\r\n  let getter: ComputedGetter<T>\r\n  let setter: ComputedSetter<T>\r\n\r\n  if (isFunction(getterOrOptions)) {\r\n    getter = getterOrOptions\r\n    setter = __DEV__\r\n      ? () => {\r\n          console.warn('Write operation failed: computed value is readonly')\r\n        }\r\n      : NOOP\r\n  } else {\r\n    getter = getterOrOptions.get\r\n    setter = getterOrOptions.set\r\n  }\r\n\r\n  let dirty = true\r\n  let value: T\r\n\r\n  const runner = effect(getter, {\r\n    lazy: true,\r\n    // mark effect as computed so that it gets priority during trigger\r\n    computed: true,\r\n    scheduler: () => {\r\n      dirty = true\r\n    }\r\n  })\r\n  return {\r\n    _isRef: true,\r\n    // expose effect so computed can be stopped\r\n    effect: runner,\r\n    get value() {\r\n      if (dirty) {\r\n        value = runner()\r\n        dirty = false\r\n      }\r\n      // When computed effects are accessed in a parent effect, the parent\r\n      // should track all the dependencies the computed property has tracked.\r\n      // This should also apply for chained computed properties.\r\n      trackChildRun(runner)\r\n      return value\r\n    },\r\n    set value(newValue: T) {\r\n      setter(newValue)\r\n    }\r\n  } as any\r\n}\r\n\r\nfunction trackChildRun(childRunner: ReactiveEffect) {\r\n  if (effectStack.length === 0) {\r\n    return\r\n  }\r\n  const parentRunner = effectStack[effectStack.length - 1]\r\n  for (let i = 0; i < childRunner.deps.length; i++) {\r\n    const dep = childRunner.deps[i]\r\n    if (!dep.has(parentRunner)) {\r\n      dep.add(parentRunner)\r\n      parentRunner.deps.push(dep)\r\n    }\r\n  }\r\n}\r\n","import { VNode } from './vnode'\r\nimport { ComponentInternalInstance, LifecycleHooks } from './component'\r\nimport { warn, pushWarningContext, popWarningContext } from './warning'\r\nimport { isPromise, isFunction } from '@vue/shared'\r\n\r\n// contexts where user provided function may be executed, in addition to\r\n// lifecycle hooks.\r\nexport const enum ErrorCodes {\r\n  SETUP_FUNCTION,\r\n  RENDER_FUNCTION,\r\n  WATCH_GETTER,\r\n  WATCH_CALLBACK,\r\n  WATCH_CLEANUP,\r\n  NATIVE_EVENT_HANDLER,\r\n  COMPONENT_EVENT_HANDLER,\r\n  DIRECTIVE_HOOK,\r\n  TRANSITION_HOOK,\r\n  APP_ERROR_HANDLER,\r\n  APP_WARN_HANDLER,\r\n  FUNCTION_REF,\r\n  SCHEDULER\r\n}\r\n\r\nexport const ErrorTypeStrings: Record<number | string, string> = {\r\n  [LifecycleHooks.BEFORE_CREATE]: 'beforeCreate hook',\r\n  [LifecycleHooks.CREATED]: 'created hook',\r\n  [LifecycleHooks.BEFORE_MOUNT]: 'beforeMount hook',\r\n  [LifecycleHooks.MOUNTED]: 'mounted hook',\r\n  [LifecycleHooks.BEFORE_UPDATE]: 'beforeUpdate hook',\r\n  [LifecycleHooks.UPDATED]: 'updated',\r\n  [LifecycleHooks.BEFORE_UNMOUNT]: 'beforeUnmount hook',\r\n  [LifecycleHooks.UNMOUNTED]: 'unmounted hook',\r\n  [LifecycleHooks.ACTIVATED]: 'activated hook',\r\n  [LifecycleHooks.DEACTIVATED]: 'deactivated hook',\r\n  [LifecycleHooks.ERROR_CAPTURED]: 'errorCaptured hook',\r\n  [LifecycleHooks.RENDER_TRACKED]: 'renderTracked hook',\r\n  [LifecycleHooks.RENDER_TRIGGERED]: 'renderTriggered hook',\r\n  [ErrorCodes.SETUP_FUNCTION]: 'setup function',\r\n  [ErrorCodes.RENDER_FUNCTION]: 'render function',\r\n  [ErrorCodes.WATCH_GETTER]: 'watcher getter',\r\n  [ErrorCodes.WATCH_CALLBACK]: 'watcher callback',\r\n  [ErrorCodes.WATCH_CLEANUP]: 'watcher cleanup function',\r\n  [ErrorCodes.NATIVE_EVENT_HANDLER]: 'native event handler',\r\n  [ErrorCodes.COMPONENT_EVENT_HANDLER]: 'component event handler',\r\n  [ErrorCodes.DIRECTIVE_HOOK]: 'directive hook',\r\n  [ErrorCodes.TRANSITION_HOOK]: 'transition hook',\r\n  [ErrorCodes.APP_ERROR_HANDLER]: 'app errorHandler',\r\n  [ErrorCodes.APP_WARN_HANDLER]: 'app warnHandler',\r\n  [ErrorCodes.FUNCTION_REF]: 'ref function',\r\n  [ErrorCodes.SCHEDULER]:\r\n    'scheduler flush. This is likely a Vue internals bug. ' +\r\n    'Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/vue'\r\n}\r\n\r\nexport type ErrorTypes = LifecycleHooks | ErrorCodes\r\n\r\nexport function callWithErrorHandling(\r\n  fn: Function,\r\n  instance: ComponentInternalInstance | null,\r\n  type: ErrorTypes,\r\n  args?: unknown[]\r\n) {\r\n  let res\r\n  try {\r\n    res = args ? fn(...args) : fn()\r\n  } catch (err) {\r\n    handleError(err, instance, type)\r\n  }\r\n  return res\r\n}\r\n\r\nexport function callWithAsyncErrorHandling(\r\n  fn: Function | Function[],\r\n  instance: ComponentInternalInstance | null,\r\n  type: ErrorTypes,\r\n  args?: unknown[]\r\n) {\r\n  if (isFunction(fn)) {\r\n    const res = callWithErrorHandling(fn, instance, type, args)\r\n    if (res != null && !res._isVue && isPromise(res)) {\r\n      res.catch((err: Error) => {\r\n        handleError(err, instance, type)\r\n      })\r\n    }\r\n    return res\r\n  }\r\n\r\n  for (let i = 0; i < fn.length; i++) {\r\n    callWithAsyncErrorHandling(fn[i], instance, type, args)\r\n  }\r\n}\r\n\r\nexport function handleError(\r\n  err: Error,\r\n  instance: ComponentInternalInstance | null,\r\n  type: ErrorTypes\r\n) {\r\n  const contextVNode = instance ? instance.vnode : null\r\n  if (instance) {\r\n    let cur = instance.parent\r\n    // the exposed instance is the render proxy to keep it consistent with 2.x\r\n    const exposedInstance = instance.renderProxy\r\n    // in production the hook receives only the error code\r\n    const errorInfo = __DEV__ ? ErrorTypeStrings[type] : type\r\n    while (cur) {\r\n      const errorCapturedHooks = cur.ec\r\n      if (errorCapturedHooks !== null) {\r\n        for (let i = 0; i < errorCapturedHooks.length; i++) {\r\n          if (errorCapturedHooks[i](err, exposedInstance, errorInfo)) {\r\n            return\r\n          }\r\n        }\r\n      }\r\n      cur = cur.parent\r\n    }\r\n    // app-level handling\r\n    const appErrorHandler = instance.appContext.config.errorHandler\r\n    if (appErrorHandler) {\r\n      callWithErrorHandling(\r\n        appErrorHandler,\r\n        null,\r\n        ErrorCodes.APP_ERROR_HANDLER,\r\n        [err, exposedInstance, errorInfo]\r\n      )\r\n      return\r\n    }\r\n  }\r\n  logError(err, type, contextVNode)\r\n}\r\n\r\n// Test-only toggle for testing the uhandled warning behavior\r\nlet forceRecover = false\r\nexport function setErrorRecovery(value: boolean) {\r\n  forceRecover = value\r\n}\r\n\r\nfunction logError(err: Error, type: ErrorTypes, contextVNode: VNode | null) {\r\n  // default behavior is crash in prod & test, recover in dev.\r\n  if (__DEV__ && (forceRecover || !__TEST__)) {\r\n    const info = ErrorTypeStrings[type]\r\n    if (contextVNode) {\r\n      pushWarningContext(contextVNode)\r\n    }\r\n    warn(`Unhandled error${info ? ` during execution of ${info}` : ``}`)\r\n    console.error(err)\r\n    if (contextVNode) {\r\n      popWarningContext()\r\n    }\r\n  } else {\r\n    throw err\r\n  }\r\n}\r\n","import { VNode } from './vnode'\r\nimport { Data, ComponentInternalInstance, Component } from './component'\r\nimport { isString, isFunction } from '@vue/shared'\r\nimport { toRaw, isRef, pauseTracking, resumeTracking } from '@vue/reactivity'\r\nimport { callWithErrorHandling, ErrorCodes } from './errorHandling'\r\n\r\ntype ComponentVNode = VNode & {\r\n  type: Component\r\n}\r\n\r\nconst stack: VNode[] = []\r\n\r\ntype TraceEntry = {\r\n  vnode: ComponentVNode\r\n  recurseCount: number\r\n}\r\n\r\ntype ComponentTraceStack = TraceEntry[]\r\n\r\nexport function pushWarningContext(vnode: VNode) {\r\n  stack.push(vnode)\r\n}\r\n\r\nexport function popWarningContext() {\r\n  stack.pop()\r\n}\r\n\r\nexport function warn(msg: string, ...args: any[]) {\r\n  // avoid props formatting or warn handler tracking deps that might be mutated\r\n  // during patch, leading to infinite recursion.\r\n  pauseTracking()\r\n\r\n  const instance = stack.length ? stack[stack.length - 1].component : null\r\n  const appWarnHandler = instance && instance.appContext.config.warnHandler\r\n  const trace = getComponentTrace()\r\n\r\n  if (appWarnHandler) {\r\n    callWithErrorHandling(\r\n      appWarnHandler,\r\n      instance,\r\n      ErrorCodes.APP_WARN_HANDLER,\r\n      [\r\n        msg + args.join(''),\r\n        instance && instance.renderProxy,\r\n        trace\r\n          .map(({ vnode }) => `at <${formatComponentName(vnode)}>`)\r\n          .join('\\n'),\r\n        trace\r\n      ]\r\n    )\r\n  } else {\r\n    const warnArgs = [`[Vue warn]: ${msg}`, ...args]\r\n    if (\r\n      trace.length &&\r\n      // avoid spamming console during tests\r\n      !__TEST__\r\n    ) {\r\n      warnArgs.push(`\\n`, ...formatTrace(trace))\r\n    }\r\n    console.warn(...warnArgs)\r\n  }\r\n\r\n  resumeTracking()\r\n}\r\n\r\nfunction getComponentTrace(): ComponentTraceStack {\r\n  let currentVNode: VNode | null = stack[stack.length - 1]\r\n  if (!currentVNode) {\r\n    return []\r\n  }\r\n\r\n  // we can't just use the stack because it will be incomplete during updates\r\n  // that did not start from the root. Re-construct the parent chain using\r\n  // instance parent pointers.\r\n  const normalizedStack: ComponentTraceStack = []\r\n\r\n  while (currentVNode) {\r\n    const last = normalizedStack[0]\r\n    if (last && last.vnode === currentVNode) {\r\n      last.recurseCount++\r\n    } else {\r\n      normalizedStack.push({\r\n        vnode: currentVNode as ComponentVNode,\r\n        recurseCount: 0\r\n      })\r\n    }\r\n    const parentInstance: ComponentInternalInstance | null = currentVNode.component!\r\n      .parent\r\n    currentVNode = parentInstance && parentInstance.vnode\r\n  }\r\n\r\n  return normalizedStack\r\n}\r\n\r\nfunction formatTrace(trace: ComponentTraceStack): any[] {\r\n  const logs: any[] = []\r\n  trace.forEach((entry, i) => {\r\n    logs.push(...(i === 0 ? [] : [`\\n`]), ...formatTraceEntry(entry))\r\n  })\r\n  return logs\r\n}\r\n\r\nfunction formatTraceEntry({ vnode, recurseCount }: TraceEntry): any[] {\r\n  const postfix =\r\n    recurseCount > 0 ? `... (${recurseCount} recursive calls)` : ``\r\n  const open = ` at <${formatComponentName(vnode)}`\r\n  const close = `>` + postfix\r\n  const rootLabel = vnode.component!.parent == null ? `(Root)` : ``\r\n  return vnode.props\r\n    ? [open, ...formatProps(vnode.props), close, rootLabel]\r\n    : [open + close, rootLabel]\r\n}\r\n\r\nconst classifyRE = /(?:^|[-_])(\\w)/g\r\nconst classify = (str: string): string =>\r\n  str.replace(classifyRE, c => c.toUpperCase()).replace(/[-_]/g, '')\r\n\r\nfunction formatComponentName(vnode: ComponentVNode, file?: string): string {\r\n  const Component = vnode.type as Component\r\n  let name = isFunction(Component)\r\n    ? Component.displayName || Component.name\r\n    : Component.name\r\n  if (!name && file) {\r\n    const match = file.match(/([^/\\\\]+)\\.vue$/)\r\n    if (match) {\r\n      name = match[1]\r\n    }\r\n  }\r\n  return name ? classify(name) : 'Anonymous'\r\n}\r\n\r\nfunction formatProps(props: Data): any[] {\r\n  const res: any[] = []\r\n  const keys = Object.keys(props)\r\n  keys.slice(0, 3).forEach(key => {\r\n    res.push(...formatProp(key, props[key]))\r\n  })\r\n  if (keys.length > 3) {\r\n    res.push(` ...`)\r\n  }\r\n  return res\r\n}\r\n\r\nfunction formatProp(key: string, value: unknown): any[]\r\nfunction formatProp(key: string, value: unknown, raw: true): any\r\nfunction formatProp(key: string, value: unknown, raw?: boolean): any {\r\n  if (isString(value)) {\r\n    value = JSON.stringify(value)\r\n    return raw ? value : [`${key}=${value}`]\r\n  } else if (\r\n    typeof value === 'number' ||\r\n    typeof value === 'boolean' ||\r\n    value == null\r\n  ) {\r\n    return raw ? value : [`${key}=${value}`]\r\n  } else if (isRef(value)) {\r\n    value = formatProp(key, toRaw(value.value), true)\r\n    return raw ? value : [`${key}=Ref<`, value, `>`]\r\n  } else if (isFunction(value)) {\r\n    return [`${key}=fn${value.name ? `<${value.name}>` : ``}`]\r\n  } else {\r\n    value = toRaw(value)\r\n    return raw ? value : [`${key}=`, value]\r\n  }\r\n}\r\n","import {\r\n  isArray,\r\n  isFunction,\r\n  isString,\r\n  isObject,\r\n  EMPTY_ARR,\r\n  extend\r\n} from '@vue/shared'\r\nimport {\r\n  ComponentInternalInstance,\r\n  Data,\r\n  SetupProxySymbol,\r\n  Component\r\n} from './component'\r\nimport { RawSlots } from './componentSlots'\r\nimport { ShapeFlags } from './shapeFlags'\r\nimport { isReactive, Ref } from '@vue/reactivity'\r\nimport { AppContext } from './apiApp'\r\nimport { SuspenseBoundary } from './components/Suspense'\r\nimport { DirectiveBinding } from './directives'\r\nimport { SuspenseImpl } from './components/Suspense'\r\nimport { TransitionHooks } from './components/BaseTransition'\r\nimport { warn } from './warning'\r\n\r\nexport const Fragment = (Symbol(__DEV__ ? 'Fragment' : undefined) as any) as {\r\n  __isFragment: true\r\n  new (): {\r\n    $props: VNodeProps\r\n  }\r\n}\r\nexport const Portal = (Symbol(__DEV__ ? 'Portal' : undefined) as any) as {\r\n  __isPortal: true\r\n  new (): {\r\n    $props: VNodeProps & { target: string | object }\r\n  }\r\n}\r\nexport const Text = Symbol(__DEV__ ? 'Text' : undefined)\r\nexport const Comment = Symbol(__DEV__ ? 'Comment' : undefined)\r\n\r\nexport type VNodeTypes =\r\n  | string\r\n  | Component\r\n  | typeof Fragment\r\n  | typeof Portal\r\n  | typeof Text\r\n  | typeof Comment\r\n  | typeof SuspenseImpl\r\n\r\nexport interface VNodeProps {\r\n  [key: string]: any\r\n  key?: string | number\r\n  ref?: string | Ref | ((ref: object | null) => void)\r\n\r\n  // vnode hooks\r\n  onVnodeBeforeMount?: (vnode: VNode) => void\r\n  onVnodeMounted?: (vnode: VNode) => void\r\n  onVnodeBeforeUpdate?: (vnode: VNode, oldVNode: VNode) => void\r\n  onVnodeUpdated?: (vnode: VNode, oldVNode: VNode) => void\r\n  onVnodeBeforeUnmount?: (vnode: VNode) => void\r\n  onVnodeUnmounted?: (vnode: VNode) => void\r\n}\r\n\r\ntype VNodeChildAtom<HostNode, HostElement> =\r\n  | VNode<HostNode, HostElement>\r\n  | string\r\n  | number\r\n  | boolean\r\n  | null\r\n  | void\r\n\r\nexport interface VNodeChildren<HostNode = any, HostElement = any>\r\n  extends Array<\r\n      | VNodeChildren<HostNode, HostElement>\r\n      | VNodeChildAtom<HostNode, HostElement>\r\n    > {}\r\n\r\nexport type VNodeChild<HostNode = any, HostElement = any> =\r\n  | VNodeChildAtom<HostNode, HostElement>\r\n  | VNodeChildren<HostNode, HostElement>\r\n\r\nexport type NormalizedChildren<HostNode = any, HostElement = any> =\r\n  | string\r\n  | VNodeChildren<HostNode, HostElement>\r\n  | RawSlots\r\n  | null\r\n\r\nexport interface VNode<HostNode = any, HostElement = any> {\r\n  _isVNode: true\r\n  type: VNodeTypes\r\n  props: VNodeProps | null\r\n  key: string | number | null\r\n  ref: string | Ref | ((ref: object | null) => void) | null\r\n  children: NormalizedChildren<HostNode, HostElement>\r\n  component: ComponentInternalInstance | null\r\n  suspense: SuspenseBoundary<HostNode, HostElement> | null\r\n  dirs: DirectiveBinding[] | null\r\n  transition: TransitionHooks | null\r\n\r\n  // DOM\r\n  el: HostNode | null\r\n  anchor: HostNode | null // fragment anchor\r\n  target: HostElement | null // portal target\r\n\r\n  // optimization only\r\n  shapeFlag: number\r\n  patchFlag: number\r\n  dynamicProps: string[] | null\r\n  dynamicChildren: VNode[] | null\r\n\r\n  // application root node only\r\n  appContext: AppContext | null\r\n}\r\n\r\n// Since v-if and v-for are the two possible ways node structure can dynamically\r\n// change, once we consider v-if branches and each v-for fragment a block, we\r\n// can divide a template into nested blocks, and within each block the node\r\n// structure would be stable. This allows us to skip most children diffing\r\n// and only worry about the dynamic nodes (indicated by patch flags).\r\nconst blockStack: (VNode[] | null)[] = []\r\nlet currentBlock: VNode[] | null = null\r\n\r\n// Open a block.\r\n// This must be called before `createBlock`. It cannot be part of `createBlock`\r\n// because the children of the block are evaluated before `createBlock` itself\r\n// is called. The generated code typically looks like this:\r\n//\r\n//   function render() {\r\n//     return (openBlock(),createBlock('div', null, [...]))\r\n//   }\r\n//\r\n// disableTracking is true when creating a fragment block, since a fragment\r\n// always diffs its children.\r\nexport function openBlock(disableTracking?: boolean) {\r\n  blockStack.push((currentBlock = disableTracking ? null : []))\r\n}\r\n\r\n// Whether we should be tracking dynamic child nodes inside a block.\r\n// Only tracks when this value is > 0\r\n// We are not using a simple boolean because this value may need to be\r\n// incremented/decremented by nested usage of v-once (see below)\r\nlet shouldTrack = 1\r\n\r\n// Block tracking sometimes needs to be disabled, for example during the\r\n// creation of a tree that needs to be cached by v-once. The compiler generates\r\n// code like this:\r\n//   _cache[1] || (\r\n//     setBlockTracking(-1),\r\n//     _cache[1] = createVNode(...),\r\n//     setBlockTracking(1),\r\n//     _cache[1]\r\n//   )\r\nexport function setBlockTracking(value: number) {\r\n  shouldTrack += value\r\n}\r\n\r\n// Create a block root vnode. Takes the same exact arguments as `createVNode`.\r\n// A block root keeps track of dynamic nodes within the block in the\r\n// `dynamicChildren` array.\r\nexport function createBlock(\r\n  type: VNodeTypes,\r\n  props?: { [key: string]: any } | null,\r\n  children?: any,\r\n  patchFlag?: number,\r\n  dynamicProps?: string[]\r\n): VNode {\r\n  // avoid a block with patchFlag tracking itself\r\n  shouldTrack--\r\n  const vnode = createVNode(type, props, children, patchFlag, dynamicProps)\r\n  shouldTrack++\r\n  // save current block children on the block vnode\r\n  vnode.dynamicChildren = currentBlock || EMPTY_ARR\r\n  // close block\r\n  blockStack.pop()\r\n  currentBlock = blockStack[blockStack.length - 1] || null\r\n  // a block is always going to be patched, so track it as a child of its\r\n  // parent block\r\n  if (currentBlock !== null) {\r\n    currentBlock.push(vnode)\r\n  }\r\n  return vnode\r\n}\r\n\r\nexport function isVNode(value: any): value is VNode {\r\n  return value ? value._isVNode === true : false\r\n}\r\n\r\nexport function isSameVNodeType(n1: VNode, n2: VNode): boolean {\r\n  return n1.type === n2.type && n1.key === n2.key\r\n}\r\n\r\nexport function createVNode(\r\n  type: VNodeTypes,\r\n  props: (Data & VNodeProps) | null = null,\r\n  children: unknown = null,\r\n  patchFlag: number = 0,\r\n  dynamicProps: string[] | null = null\r\n): VNode {\r\n  if (__DEV__ && !type) {\r\n    warn(`Invalid vnode type when creating vnode: ${type}.`)\r\n    type = Comment\r\n  }\r\n\r\n  // class & style normalization.\r\n  if (props !== null) {\r\n    // for reactive or proxy objects, we need to clone it to enable mutation.\r\n    if (isReactive(props) || SetupProxySymbol in props) {\r\n      props = extend({}, props)\r\n    }\r\n    let { class: klass, style } = props\r\n    if (klass != null && !isString(klass)) {\r\n      props.class = normalizeClass(klass)\r\n    }\r\n    if (style != null) {\r\n      // reactive state objects need to be cloned since they are likely to be\r\n      // mutated\r\n      if (isReactive(style) && !isArray(style)) {\r\n        style = extend({}, style)\r\n      }\r\n      props.style = normalizeStyle(style)\r\n    }\r\n  }\r\n\r\n  // encode the vnode type information into a bitmap\r\n  const shapeFlag = isString(type)\r\n    ? ShapeFlags.ELEMENT\r\n    : __FEATURE_SUSPENSE__ && (type as any).__isSuspense === true\r\n      ? ShapeFlags.SUSPENSE\r\n      : isObject(type)\r\n        ? ShapeFlags.STATEFUL_COMPONENT\r\n        : isFunction(type)\r\n          ? ShapeFlags.FUNCTIONAL_COMPONENT\r\n          : 0\r\n\r\n  const vnode: VNode = {\r\n    _isVNode: true,\r\n    type,\r\n    props,\r\n    key: (props !== null && props.key) || null,\r\n    ref: (props !== null && props.ref) || null,\r\n    children: null,\r\n    component: null,\r\n    suspense: null,\r\n    dirs: null,\r\n    transition: null,\r\n    el: null,\r\n    anchor: null,\r\n    target: null,\r\n    shapeFlag,\r\n    patchFlag,\r\n    dynamicProps,\r\n    dynamicChildren: null,\r\n    appContext: null\r\n  }\r\n\r\n  normalizeChildren(vnode, children)\r\n\r\n  // presence of a patch flag indicates this node needs patching on updates.\r\n  // component nodes also should always be patched, because even if the\r\n  // component doesn't need to update, it needs to persist the instance on to\r\n  // the next vnode so that it can be properly unmounted later.\r\n  if (\r\n    shouldTrack > 0 &&\r\n    currentBlock !== null &&\r\n    (patchFlag > 0 ||\r\n      shapeFlag & ShapeFlags.STATEFUL_COMPONENT ||\r\n      shapeFlag & ShapeFlags.FUNCTIONAL_COMPONENT)\r\n  ) {\r\n    currentBlock.push(vnode)\r\n  }\r\n\r\n  return vnode\r\n}\r\n\r\nexport function cloneVNode<T, U>(\r\n  vnode: VNode<T, U>,\r\n  extraProps?: Data & VNodeProps\r\n): VNode<T, U> {\r\n  // This is intentionally NOT using spread or extend to avoid the runtime\r\n  // key enumeration cost.\r\n  return {\r\n    _isVNode: true,\r\n    type: vnode.type,\r\n    props: extraProps\r\n      ? vnode.props\r\n        ? mergeProps(vnode.props, extraProps)\r\n        : extraProps\r\n      : vnode.props,\r\n    key: vnode.key,\r\n    ref: vnode.ref,\r\n    children: vnode.children,\r\n    target: vnode.target,\r\n    shapeFlag: vnode.shapeFlag,\r\n    patchFlag: vnode.patchFlag,\r\n    dynamicProps: vnode.dynamicProps,\r\n    dynamicChildren: vnode.dynamicChildren,\r\n    appContext: vnode.appContext,\r\n    dirs: vnode.dirs,\r\n    transition: vnode.transition,\r\n\r\n    // These should technically only be non-null on mounted VNodes. However,\r\n    // they *should* be copied for kept-alive vnodes. So we just always copy\r\n    // them since them being non-null during a mount doesn't affect the logic as\r\n    // they will simply be overwritten.\r\n    component: vnode.component,\r\n    suspense: vnode.suspense,\r\n    el: vnode.el,\r\n    anchor: vnode.anchor\r\n  }\r\n}\r\n\r\nexport function createTextVNode(text: string = ' ', flag: number = 0): VNode {\r\n  return createVNode(Text, null, text, flag)\r\n}\r\n\r\nexport function createCommentVNode(\r\n  text: string = '',\r\n  // when used as the v-else branch, the comment node must be created as a\r\n  // block to ensure correct updates.\r\n  asBlock: boolean = false\r\n): VNode {\r\n  return asBlock\r\n    ? createBlock(Comment, null, text)\r\n    : createVNode(Comment, null, text)\r\n}\r\n\r\nexport function normalizeVNode<T, U>(child: VNodeChild<T, U>): VNode<T, U> {\r\n  if (child == null) {\r\n    // empty placeholder\r\n    return createVNode(Comment)\r\n  } else if (isArray(child)) {\r\n    // fragment\r\n    return createVNode(Fragment, null, child)\r\n  } else if (typeof child === 'object') {\r\n    // already vnode, this should be the most common since compiled templates\r\n    // always produce all-vnode children arrays\r\n    return child.el === null ? child : cloneVNode(child)\r\n  } else {\r\n    // primitive types\r\n    return createVNode(Text, null, child + '')\r\n  }\r\n}\r\n\r\nexport function normalizeChildren(vnode: VNode, children: unknown) {\r\n  let type = 0\r\n  if (children == null) {\r\n    children = null\r\n  } else if (isArray(children)) {\r\n    type = ShapeFlags.ARRAY_CHILDREN\r\n  } else if (typeof children === 'object') {\r\n    type = ShapeFlags.SLOTS_CHILDREN\r\n  } else if (isFunction(children)) {\r\n    children = { default: children }\r\n    type = ShapeFlags.SLOTS_CHILDREN\r\n  } else {\r\n    children = isString(children) ? children : children + ''\r\n    type = ShapeFlags.TEXT_CHILDREN\r\n  }\r\n  vnode.children = children as NormalizedChildren\r\n  vnode.shapeFlag |= type\r\n}\r\n\r\nfunction normalizeStyle(\r\n  value: unknown\r\n): Record<string, string | number> | void {\r\n  if (isArray(value)) {\r\n    const res: Record<string, string | number> = {}\r\n    for (let i = 0; i < value.length; i++) {\r\n      const normalized = normalizeStyle(value[i])\r\n      if (normalized) {\r\n        for (const key in normalized) {\r\n          res[key] = normalized[key]\r\n        }\r\n      }\r\n    }\r\n    return res\r\n  } else if (isObject(value)) {\r\n    return value\r\n  }\r\n}\r\n\r\nexport function normalizeClass(value: unknown): string {\r\n  let res = ''\r\n  if (isString(value)) {\r\n    res = value\r\n  } else if (isArray(value)) {\r\n    for (let i = 0; i < value.length; i++) {\r\n      res += normalizeClass(value[i]) + ' '\r\n    }\r\n  } else if (isObject(value)) {\r\n    for (const name in value) {\r\n      if (value[name]) {\r\n        res += name + ' '\r\n      }\r\n    }\r\n  }\r\n  return res.trim()\r\n}\r\n\r\nconst handlersRE = /^on|^vnode/\r\n\r\nexport function mergeProps(...args: (Data & VNodeProps)[]) {\r\n  const ret: Data = {}\r\n  extend(ret, args[0])\r\n  for (let i = 1; i < args.length; i++) {\r\n    const toMerge = args[i]\r\n    for (const key in toMerge) {\r\n      if (key === 'class') {\r\n        ret.class = normalizeClass([ret.class, toMerge.class])\r\n      } else if (key === 'style') {\r\n        ret.style = normalizeStyle([ret.style, toMerge.style])\r\n      } else if (handlersRE.test(key)) {\r\n        // on*, vnode*\r\n        const existing = ret[key]\r\n        ret[key] = existing\r\n          ? [].concat(existing as any, toMerge[key] as any)\r\n          : toMerge[key]\r\n      } else {\r\n        ret[key] = toMerge[key]\r\n      }\r\n    }\r\n  }\r\n  return ret\r\n}\r\n","import { ErrorCodes, callWithErrorHandling } from './errorHandling'\r\nimport { isArray } from '@vue/shared'\r\n\r\nconst queue: Function[] = []\r\nconst postFlushCbs: Function[] = []\r\nconst p = Promise.resolve()\r\n\r\nlet isFlushing = false\r\nlet isFlushPending = false\r\n\r\nconst RECURSION_LIMIT = 100\r\ntype CountMap = Map<Function, number>\r\n\r\nexport function nextTick(fn?: () => void): Promise<void> {\r\n  return fn ? p.then(fn) : p\r\n}\r\n\r\nexport function queueJob(job: () => void) {\r\n  if (!queue.includes(job)) {\r\n    queue.push(job)\r\n    queueFlush()\r\n  }\r\n}\r\n\r\nexport function queuePostFlushCb(cb: Function | Function[]) {\r\n  if (!isArray(cb)) {\r\n    postFlushCbs.push(cb)\r\n  } else {\r\n    postFlushCbs.push(...cb)\r\n  }\r\n  queueFlush()\r\n}\r\n\r\nfunction queueFlush() {\r\n  if (!isFlushing && !isFlushPending) {\r\n    isFlushPending = true\r\n    nextTick(flushJobs)\r\n  }\r\n}\r\n\r\nconst dedupe = (cbs: Function[]): Function[] => [...new Set(cbs)]\r\n\r\nexport function flushPostFlushCbs(seen?: CountMap) {\r\n  if (postFlushCbs.length) {\r\n    const cbs = dedupe(postFlushCbs)\r\n    postFlushCbs.length = 0\r\n    if (__DEV__) {\r\n      seen = seen || new Map()\r\n    }\r\n    for (let i = 0; i < cbs.length; i++) {\r\n      if (__DEV__) {\r\n        checkRecursiveUpdates(seen!, cbs[i])\r\n      }\r\n      cbs[i]()\r\n    }\r\n  }\r\n}\r\n\r\nfunction flushJobs(seen?: CountMap) {\r\n  isFlushPending = false\r\n  isFlushing = true\r\n  let job\r\n  if (__DEV__) {\r\n    seen = seen || new Map()\r\n  }\r\n  while ((job = queue.shift())) {\r\n    if (__DEV__) {\r\n      checkRecursiveUpdates(seen!, job)\r\n    }\r\n    callWithErrorHandling(job, null, ErrorCodes.SCHEDULER)\r\n  }\r\n  flushPostFlushCbs(seen)\r\n  isFlushing = false\r\n  // some postFlushCb queued jobs!\r\n  // keep flushing until it drains.\r\n  if (queue.length || postFlushCbs.length) {\r\n    flushJobs(seen)\r\n  }\r\n}\r\n\r\nfunction checkRecursiveUpdates(seen: CountMap, fn: Function) {\r\n  if (!seen.has(fn)) {\r\n    seen.set(fn, 1)\r\n  } else {\r\n    const count = seen.get(fn)!\r\n    if (count > RECURSION_LIMIT) {\r\n      throw new Error(\r\n        'Maximum recursive updates exceeded. ' +\r\n          \"You may have code that is mutating state in your component's \" +\r\n          'render function or updated hook or watcher source function.'\r\n      )\r\n    } else {\r\n      seen.set(fn, count + 1)\r\n    }\r\n  }\r\n}\r\n","import {\r\n  ComponentInternalInstance,\r\n  FunctionalComponent,\r\n  Data\r\n} from './component'\r\nimport {\r\n  VNode,\r\n  normalizeVNode,\r\n  createVNode,\r\n  Comment,\r\n  cloneVNode\r\n} from './vnode'\r\nimport { ShapeFlags } from './shapeFlags'\r\nimport { handleError, ErrorCodes } from './errorHandling'\r\nimport { PatchFlags, EMPTY_OBJ } from '@vue/shared'\r\nimport { warn } from './warning'\r\nimport { readonlyProps } from '@vue/reactivity'\r\n\r\n// mark the current rendering instance for asset resolution (e.g.\r\n// resolveComponent, resolveDirective) during render\r\nexport let currentRenderingInstance: ComponentInternalInstance | null = null\r\n\r\n// dev only flag to track whether $attrs was used during render.\r\n// If $attrs was used during render then the warning for failed attrs\r\n// fallthrough can be suppressed.\r\nlet accessedAttrs: boolean = false\r\n\r\nexport function markAttrsAccessed() {\r\n  accessedAttrs = true\r\n}\r\n\r\nexport function renderComponentRoot(\r\n  instance: ComponentInternalInstance\r\n): VNode {\r\n  const {\r\n    type: Component,\r\n    vnode,\r\n    renderProxy,\r\n    props,\r\n    slots,\r\n    attrs,\r\n    emit\r\n  } = instance\r\n\r\n  let result\r\n  currentRenderingInstance = instance\r\n  if (__DEV__) {\r\n    accessedAttrs = false\r\n  }\r\n  try {\r\n    if (vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\r\n      result = normalizeVNode(instance.render!.call(renderProxy))\r\n    } else {\r\n      // functional\r\n      const render = Component as FunctionalComponent\r\n      const propsToPass = __DEV__ ? readonlyProps(props) : props\r\n      result = normalizeVNode(\r\n        render.length > 1\r\n          ? render(propsToPass, {\r\n              attrs,\r\n              slots,\r\n              emit\r\n            })\r\n          : render(propsToPass, null as any /* we know it doesn't need it */)\r\n      )\r\n    }\r\n\r\n    // attr merging\r\n    if (\r\n      Component.props != null &&\r\n      Component.inheritAttrs !== false &&\r\n      attrs !== EMPTY_OBJ &&\r\n      Object.keys(attrs).length\r\n    ) {\r\n      if (\r\n        result.shapeFlag & ShapeFlags.ELEMENT ||\r\n        result.shapeFlag & ShapeFlags.COMPONENT\r\n      ) {\r\n        result = cloneVNode(result, attrs)\r\n      } else if (__DEV__ && !accessedAttrs) {\r\n        warn(\r\n          `Extraneous non-props attributes (${Object.keys(attrs).join(',')}) ` +\r\n            `were passed to component but could not be automatically inherited ` +\r\n            `because component renders fragment or text root nodes.`\r\n        )\r\n      }\r\n    }\r\n\r\n    // inherit transition data\r\n    if (vnode.transition != null) {\r\n      if (\r\n        __DEV__ &&\r\n        !(result.shapeFlag & ShapeFlags.COMPONENT) &&\r\n        !(result.shapeFlag & ShapeFlags.ELEMENT) &&\r\n        result.type !== Comment\r\n      ) {\r\n        warn(\r\n          `Component inside <Transition> renders non-element root node ` +\r\n            `that cannot be animated.`\r\n        )\r\n      }\r\n      result.transition = vnode.transition\r\n    }\r\n  } catch (err) {\r\n    handleError(err, instance, ErrorCodes.RENDER_FUNCTION)\r\n    result = createVNode(Comment)\r\n  }\r\n  currentRenderingInstance = null\r\n  return result\r\n}\r\n\r\nexport function shouldUpdateComponent(\r\n  prevVNode: VNode,\r\n  nextVNode: VNode,\r\n  optimized?: boolean\r\n): boolean {\r\n  const { props: prevProps, children: prevChildren } = prevVNode\r\n  const { props: nextProps, children: nextChildren, patchFlag } = nextVNode\r\n  if (patchFlag > 0) {\r\n    if (patchFlag & PatchFlags.DYNAMIC_SLOTS) {\r\n      // slot content that references values that might have changed,\r\n      // e.g. in a v-for\r\n      return true\r\n    }\r\n    if (patchFlag & PatchFlags.FULL_PROPS) {\r\n      // presence of this flag indicates props are always non-null\r\n      return hasPropsChanged(prevProps!, nextProps!)\r\n    } else if (patchFlag & PatchFlags.PROPS) {\r\n      const dynamicProps = nextVNode.dynamicProps!\r\n      for (let i = 0; i < dynamicProps.length; i++) {\r\n        const key = dynamicProps[i]\r\n        if (nextProps![key] !== prevProps![key]) {\r\n          return true\r\n        }\r\n      }\r\n    }\r\n  } else if (!optimized) {\r\n    // this path is only taken by manually written render functions\r\n    // so presence of any children leads to a forced update\r\n    if (prevChildren != null || nextChildren != null) {\r\n      if (nextChildren == null || !(nextChildren as any).$stable) {\r\n        return true\r\n      }\r\n    }\r\n    if (prevProps === nextProps) {\r\n      return false\r\n    }\r\n    if (prevProps === null) {\r\n      return nextProps !== null\r\n    }\r\n    if (nextProps === null) {\r\n      return true\r\n    }\r\n    return hasPropsChanged(prevProps, nextProps)\r\n  }\r\n  return false\r\n}\r\n\r\nfunction hasPropsChanged(prevProps: Data, nextProps: Data): boolean {\r\n  const nextKeys = Object.keys(nextProps)\r\n  if (nextKeys.length !== Object.keys(prevProps).length) {\r\n    return true\r\n  }\r\n  for (let i = 0; i < nextKeys.length; i++) {\r\n    const key = nextKeys[i]\r\n    if (nextProps[key] !== prevProps[key]) {\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n\r\nexport function updateHOCHostEl(\r\n  { vnode, parent }: ComponentInternalInstance,\r\n  el: object // HostNode\r\n) {\r\n  while (parent && parent.subTree === vnode) {\r\n    ;(vnode = parent.vnode).el = el\r\n    parent = parent.parent\r\n  }\r\n}\r\n","import { toRaw, lock, unlock } from '@vue/reactivity'\r\nimport {\r\n  EMPTY_OBJ,\r\n  camelize,\r\n  hyphenate,\r\n  capitalize,\r\n  isString,\r\n  isFunction,\r\n  isArray,\r\n  isObject,\r\n  hasOwn,\r\n  toRawType,\r\n  PatchFlags,\r\n  makeMap\r\n} from '@vue/shared'\r\nimport { warn } from './warning'\r\nimport { Data, ComponentInternalInstance } from './component'\r\n\r\nexport type ComponentPropsOptions<P = Data> =\r\n  | ComponentObjectPropsOptions<P>\r\n  | string[]\r\n\r\nexport type ComponentObjectPropsOptions<P = Data> = {\r\n  [K in keyof P]: Prop<P[K]> | null\r\n}\r\n\r\nexport type Prop<T> = PropOptions<T> | PropType<T>\r\n\r\ntype DefaultFactory<T> = () => T | null | undefined\r\n\r\ninterface PropOptions<T = any> {\r\n  type?: PropType<T> | true | null\r\n  required?: boolean\r\n  default?: T | DefaultFactory<T> | null | undefined\r\n  validator?(value: unknown): boolean\r\n}\r\n\r\nexport type PropType<T> = PropConstructor<T> | PropConstructor<T>[]\r\n\r\ntype PropConstructor<T = any> = { new (...args: any[]): T & object } | { (): T }\r\n\r\ntype RequiredKeys<T, MakeDefaultRequired> = {\r\n  [K in keyof T]: T[K] extends\r\n    | { required: true }\r\n    | (MakeDefaultRequired extends true ? { default: any } : never)\r\n    ? K\r\n    : never\r\n}[keyof T]\r\n\r\ntype OptionalKeys<T, MakeDefaultRequired> = Exclude<\r\n  keyof T,\r\n  RequiredKeys<T, MakeDefaultRequired>\r\n>\r\n\r\ntype InferPropType<T> = T extends null\r\n  ? any // null & true would fail to infer\r\n  : T extends { type: null | true }\r\n    ? any // somehow `ObjectConstructor` when inferred from { (): T } becomes `any`\r\n    : T extends ObjectConstructor | { type: ObjectConstructor }\r\n      ? { [key: string]: any }\r\n      : T extends Prop<infer V> ? V : T\r\n\r\nexport type ExtractPropTypes<\r\n  O,\r\n  MakeDefaultRequired extends boolean = true\r\n> = O extends object\r\n  ? { [K in RequiredKeys<O, MakeDefaultRequired>]: InferPropType<O[K]> } &\r\n      { [K in OptionalKeys<O, MakeDefaultRequired>]?: InferPropType<O[K]> }\r\n  : { [K in string]: any }\r\n\r\nconst enum BooleanFlags {\r\n  shouldCast,\r\n  shouldCastTrue\r\n}\r\n\r\ntype NormalizedProp =\r\n  | null\r\n  | (PropOptions & {\r\n      [BooleanFlags.shouldCast]?: boolean\r\n      [BooleanFlags.shouldCastTrue]?: boolean\r\n    })\r\n\r\ntype NormalizedPropsOptions = Record<string, NormalizedProp>\r\n\r\n// resolve raw VNode data.\r\n// - filter out reserved keys (key, ref, slots)\r\n// - extract class and style into $attrs (to be merged onto child\r\n//   component root)\r\n// - for the rest:\r\n//   - if has declared props: put declared ones in `props`, the rest in `attrs`\r\n//   - else: everything goes in `props`.\r\n\r\nexport function resolveProps(\r\n  instance: ComponentInternalInstance,\r\n  rawProps: Data | null,\r\n  _options: ComponentPropsOptions | void\r\n) {\r\n  const hasDeclaredProps = _options != null\r\n  const options = normalizePropsOptions(_options)!\r\n  if (!rawProps && !hasDeclaredProps) {\r\n    return\r\n  }\r\n\r\n  const props: Data = {}\r\n  let attrs: Data | undefined = void 0\r\n\r\n  // update the instance propsProxy (passed to setup()) to trigger potential\r\n  // changes\r\n  const propsProxy = instance.propsProxy\r\n  const setProp = propsProxy\r\n    ? (key: string, val: unknown) => {\r\n        props[key] = val\r\n        propsProxy[key] = val\r\n      }\r\n    : (key: string, val: unknown) => {\r\n        props[key] = val\r\n      }\r\n\r\n  // allow mutation of propsProxy (which is readonly by default)\r\n  unlock()\r\n\r\n  if (rawProps != null) {\r\n    for (const key in rawProps) {\r\n      // key, ref are reserved and never passed down\r\n      if (key === 'key' || key === 'ref') continue\r\n      // prop option names are camelized during normalization, so to support\r\n      // kebab -> camel conversion here we need to camelize the key.\r\n      const camelKey = camelize(key)\r\n      if (hasDeclaredProps && !hasOwn(options, camelKey)) {\r\n        // Any non-declared props are put into a separate `attrs` object\r\n        // for spreading. Make sure to preserve original key casing\r\n        ;(attrs || (attrs = {}))[key] = rawProps[key]\r\n      } else {\r\n        setProp(camelKey, rawProps[key])\r\n      }\r\n    }\r\n  }\r\n  // set default values, cast booleans & run validators\r\n  if (hasDeclaredProps) {\r\n    for (const key in options) {\r\n      let opt = options[key]\r\n      if (opt == null) continue\r\n      const isAbsent = !hasOwn(props, key)\r\n      const hasDefault = hasOwn(opt, 'default')\r\n      const currentValue = props[key]\r\n      // default values\r\n      if (hasDefault && currentValue === undefined) {\r\n        const defaultValue = opt.default\r\n        setProp(key, isFunction(defaultValue) ? defaultValue() : defaultValue)\r\n      }\r\n      // boolean casting\r\n      if (opt[BooleanFlags.shouldCast]) {\r\n        if (isAbsent && !hasDefault) {\r\n          setProp(key, false)\r\n        } else if (\r\n          opt[BooleanFlags.shouldCastTrue] &&\r\n          (currentValue === '' || currentValue === hyphenate(key))\r\n        ) {\r\n          setProp(key, true)\r\n        }\r\n      }\r\n      // runtime validation\r\n      if (__DEV__ && rawProps) {\r\n        let rawValue\r\n        if (!(key in rawProps) && hyphenate(key) in rawProps) {\r\n          rawValue = rawProps[hyphenate(key)]\r\n        } else {\r\n          rawValue = rawProps[key]\r\n        }\r\n        validateProp(key, toRaw(rawValue), opt, isAbsent)\r\n      }\r\n    }\r\n  } else {\r\n    // if component has no declared props, $attrs === $props\r\n    attrs = props\r\n  }\r\n\r\n  // in case of dynamic props, check if we need to delete keys from\r\n  // the props proxy\r\n  const { patchFlag } = instance.vnode\r\n  if (\r\n    propsProxy !== null &&\r\n    (patchFlag === 0 || patchFlag & PatchFlags.FULL_PROPS)\r\n  ) {\r\n    const rawInitialProps = toRaw(propsProxy)\r\n    for (const key in rawInitialProps) {\r\n      if (!hasOwn(props, key)) {\r\n        delete propsProxy[key]\r\n      }\r\n    }\r\n  }\r\n\r\n  // lock readonly\r\n  lock()\r\n\r\n  instance.props = props\r\n  instance.attrs = options ? attrs || EMPTY_OBJ : props\r\n}\r\n\r\nconst normalizationMap = new WeakMap()\r\n\r\nfunction normalizePropsOptions(\r\n  raw: ComponentPropsOptions | void\r\n): NormalizedPropsOptions | null {\r\n  if (!raw) {\r\n    return null\r\n  }\r\n  if (normalizationMap.has(raw)) {\r\n    return normalizationMap.get(raw)\r\n  }\r\n  const normalized: NormalizedPropsOptions = {}\r\n  normalizationMap.set(raw, normalized)\r\n  if (isArray(raw)) {\r\n    for (let i = 0; i < raw.length; i++) {\r\n      if (__DEV__ && !isString(raw[i])) {\r\n        warn(`props must be strings when using array syntax.`, raw[i])\r\n      }\r\n      const normalizedKey = camelize(raw[i])\r\n      if (normalizedKey[0] !== '$') {\r\n        normalized[normalizedKey] = EMPTY_OBJ\r\n      } else if (__DEV__) {\r\n        warn(`Invalid prop name: \"${normalizedKey}\" is a reserved property.`)\r\n      }\r\n    }\r\n  } else {\r\n    if (__DEV__ && !isObject(raw)) {\r\n      warn(`invalid props options`, raw)\r\n    }\r\n    for (const key in raw) {\r\n      const normalizedKey = camelize(key)\r\n      if (normalizedKey[0] !== '$') {\r\n        const opt = raw[key]\r\n        const prop: NormalizedProp = (normalized[normalizedKey] =\r\n          isArray(opt) || isFunction(opt) ? { type: opt } : opt)\r\n        if (prop != null) {\r\n          const booleanIndex = getTypeIndex(Boolean, prop.type)\r\n          const stringIndex = getTypeIndex(String, prop.type)\r\n          prop[BooleanFlags.shouldCast] = booleanIndex > -1\r\n          prop[BooleanFlags.shouldCastTrue] = booleanIndex < stringIndex\r\n        }\r\n      } else if (__DEV__) {\r\n        warn(`Invalid prop name: \"${normalizedKey}\" is a reserved property.`)\r\n      }\r\n    }\r\n  }\r\n  return normalized\r\n}\r\n\r\n// use function string name to check type constructors\r\n// so that it works across vms / iframes.\r\nfunction getType(ctor: Prop<any>): string {\r\n  const match = ctor && ctor.toString().match(/^\\s*function (\\w+)/)\r\n  return match ? match[1] : ''\r\n}\r\n\r\nfunction isSameType(a: Prop<any>, b: Prop<any>): boolean {\r\n  return getType(a) === getType(b)\r\n}\r\n\r\nfunction getTypeIndex(\r\n  type: Prop<any>,\r\n  expectedTypes: PropType<any> | void | null | true\r\n): number {\r\n  if (isArray(expectedTypes)) {\r\n    for (let i = 0, len = expectedTypes.length; i < len; i++) {\r\n      if (isSameType(expectedTypes[i], type)) {\r\n        return i\r\n      }\r\n    }\r\n  } else if (isObject(expectedTypes)) {\r\n    return isSameType(expectedTypes, type) ? 0 : -1\r\n  }\r\n  return -1\r\n}\r\n\r\ntype AssertionResult = {\r\n  valid: boolean\r\n  expectedType: string\r\n}\r\n\r\nfunction validateProp(\r\n  name: string,\r\n  value: unknown,\r\n  prop: PropOptions,\r\n  isAbsent: boolean\r\n) {\r\n  const { type, required, validator } = prop\r\n  // required!\r\n  if (required && isAbsent) {\r\n    warn('Missing required prop: \"' + name + '\"')\r\n    return\r\n  }\r\n  // missing but optional\r\n  if (value == null && !prop.required) {\r\n    return\r\n  }\r\n  // type check\r\n  if (type != null && type !== true) {\r\n    let isValid = false\r\n    const types = isArray(type) ? type : [type]\r\n    const expectedTypes = []\r\n    // value is valid as long as one of the specified types match\r\n    for (let i = 0; i < types.length && !isValid; i++) {\r\n      const { valid, expectedType } = assertType(value, types[i])\r\n      expectedTypes.push(expectedType || '')\r\n      isValid = valid\r\n    }\r\n    if (!isValid) {\r\n      warn(getInvalidTypeMessage(name, value, expectedTypes))\r\n      return\r\n    }\r\n  }\r\n  // custom validator\r\n  if (validator && !validator(value)) {\r\n    warn('Invalid prop: custom validator check failed for prop \"' + name + '\".')\r\n  }\r\n}\r\n\r\nconst isSimpleType = /*#__PURE__*/ makeMap(\r\n  'String,Number,Boolean,Function,Symbol'\r\n)\r\n\r\nfunction assertType(value: unknown, type: PropConstructor): AssertionResult {\r\n  let valid\r\n  const expectedType = getType(type)\r\n  if (isSimpleType(expectedType)) {\r\n    const t = typeof value\r\n    valid = t === expectedType.toLowerCase()\r\n    // for primitive wrapper objects\r\n    if (!valid && t === 'object') {\r\n      valid = value instanceof type\r\n    }\r\n  } else if (expectedType === 'Object') {\r\n    valid = toRawType(value) === 'Object'\r\n  } else if (expectedType === 'Array') {\r\n    valid = isArray(value)\r\n  } else {\r\n    valid = value instanceof type\r\n  }\r\n  return {\r\n    valid,\r\n    expectedType\r\n  }\r\n}\r\n\r\nfunction getInvalidTypeMessage(\r\n  name: string,\r\n  value: unknown,\r\n  expectedTypes: string[]\r\n): string {\r\n  let message =\r\n    `Invalid prop: type check failed for prop \"${name}\".` +\r\n    ` Expected ${expectedTypes.map(capitalize).join(', ')}`\r\n  const expectedType = expectedTypes[0]\r\n  const receivedType = toRawType(value)\r\n  const expectedValue = styleValue(value, expectedType)\r\n  const receivedValue = styleValue(value, receivedType)\r\n  // check if we need to specify expected value\r\n  if (\r\n    expectedTypes.length === 1 &&\r\n    isExplicable(expectedType) &&\r\n    !isBoolean(expectedType, receivedType)\r\n  ) {\r\n    message += ` with value ${expectedValue}`\r\n  }\r\n  message += `, got ${receivedType} `\r\n  // check if we need to specify received value\r\n  if (isExplicable(receivedType)) {\r\n    message += `with value ${receivedValue}.`\r\n  }\r\n  return message\r\n}\r\n\r\nfunction styleValue(value: unknown, type: string): string {\r\n  if (type === 'String') {\r\n    return `\"${value}\"`\r\n  } else if (type === 'Number') {\r\n    return `${Number(value)}`\r\n  } else {\r\n    return `${value}`\r\n  }\r\n}\r\n\r\nfunction isExplicable(type: string): boolean {\r\n  const explicitTypes = ['string', 'number', 'boolean']\r\n  return explicitTypes.some(elem => type.toLowerCase() === elem)\r\n}\r\n\r\nfunction isBoolean(...args: string[]): boolean {\r\n  return args.some(elem => elem.toLowerCase() === 'boolean')\r\n}\r\n","import { ComponentInternalInstance, currentInstance } from './component'\r\nimport { VNode, NormalizedChildren, normalizeVNode, VNodeChild } from './vnode'\r\nimport { isArray, isFunction, EMPTY_OBJ } from '@vue/shared'\r\nimport { ShapeFlags } from './shapeFlags'\r\nimport { warn } from './warning'\r\nimport { isKeepAlive } from './components/KeepAlive'\r\n\r\nexport type Slot = (...args: any[]) => VNode[]\r\n\r\nexport type InternalSlots = {\r\n  [name: string]: Slot\r\n}\r\n\r\nexport type Slots = Readonly<InternalSlots>\r\n\r\nexport type RawSlots = {\r\n  [name: string]: unknown\r\n  // manual render fn hint to skip forced children updates\r\n  $stable?: boolean\r\n  // internal, indicates compiler generated slots = can skip normalization\r\n  _compiled?: boolean\r\n}\r\n\r\nconst normalizeSlotValue = (value: unknown): VNode[] =>\r\n  isArray(value)\r\n    ? value.map(normalizeVNode)\r\n    : [normalizeVNode(value as VNodeChild)]\r\n\r\nconst normalizeSlot = (key: string, rawSlot: Function): Slot => (\r\n  props: any\r\n) => {\r\n  if (__DEV__ && currentInstance != null) {\r\n    warn(\r\n      `Slot \"${key}\" invoked outside of the render function: ` +\r\n        `this will not track dependencies used in the slot. ` +\r\n        `Invoke the slot function inside the render function instead.`\r\n    )\r\n  }\r\n  return normalizeSlotValue(rawSlot(props))\r\n}\r\n\r\nexport function resolveSlots(\r\n  instance: ComponentInternalInstance,\r\n  children: NormalizedChildren\r\n) {\r\n  let slots: InternalSlots | void\r\n  if (instance.vnode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\r\n    const rawSlots = children as RawSlots\r\n    if (rawSlots._compiled) {\r\n      // pre-normalized slots object generated by compiler\r\n      slots = children as Slots\r\n    } else {\r\n      slots = {}\r\n      for (const key in rawSlots) {\r\n        if (key === '$stable') continue\r\n        const value = rawSlots[key]\r\n        if (isFunction(value)) {\r\n          slots[key] = normalizeSlot(key, value)\r\n        } else if (value != null) {\r\n          if (__DEV__) {\r\n            warn(\r\n              `Non-function value encountered for slot \"${key}\". ` +\r\n                `Prefer function slots for better performance.`\r\n            )\r\n          }\r\n          const normalized = normalizeSlotValue(value)\r\n          slots[key] = () => normalized\r\n        }\r\n      }\r\n    }\r\n  } else if (children !== null) {\r\n    // non slot object children (direct value) passed to a component\r\n    if (__DEV__ && !isKeepAlive(instance.vnode)) {\r\n      warn(\r\n        `Non-function value encountered for default slot. ` +\r\n          `Prefer function slots for better performance.`\r\n      )\r\n    }\r\n    const normalized = normalizeSlotValue(children)\r\n    slots = { default: () => normalized }\r\n  }\r\n  instance.slots = slots || EMPTY_OBJ\r\n}\r\n","/**\r\nRuntime helper for applying directives to a vnode. Example usage:\r\n\r\nconst comp = resolveComponent('comp')\r\nconst foo = resolveDirective('foo')\r\nconst bar = resolveDirective('bar')\r\n\r\nreturn withDirectives(h(comp), [\r\n  [foo, this.x],\r\n  [bar, this.y]\r\n])\r\n*/\r\n\r\nimport { VNode } from './vnode'\r\nimport { isFunction, EMPTY_OBJ, makeMap, EMPTY_ARR } from '@vue/shared'\r\nimport { warn } from './warning'\r\nimport { ComponentInternalInstance } from './component'\r\nimport { currentRenderingInstance } from './componentRenderUtils'\r\nimport { callWithAsyncErrorHandling, ErrorCodes } from './errorHandling'\r\nimport { ComponentPublicInstance } from './componentProxy'\r\n\r\nexport interface DirectiveBinding {\r\n  instance: ComponentPublicInstance | null\r\n  value: any\r\n  oldValue: any\r\n  arg?: string\r\n  modifiers: DirectiveModifiers\r\n  dir: ObjectDirective\r\n}\r\n\r\nexport type DirectiveHook<T = any> = (\r\n  el: T,\r\n  binding: DirectiveBinding,\r\n  vnode: VNode<any, T>,\r\n  prevVNode: VNode<any, T> | null\r\n) => void\r\n\r\nexport interface ObjectDirective<T = any> {\r\n  beforeMount?: DirectiveHook<T>\r\n  mounted?: DirectiveHook<T>\r\n  beforeUpdate?: DirectiveHook<T>\r\n  updated?: DirectiveHook<T>\r\n  beforeUnmount?: DirectiveHook<T>\r\n  unmounted?: DirectiveHook<T>\r\n}\r\n\r\nexport type FunctionDirective<T = any> = DirectiveHook<T>\r\n\r\nexport type Directive<T = any> = ObjectDirective<T> | FunctionDirective<T>\r\n\r\nexport type DirectiveModifiers = Record<string, boolean>\r\n\r\nexport type VNodeDirectiveData = [\r\n  unknown,\r\n  string | undefined,\r\n  DirectiveModifiers\r\n]\r\n\r\nconst isBuiltInDirective = /*#__PURE__*/ makeMap(\r\n  'bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text'\r\n)\r\n\r\nexport function validateDirectiveName(name: string) {\r\n  if (isBuiltInDirective(name)) {\r\n    warn('Do not use built-in directive ids as custom directive id: ' + name)\r\n  }\r\n}\r\n\r\nconst directiveToVnodeHooksMap = /*#__PURE__*/ [\r\n  'beforeMount',\r\n  'mounted',\r\n  'beforeUpdate',\r\n  'updated',\r\n  'beforeUnmount',\r\n  'unmounted'\r\n].reduce(\r\n  (map, key: keyof ObjectDirective) => {\r\n    const vnodeKey = `onVnode` + key[0].toUpperCase() + key.slice(1)\r\n    const vnodeHook = (vnode: VNode, prevVnode: VNode | null) => {\r\n      const bindings = vnode.dirs!\r\n      const prevBindings = prevVnode ? prevVnode.dirs! : EMPTY_ARR\r\n      for (let i = 0; i < bindings.length; i++) {\r\n        const binding = bindings[i]\r\n        const hook = binding.dir[key]\r\n        if (hook != null) {\r\n          if (prevVnode != null) {\r\n            binding.oldValue = prevBindings[i].value\r\n          }\r\n          hook(vnode.el, binding, vnode, prevVnode)\r\n        }\r\n      }\r\n    }\r\n    map[key] = [vnodeKey, vnodeHook]\r\n    return map\r\n  },\r\n  {} as Record<string, [string, Function]>\r\n)\r\n\r\n// Directive, value, argument, modifiers\r\nexport type DirectiveArguments = Array<\r\n  | [Directive]\r\n  | [Directive, any]\r\n  | [Directive, any, string]\r\n  | [Directive, any, string, DirectiveModifiers]\r\n>\r\n\r\nexport function withDirectives<T extends VNode>(\r\n  vnode: T,\r\n  directives: DirectiveArguments\r\n): T {\r\n  const internalInstance = currentRenderingInstance\r\n  if (internalInstance === null) {\r\n    __DEV__ && warn(`withDirectives can only be used inside render functions.`)\r\n    return vnode\r\n  }\r\n  const instance = internalInstance.renderProxy\r\n  const props = vnode.props || (vnode.props = {})\r\n  const bindings = vnode.dirs || (vnode.dirs = new Array(directives.length))\r\n  const injected: Record<string, true> = {}\r\n  for (let i = 0; i < directives.length; i++) {\r\n    let [dir, value, arg, modifiers = EMPTY_OBJ] = directives[i]\r\n    if (isFunction(dir)) {\r\n      dir = {\r\n        mounted: dir,\r\n        updated: dir\r\n      } as ObjectDirective\r\n    }\r\n    bindings[i] = {\r\n      dir,\r\n      instance,\r\n      value,\r\n      oldValue: void 0,\r\n      arg,\r\n      modifiers\r\n    }\r\n    // inject onVnodeXXX hooks\r\n    for (const key in dir) {\r\n      if (!injected[key]) {\r\n        const { 0: hookName, 1: hook } = directiveToVnodeHooksMap[key]\r\n        const existing = props[hookName]\r\n        props[hookName] = existing ? [].concat(existing, hook as any) : hook\r\n        injected[key] = true\r\n      }\r\n    }\r\n  }\r\n  return vnode\r\n}\r\n\r\nexport function invokeDirectiveHook(\r\n  hook: ((...args: any[]) => any) | ((...args: any[]) => any)[],\r\n  instance: ComponentInternalInstance | null,\r\n  vnode: VNode,\r\n  prevVNode: VNode | null = null\r\n) {\r\n  callWithAsyncErrorHandling(hook, instance, ErrorCodes.DIRECTIVE_HOOK, [\r\n    vnode,\r\n    prevVNode\r\n  ])\r\n}\r\n","import { Component, Data, validateComponentName } from './component'\r\nimport { ComponentOptions } from './apiOptions'\r\nimport { ComponentPublicInstance } from './componentProxy'\r\nimport { Directive, validateDirectiveName } from './directives'\r\nimport { RootRenderFunction } from './renderer'\r\nimport { InjectionKey } from './apiInject'\r\nimport { isFunction, NO } from '@vue/shared'\r\nimport { warn } from './warning'\r\nimport { createVNode } from './vnode'\r\n\r\nexport interface App<HostElement = any> {\r\n  config: AppConfig\r\n  use(plugin: Plugin, options?: any): this\r\n  mixin(mixin: ComponentOptions): this\r\n  component(name: string): Component | undefined\r\n  component(name: string, component: Component): this\r\n  directive(name: string): Directive | undefined\r\n  directive(name: string, directive: Directive): this\r\n  mount(\r\n    rootComponent: Component,\r\n    rootContainer: HostElement | string,\r\n    rootProps?: Data\r\n  ): ComponentPublicInstance\r\n  provide<T>(key: InjectionKey<T> | string, value: T): this\r\n}\r\n\r\nexport interface AppConfig {\r\n  devtools: boolean\r\n  performance: boolean\r\n  readonly isNativeTag?: (tag: string) => boolean\r\n  isCustomElement?: (tag: string) => boolean\r\n  errorHandler?: (\r\n    err: Error,\r\n    instance: ComponentPublicInstance | null,\r\n    info: string\r\n  ) => void\r\n  warnHandler?: (\r\n    msg: string,\r\n    instance: ComponentPublicInstance | null,\r\n    trace: string\r\n  ) => void\r\n}\r\n\r\nexport interface AppContext {\r\n  config: AppConfig\r\n  mixins: ComponentOptions[]\r\n  components: Record<string, Component>\r\n  directives: Record<string, Directive>\r\n  provides: Record<string | symbol, any>\r\n}\r\n\r\ntype PluginInstallFunction = (app: App) => any\r\n\r\nexport type Plugin =\r\n  | PluginInstallFunction\r\n  | {\r\n      install: PluginInstallFunction\r\n    }\r\n\r\nexport function createAppContext(): AppContext {\r\n  return {\r\n    config: {\r\n      devtools: true,\r\n      performance: false,\r\n      isNativeTag: NO,\r\n      isCustomElement: NO,\r\n      errorHandler: undefined,\r\n      warnHandler: undefined\r\n    },\r\n    mixins: [],\r\n    components: {},\r\n    directives: {},\r\n    provides: {}\r\n  }\r\n}\r\n\r\nexport function createAppAPI<HostNode, HostElement>(\r\n  render: RootRenderFunction<HostNode, HostElement>\r\n): () => App<HostElement> {\r\n  return function createApp(): App {\r\n    const context = createAppContext()\r\n    const installedPlugins = new Set()\r\n\r\n    let isMounted = false\r\n\r\n    const app: App = {\r\n      get config() {\r\n        return context.config\r\n      },\r\n\r\n      set config(v) {\r\n        if (__DEV__) {\r\n          warn(\r\n            `app.config cannot be replaced. Modify individual options instead.`\r\n          )\r\n        }\r\n      },\r\n\r\n      use(plugin: Plugin) {\r\n        if (installedPlugins.has(plugin)) {\r\n          __DEV__ && warn(`Plugin has already been applied to target app.`)\r\n        } else if (isFunction(plugin)) {\r\n          installedPlugins.add(plugin)\r\n          plugin(app)\r\n        } else if (plugin && isFunction(plugin.install)) {\r\n          installedPlugins.add(plugin)\r\n          plugin.install(app)\r\n        } else if (__DEV__) {\r\n          warn(\r\n            `A plugin must either be a function or an object with an \"install\" ` +\r\n              `function.`\r\n          )\r\n        }\r\n        return app\r\n      },\r\n\r\n      mixin(mixin: ComponentOptions) {\r\n        if (__DEV__ && !__FEATURE_OPTIONS__) {\r\n          warn('Mixins are only available in builds supporting Options API')\r\n        }\r\n\r\n        if (!context.mixins.includes(mixin)) {\r\n          context.mixins.push(mixin)\r\n        } else if (__DEV__) {\r\n          warn(\r\n            'Mixin has already been applied to target app' +\r\n              (mixin.name ? `: ${mixin.name}` : '')\r\n          )\r\n        }\r\n\r\n        return app\r\n      },\r\n\r\n      component(name: string, component?: Component): any {\r\n        if (__DEV__) {\r\n          validateComponentName(name, context.config)\r\n        }\r\n        if (!component) {\r\n          return context.components[name]\r\n        }\r\n        if (__DEV__ && context.components[name]) {\r\n          warn(`Component \"${name}\" has already been registered in target app.`)\r\n        }\r\n        context.components[name] = component\r\n        return app\r\n      },\r\n\r\n      directive(name: string, directive?: Directive) {\r\n        if (__DEV__) {\r\n          validateDirectiveName(name)\r\n        }\r\n\r\n        if (!directive) {\r\n          return context.directives[name] as any\r\n        }\r\n        if (__DEV__ && context.directives[name]) {\r\n          warn(`Directive \"${name}\" has already been registered in target app.`)\r\n        }\r\n        context.directives[name] = directive\r\n        return app\r\n      },\r\n\r\n      mount(\r\n        rootComponent: Component,\r\n        rootContainer: HostElement,\r\n        rootProps?: Data\r\n      ): any {\r\n        if (!isMounted) {\r\n          const vnode = createVNode(rootComponent, rootProps)\r\n          // store app context on the root VNode.\r\n          // this will be set on the root instance on initial mount.\r\n          vnode.appContext = context\r\n          render(vnode, rootContainer)\r\n          isMounted = true\r\n          return vnode.component!.renderProxy\r\n        } else if (__DEV__) {\r\n          warn(\r\n            `App has already been mounted. Create a new app instance instead.`\r\n          )\r\n        }\r\n      },\r\n\r\n      provide(key, value) {\r\n        if (__DEV__ && key in context.provides) {\r\n          warn(\r\n            `App already provides property with key \"${key}\". ` +\r\n              `It will be overwritten with the new value.`\r\n          )\r\n        }\r\n        // TypeScript doesn't allow symbols as index type\r\n        // https://github.com/Microsoft/TypeScript/issues/24587\r\n        context.provides[key as string] = value\r\n\r\n        return app\r\n      }\r\n    }\r\n\r\n    return app\r\n  }\r\n}\r\n","import { VNode, normalizeVNode, VNodeChild } from '../vnode'\r\nimport { ShapeFlags } from '../shapeFlags'\r\nimport { isFunction, isArray } from '@vue/shared'\r\nimport { ComponentInternalInstance, handleSetupResult } from '../component'\r\nimport { Slots } from '../componentSlots'\r\nimport { RendererInternals, MoveType } from '../renderer'\r\nimport { queuePostFlushCb, queueJob } from '../scheduler'\r\nimport { updateHOCHostEl } from '../componentRenderUtils'\r\nimport { handleError, ErrorCodes } from '../errorHandling'\r\nimport { pushWarningContext, popWarningContext } from '../warning'\r\n\r\nexport interface SuspenseProps {\r\n  onResolve?: () => void\r\n  onRecede?: () => void\r\n}\r\n\r\n// Suspense exposes a component-like API, and is treated like a component\r\n// in the compiler, but internally it's a special built-in type that hooks\r\n// directly into the renderer.\r\nexport const SuspenseImpl = {\r\n  // In order to make Suspense tree-shakable, we need to avoid importing it\r\n  // directly in the renderer. The renderer checks for the __isSuspense flag\r\n  // on a vnode's type and calls the `process` method, passing in renderer\r\n  // internals.\r\n  __isSuspense: true,\r\n  process(\r\n    n1: VNode | null,\r\n    n2: VNode,\r\n    container: object,\r\n    anchor: object | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: SuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean,\r\n    // platform-specific impl passed from renderer\r\n    rendererInternals: RendererInternals\r\n  ) {\r\n    if (n1 == null) {\r\n      mountSuspense(\r\n        n2,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized,\r\n        rendererInternals\r\n      )\r\n    } else {\r\n      patchSuspense(\r\n        n1,\r\n        n2,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        isSVG,\r\n        optimized,\r\n        rendererInternals\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\n// Force-casted public typing for h and TSX props inference\r\nexport const Suspense = ((__FEATURE_SUSPENSE__\r\n  ? SuspenseImpl\r\n  : null) as any) as {\r\n  __isSuspense: true\r\n  new (): { $props: SuspenseProps }\r\n}\r\n\r\nfunction mountSuspense(\r\n  n2: VNode,\r\n  container: object,\r\n  anchor: object | null,\r\n  parentComponent: ComponentInternalInstance | null,\r\n  parentSuspense: SuspenseBoundary | null,\r\n  isSVG: boolean,\r\n  optimized: boolean,\r\n  rendererInternals: RendererInternals\r\n) {\r\n  const {\r\n    patch,\r\n    options: { createElement }\r\n  } = rendererInternals\r\n  const hiddenContainer = createElement('div')\r\n  const suspense = (n2.suspense = createSuspenseBoundary(\r\n    n2,\r\n    parentSuspense,\r\n    parentComponent,\r\n    container,\r\n    hiddenContainer,\r\n    anchor,\r\n    isSVG,\r\n    optimized,\r\n    rendererInternals\r\n  ))\r\n\r\n  const { content, fallback } = normalizeSuspenseChildren(n2)\r\n  suspense.subTree = content\r\n  suspense.fallbackTree = fallback\r\n\r\n  // start mounting the content subtree in an off-dom container\r\n  patch(\r\n    null,\r\n    content,\r\n    hiddenContainer,\r\n    null,\r\n    parentComponent,\r\n    suspense,\r\n    isSVG,\r\n    optimized\r\n  )\r\n  // now check if we have encountered any async deps\r\n  if (suspense.deps > 0) {\r\n    // mount the fallback tree\r\n    patch(\r\n      null,\r\n      fallback,\r\n      container,\r\n      anchor,\r\n      parentComponent,\r\n      null, // fallback tree will not have suspense context\r\n      isSVG,\r\n      optimized\r\n    )\r\n    n2.el = fallback.el\r\n  } else {\r\n    // Suspense has no async deps. Just resolve.\r\n    suspense.resolve()\r\n  }\r\n}\r\n\r\nfunction patchSuspense(\r\n  n1: VNode,\r\n  n2: VNode,\r\n  container: object,\r\n  anchor: object | null,\r\n  parentComponent: ComponentInternalInstance | null,\r\n  isSVG: boolean,\r\n  optimized: boolean,\r\n  { patch }: RendererInternals\r\n) {\r\n  const suspense = (n2.suspense = n1.suspense)!\r\n  suspense.vnode = n2\r\n  const { content, fallback } = normalizeSuspenseChildren(n2)\r\n  const oldSubTree = suspense.subTree\r\n  const oldFallbackTree = suspense.fallbackTree\r\n  if (!suspense.isResolved) {\r\n    patch(\r\n      oldSubTree,\r\n      content,\r\n      suspense.hiddenContainer,\r\n      null,\r\n      parentComponent,\r\n      suspense,\r\n      isSVG,\r\n      optimized\r\n    )\r\n    if (suspense.deps > 0) {\r\n      // still pending. patch the fallback tree.\r\n      patch(\r\n        oldFallbackTree,\r\n        fallback,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        null, // fallback tree will not have suspense context\r\n        isSVG,\r\n        optimized\r\n      )\r\n      n2.el = fallback.el\r\n    }\r\n    // If deps somehow becomes 0 after the patch it means the patch caused an\r\n    // async dep component to unmount and removed its dep. It will cause the\r\n    // suspense to resolve and we don't need to do anything here.\r\n  } else {\r\n    // just normal patch inner content as a fragment\r\n    patch(\r\n      oldSubTree,\r\n      content,\r\n      container,\r\n      anchor,\r\n      parentComponent,\r\n      suspense,\r\n      isSVG,\r\n      optimized\r\n    )\r\n    n2.el = content.el\r\n  }\r\n  suspense.subTree = content\r\n  suspense.fallbackTree = fallback\r\n}\r\n\r\nexport interface SuspenseBoundary<\r\n  HostNode = any,\r\n  HostElement = any,\r\n  HostVNode = VNode<HostNode, HostElement>\r\n> {\r\n  vnode: HostVNode\r\n  parent: SuspenseBoundary<HostNode, HostElement> | null\r\n  parentComponent: ComponentInternalInstance | null\r\n  isSVG: boolean\r\n  optimized: boolean\r\n  container: HostElement\r\n  hiddenContainer: HostElement\r\n  anchor: HostNode | null\r\n  subTree: HostVNode\r\n  fallbackTree: HostVNode\r\n  deps: number\r\n  isResolved: boolean\r\n  isUnmounted: boolean\r\n  effects: Function[]\r\n  resolve(): void\r\n  recede(): void\r\n  move(container: HostElement, anchor: HostNode | null, type: MoveType): void\r\n  next(): HostNode | null\r\n  registerDep(\r\n    instance: ComponentInternalInstance,\r\n    setupRenderEffect: (\r\n      instance: ComponentInternalInstance,\r\n      parentSuspense: SuspenseBoundary<HostNode, HostElement> | null,\r\n      initialVNode: VNode<HostNode, HostElement>,\r\n      container: HostElement,\r\n      anchor: HostNode | null,\r\n      isSVG: boolean\r\n    ) => void\r\n  ): void\r\n  unmount(\r\n    parentSuspense: SuspenseBoundary<HostNode, HostElement> | null,\r\n    doRemove?: boolean\r\n  ): void\r\n}\r\n\r\nfunction createSuspenseBoundary<HostNode, HostElement>(\r\n  vnode: VNode<HostNode, HostElement>,\r\n  parent: SuspenseBoundary<HostNode, HostElement> | null,\r\n  parentComponent: ComponentInternalInstance | null,\r\n  container: HostElement,\r\n  hiddenContainer: HostElement,\r\n  anchor: HostNode | null,\r\n  isSVG: boolean,\r\n  optimized: boolean,\r\n  rendererInternals: RendererInternals<HostNode, HostElement>\r\n): SuspenseBoundary<HostNode, HostElement> {\r\n  const {\r\n    patch,\r\n    move,\r\n    unmount,\r\n    next,\r\n    options: { parentNode }\r\n  } = rendererInternals\r\n\r\n  const suspense: SuspenseBoundary<HostNode, HostElement> = {\r\n    vnode,\r\n    parent,\r\n    parentComponent,\r\n    isSVG,\r\n    optimized,\r\n    container,\r\n    hiddenContainer,\r\n    anchor,\r\n    deps: 0,\r\n    subTree: null as any, // will be set immediately after creation\r\n    fallbackTree: null as any, // will be set immediately after creation\r\n    isResolved: false,\r\n    isUnmounted: false,\r\n    effects: [],\r\n\r\n    resolve() {\r\n      if (__DEV__) {\r\n        if (suspense.isResolved) {\r\n          throw new Error(\r\n            `resolveSuspense() is called on an already resolved suspense boundary.`\r\n          )\r\n        }\r\n        if (suspense.isUnmounted) {\r\n          throw new Error(\r\n            `resolveSuspense() is called on an already unmounted suspense boundary.`\r\n          )\r\n        }\r\n      }\r\n      const {\r\n        vnode,\r\n        subTree,\r\n        fallbackTree,\r\n        effects,\r\n        parentComponent,\r\n        container\r\n      } = suspense\r\n\r\n      // this is initial anchor on mount\r\n      let { anchor } = suspense\r\n      // unmount fallback tree\r\n      if (fallbackTree.el) {\r\n        // if the fallback tree was mounted, it may have been moved\r\n        // as part of a parent suspense. get the latest anchor for insertion\r\n        anchor = next(fallbackTree)\r\n        unmount(fallbackTree as VNode, parentComponent, suspense, true)\r\n      }\r\n      // move content from off-dom container to actual container\r\n      move(subTree as VNode, container, anchor, MoveType.ENTER)\r\n      const el = (vnode.el = (subTree as VNode).el!)\r\n      // suspense as the root node of a component...\r\n      if (parentComponent && parentComponent.subTree === vnode) {\r\n        parentComponent.vnode.el = el\r\n        updateHOCHostEl(parentComponent, el)\r\n      }\r\n      // check if there is a pending parent suspense\r\n      let parent = suspense.parent\r\n      let hasUnresolvedAncestor = false\r\n      while (parent) {\r\n        if (!parent.isResolved) {\r\n          // found a pending parent suspense, merge buffered post jobs\r\n          // into that parent\r\n          parent.effects.push(...effects)\r\n          hasUnresolvedAncestor = true\r\n          break\r\n        }\r\n        parent = parent.parent\r\n      }\r\n      // no pending parent suspense, flush all jobs\r\n      if (!hasUnresolvedAncestor) {\r\n        queuePostFlushCb(effects)\r\n      }\r\n      suspense.isResolved = true\r\n      // invoke @resolve event\r\n      const onResolve = vnode.props && vnode.props.onResolve\r\n      if (isFunction(onResolve)) {\r\n        onResolve()\r\n      }\r\n    },\r\n\r\n    recede() {\r\n      suspense.isResolved = false\r\n      const {\r\n        vnode,\r\n        subTree,\r\n        fallbackTree,\r\n        parentComponent,\r\n        container,\r\n        hiddenContainer,\r\n        isSVG,\r\n        optimized\r\n      } = suspense\r\n\r\n      // move content tree back to the off-dom container\r\n      const anchor = next(subTree)\r\n      move(subTree as VNode, hiddenContainer, null, MoveType.LEAVE)\r\n      // remount the fallback tree\r\n      patch(\r\n        null,\r\n        fallbackTree,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        null, // fallback tree will not have suspense context\r\n        isSVG,\r\n        optimized\r\n      )\r\n      const el = (vnode.el = (fallbackTree as VNode).el!)\r\n      // suspense as the root node of a component...\r\n      if (parentComponent && parentComponent.subTree === vnode) {\r\n        parentComponent.vnode.el = el\r\n        updateHOCHostEl(parentComponent, el)\r\n      }\r\n\r\n      // invoke @recede event\r\n      const onRecede = vnode.props && vnode.props.onRecede\r\n      if (isFunction(onRecede)) {\r\n        onRecede()\r\n      }\r\n    },\r\n\r\n    move(container, anchor, type) {\r\n      move(\r\n        suspense.isResolved ? suspense.subTree : suspense.fallbackTree,\r\n        container,\r\n        anchor,\r\n        type\r\n      )\r\n      suspense.container = container\r\n    },\r\n\r\n    next() {\r\n      return next(\r\n        suspense.isResolved ? suspense.subTree : suspense.fallbackTree\r\n      )\r\n    },\r\n\r\n    registerDep(instance, setupRenderEffect) {\r\n      // suspense is already resolved, need to recede.\r\n      // use queueJob so it's handled synchronously after patching the current\r\n      // suspense tree\r\n      if (suspense.isResolved) {\r\n        queueJob(() => {\r\n          suspense.recede()\r\n        })\r\n      }\r\n\r\n      suspense.deps++\r\n      instance\r\n        .asyncDep!.catch(err => {\r\n          handleError(err, instance, ErrorCodes.SETUP_FUNCTION)\r\n        })\r\n        .then(asyncSetupResult => {\r\n          // retry when the setup() promise resolves.\r\n          // component may have been unmounted before resolve.\r\n          if (instance.isUnmounted || suspense.isUnmounted) {\r\n            return\r\n          }\r\n          suspense.deps--\r\n          // retry from this component\r\n          instance.asyncResolved = true\r\n          const { vnode } = instance\r\n          if (__DEV__) {\r\n            pushWarningContext(vnode)\r\n          }\r\n          handleSetupResult(instance, asyncSetupResult, suspense)\r\n          setupRenderEffect(\r\n            instance,\r\n            suspense,\r\n            vnode,\r\n            // component may have been moved before resolve\r\n            parentNode(instance.subTree.el)!,\r\n            next(instance.subTree),\r\n            isSVG\r\n          )\r\n          updateHOCHostEl(instance, vnode.el)\r\n          if (__DEV__) {\r\n            popWarningContext()\r\n          }\r\n          if (suspense.deps === 0) {\r\n            suspense.resolve()\r\n          }\r\n        })\r\n    },\r\n\r\n    unmount(parentSuspense, doRemove) {\r\n      suspense.isUnmounted = true\r\n      unmount(suspense.subTree, parentComponent, parentSuspense, doRemove)\r\n      if (!suspense.isResolved) {\r\n        unmount(\r\n          suspense.fallbackTree,\r\n          parentComponent,\r\n          parentSuspense,\r\n          doRemove\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  return suspense\r\n}\r\n\r\nfunction normalizeSuspenseChildren(\r\n  vnode: VNode\r\n): {\r\n  content: VNode\r\n  fallback: VNode\r\n} {\r\n  const { shapeFlag, children } = vnode\r\n  if (shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\r\n    const { default: d, fallback } = children as Slots\r\n    return {\r\n      content: normalizeVNode(isFunction(d) ? d() : d),\r\n      fallback: normalizeVNode(isFunction(fallback) ? fallback() : fallback)\r\n    }\r\n  } else {\r\n    return {\r\n      content: normalizeVNode(children as VNodeChild),\r\n      fallback: normalizeVNode(null)\r\n    }\r\n  }\r\n}\r\n\r\nexport function queueEffectWithSuspense(\r\n  fn: Function | Function[],\r\n  suspense: SuspenseBoundary | null\r\n): void {\r\n  if (suspense !== null && !suspense.isResolved) {\r\n    if (isArray(fn)) {\r\n      suspense.effects.push(...fn)\r\n    } else {\r\n      suspense.effects.push(fn)\r\n    }\r\n  } else {\r\n    queuePostFlushCb(fn)\r\n  }\r\n}\r\n","import {\r\n  Text,\r\n  Fragment,\r\n  Comment,\r\n  Portal,\r\n  normalizeVNode,\r\n  VNode,\r\n  VNodeChildren,\r\n  createVNode,\r\n  isSameVNodeType\r\n} from './vnode'\r\nimport {\r\n  ComponentInternalInstance,\r\n  createComponentInstance,\r\n  setupStatefulComponent,\r\n  Component,\r\n  Data\r\n} from './component'\r\nimport {\r\n  renderComponentRoot,\r\n  shouldUpdateComponent,\r\n  updateHOCHostEl\r\n} from './componentRenderUtils'\r\nimport {\r\n  isString,\r\n  EMPTY_OBJ,\r\n  EMPTY_ARR,\r\n  isReservedProp,\r\n  isFunction,\r\n  PatchFlags\r\n} from '@vue/shared'\r\nimport { queueJob, queuePostFlushCb, flushPostFlushCbs } from './scheduler'\r\nimport {\r\n  effect,\r\n  stop,\r\n  ReactiveEffectOptions,\r\n  isRef,\r\n  Ref,\r\n  toRaw,\r\n  DebuggerEvent\r\n} from '@vue/reactivity'\r\nimport { resolveProps } from './componentProps'\r\nimport { resolveSlots } from './componentSlots'\r\nimport { ShapeFlags } from './shapeFlags'\r\nimport { pushWarningContext, popWarningContext, warn } from './warning'\r\nimport { invokeDirectiveHook } from './directives'\r\nimport { ComponentPublicInstance } from './componentProxy'\r\nimport { App, createAppAPI } from './apiApp'\r\nimport {\r\n  SuspenseBoundary,\r\n  queueEffectWithSuspense,\r\n  SuspenseImpl\r\n} from './components/Suspense'\r\nimport { ErrorCodes, callWithErrorHandling } from './errorHandling'\r\nimport { KeepAliveSink, isKeepAlive } from './components/KeepAlive'\r\n\r\nexport interface RendererOptions<HostNode = any, HostElement = any> {\r\n  patchProp(\r\n    el: HostElement,\r\n    key: string,\r\n    value: any,\r\n    oldValue: any,\r\n    isSVG: boolean,\r\n    prevChildren?: VNode<HostNode, HostElement>[],\r\n    parentComponent?: ComponentInternalInstance | null,\r\n    parentSuspense?: SuspenseBoundary<HostNode, HostElement> | null,\r\n    unmountChildren?: (\r\n      children: VNode<HostNode, HostElement>[],\r\n      parentComponent: ComponentInternalInstance | null,\r\n      parentSuspense: SuspenseBoundary<HostNode, HostElement> | null\r\n    ) => void\r\n  ): void\r\n  insert(el: HostNode, parent: HostElement, anchor?: HostNode | null): void\r\n  remove(el: HostNode): void\r\n  createElement(type: string, isSVG?: boolean): HostElement\r\n  createText(text: string): HostNode\r\n  createComment(text: string): HostNode\r\n  setText(node: HostNode, text: string): void\r\n  setElementText(node: HostElement, text: string): void\r\n  parentNode(node: HostNode): HostElement | null\r\n  nextSibling(node: HostNode): HostNode | null\r\n  querySelector(selector: string): HostElement | null\r\n}\r\n\r\nexport type RootRenderFunction<HostNode, HostElement> = (\r\n  vnode: VNode<HostNode, HostElement> | null,\r\n  dom: HostElement\r\n) => void\r\n\r\n// An object exposing the internals of a renderer, passed to tree-shakeable\r\n// features so that they can be decoupled from this file.\r\nexport interface RendererInternals<HostNode = any, HostElement = any> {\r\n  patch: (\r\n    n1: VNode<HostNode, HostElement> | null, // null means this is a mount\r\n    n2: VNode<HostNode, HostElement>,\r\n    container: HostElement,\r\n    anchor?: HostNode | null,\r\n    parentComponent?: ComponentInternalInstance | null,\r\n    parentSuspense?: SuspenseBoundary<HostNode, HostElement> | null,\r\n    isSVG?: boolean,\r\n    optimized?: boolean\r\n  ) => void\r\n  unmount: (\r\n    vnode: VNode<HostNode, HostElement>,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: SuspenseBoundary<HostNode, HostElement> | null,\r\n    doRemove?: boolean\r\n  ) => void\r\n  move: (\r\n    vnode: VNode<HostNode, HostElement>,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    type: MoveType,\r\n    parentSuspense?: SuspenseBoundary<HostNode, HostElement> | null\r\n  ) => void\r\n  next: (vnode: VNode<HostNode, HostElement>) => HostNode | null\r\n  options: RendererOptions<HostNode, HostElement>\r\n}\r\n\r\nexport const enum MoveType {\r\n  ENTER,\r\n  LEAVE,\r\n  REORDER\r\n}\r\n\r\nconst prodEffectOptions = {\r\n  scheduler: queueJob\r\n}\r\n\r\nfunction createDevEffectOptions(\r\n  instance: ComponentInternalInstance\r\n): ReactiveEffectOptions {\r\n  return {\r\n    scheduler: queueJob,\r\n    onTrack: instance.rtc ? e => invokeHooks(instance.rtc!, e) : void 0,\r\n    onTrigger: instance.rtg ? e => invokeHooks(instance.rtg!, e) : void 0\r\n  }\r\n}\r\n\r\nexport function invokeHooks(hooks: Function[], arg?: DebuggerEvent) {\r\n  for (let i = 0; i < hooks.length; i++) {\r\n    hooks[i](arg)\r\n  }\r\n}\r\n\r\nexport const queuePostRenderEffect = __FEATURE_SUSPENSE__\r\n  ? queueEffectWithSuspense\r\n  : queuePostFlushCb\r\n\r\n/**\r\n * The createRenderer function accepts two generic arguments:\r\n * HostNode and HostElement, corresponding to Node and Element types in the\r\n * host environment. For example, for runtime-dom, HostNode would be the DOM\r\n * `Node` interface and HostElement would be the DOM `Element` interface.\r\n *\r\n * Custom renderers can pass in the platform specific types like this:\r\n *\r\n * ``` js\r\n * const { render, createApp } = createRenderer<Node, Element>({\r\n *   patchProp,\r\n *   ...nodeOps\r\n * })\r\n * ```\r\n */\r\nexport function createRenderer<\r\n  HostNode extends object = any,\r\n  HostElement extends HostNode = any\r\n>(\r\n  options: RendererOptions<HostNode, HostElement>\r\n): {\r\n  render: RootRenderFunction<HostNode, HostElement>\r\n  createApp: () => App<HostElement>\r\n} {\r\n  type HostVNode = VNode<HostNode, HostElement>\r\n  type HostVNodeChildren = VNodeChildren<HostNode, HostElement>\r\n  type HostSuspenseBoundary = SuspenseBoundary<HostNode, HostElement>\r\n\r\n  const {\r\n    insert: hostInsert,\r\n    remove: hostRemove,\r\n    patchProp: hostPatchProp,\r\n    createElement: hostCreateElement,\r\n    createText: hostCreateText,\r\n    createComment: hostCreateComment,\r\n    setText: hostSetText,\r\n    setElementText: hostSetElementText,\r\n    parentNode: hostParentNode,\r\n    nextSibling: hostNextSibling,\r\n    querySelector: hostQuerySelector\r\n  } = options\r\n\r\n  const internals: RendererInternals<HostNode, HostElement> = {\r\n    patch,\r\n    unmount,\r\n    move,\r\n    next: getNextHostNode,\r\n    options\r\n  }\r\n\r\n  function patch(\r\n    n1: HostVNode | null, // null means this is a mount\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null = null,\r\n    parentComponent: ComponentInternalInstance | null = null,\r\n    parentSuspense: HostSuspenseBoundary | null = null,\r\n    isSVG: boolean = false,\r\n    optimized: boolean = false\r\n  ) {\r\n    // patching & not same type, unmount old tree\r\n    if (n1 != null && !isSameVNodeType(n1, n2)) {\r\n      anchor = getNextHostNode(n1)\r\n      unmount(n1, parentComponent, parentSuspense, true)\r\n      n1 = null\r\n    }\r\n\r\n    const { type, shapeFlag } = n2\r\n    switch (type) {\r\n      case Text:\r\n        processText(n1, n2, container, anchor)\r\n        break\r\n      case Comment:\r\n        processCommentNode(n1, n2, container, anchor)\r\n        break\r\n      case Fragment:\r\n        processFragment(\r\n          n1,\r\n          n2,\r\n          container,\r\n          anchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG,\r\n          optimized\r\n        )\r\n        break\r\n      case Portal:\r\n        processPortal(\r\n          n1,\r\n          n2,\r\n          container,\r\n          anchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG,\r\n          optimized\r\n        )\r\n        break\r\n      default:\r\n        if (shapeFlag & ShapeFlags.ELEMENT) {\r\n          processElement(\r\n            n1,\r\n            n2,\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized\r\n          )\r\n        } else if (shapeFlag & ShapeFlags.COMPONENT) {\r\n          processComponent(\r\n            n1,\r\n            n2,\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized\r\n          )\r\n        } else if (__FEATURE_SUSPENSE__ && shapeFlag & ShapeFlags.SUSPENSE) {\r\n          ;(type as typeof SuspenseImpl).process(\r\n            n1,\r\n            n2,\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized,\r\n            internals\r\n          )\r\n        } else if (__DEV__) {\r\n          warn('Invalid HostVNode type:', n2.type, `(${typeof n2.type})`)\r\n        }\r\n    }\r\n  }\r\n\r\n  function processText(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null\r\n  ) {\r\n    if (n1 == null) {\r\n      hostInsert(\r\n        (n2.el = hostCreateText(n2.children as string)),\r\n        container,\r\n        anchor\r\n      )\r\n    } else {\r\n      const el = (n2.el = n1.el) as HostNode\r\n      if (n2.children !== n1.children) {\r\n        hostSetText(el, n2.children as string)\r\n      }\r\n    }\r\n  }\r\n\r\n  function processCommentNode(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null\r\n  ) {\r\n    if (n1 == null) {\r\n      hostInsert(\r\n        (n2.el = hostCreateComment((n2.children as string) || '')),\r\n        container,\r\n        anchor\r\n      )\r\n    } else {\r\n      // there's no support for dynamic comments\r\n      n2.el = n1.el\r\n    }\r\n  }\r\n\r\n  function processElement(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    if (n1 == null) {\r\n      mountElement(\r\n        n2,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized\r\n      )\r\n    } else {\r\n      patchElement(n1, n2, parentComponent, parentSuspense, isSVG, optimized)\r\n    }\r\n    if (n2.ref !== null && parentComponent !== null) {\r\n      setRef(n2.ref, n1 && n1.ref, parentComponent, n2.el)\r\n    }\r\n  }\r\n\r\n  function mountElement(\r\n    vnode: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    const tag = vnode.type as string\r\n    isSVG = isSVG || tag === 'svg'\r\n    const el = (vnode.el = hostCreateElement(tag, isSVG))\r\n    const { props, shapeFlag, transition } = vnode\r\n    if (props != null) {\r\n      for (const key in props) {\r\n        if (isReservedProp(key)) continue\r\n        hostPatchProp(el, key, props[key], null, isSVG)\r\n      }\r\n      if (props.onVnodeBeforeMount != null) {\r\n        invokeDirectiveHook(props.onVnodeBeforeMount, parentComponent, vnode)\r\n      }\r\n    }\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      hostSetElementText(el, vnode.children as string)\r\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n      mountChildren(\r\n        vnode.children as HostVNodeChildren,\r\n        el,\r\n        null,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized || vnode.dynamicChildren !== null\r\n      )\r\n    }\r\n    if (transition != null && !transition.persisted) {\r\n      transition.beforeEnter(el)\r\n    }\r\n    hostInsert(el, container, anchor)\r\n    const vnodeMountedHook = props && props.onVnodeMounted\r\n    if (\r\n      vnodeMountedHook != null ||\r\n      (transition != null && !transition.persisted)\r\n    ) {\r\n      queuePostRenderEffect(() => {\r\n        vnodeMountedHook &&\r\n          invokeDirectiveHook(vnodeMountedHook, parentComponent, vnode)\r\n        transition && !transition.persisted && transition.enter(el)\r\n      }, parentSuspense)\r\n    }\r\n  }\r\n\r\n  function mountChildren(\r\n    children: HostVNodeChildren,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean,\r\n    start: number = 0\r\n  ) {\r\n    for (let i = start; i < children.length; i++) {\r\n      const child = optimized\r\n        ? (children[i] as HostVNode)\r\n        : (children[i] = normalizeVNode(children[i]))\r\n      patch(\r\n        null,\r\n        child,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized\r\n      )\r\n    }\r\n  }\r\n\r\n  function patchElement(\r\n    n1: HostVNode,\r\n    n2: HostVNode,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    const el = (n2.el = n1.el) as HostElement\r\n    const { patchFlag, dynamicChildren } = n2\r\n    const oldProps = (n1 && n1.props) || EMPTY_OBJ\r\n    const newProps = n2.props || EMPTY_OBJ\r\n\r\n    if (newProps.onVnodeBeforeUpdate != null) {\r\n      invokeDirectiveHook(newProps.onVnodeBeforeUpdate, parentComponent, n2, n1)\r\n    }\r\n\r\n    if (patchFlag > 0) {\r\n      // the presence of a patchFlag means this element's render code was\r\n      // generated by the compiler and can take the fast path.\r\n      // in this path old node and new node are guaranteed to have the same shape\r\n      // (i.e. at the exact same position in the source template)\r\n\r\n      if (patchFlag & PatchFlags.FULL_PROPS) {\r\n        // element props contain dynamic keys, full diff needed\r\n        patchProps(\r\n          el,\r\n          n2,\r\n          oldProps,\r\n          newProps,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG\r\n        )\r\n      } else {\r\n        // class\r\n        // this flag is matched when the element has dynamic class bindings.\r\n        if (patchFlag & PatchFlags.CLASS) {\r\n          if (oldProps.class !== newProps.class) {\r\n            hostPatchProp(el, 'class', newProps.class, null, isSVG)\r\n          }\r\n        }\r\n\r\n        // style\r\n        // this flag is matched when the element has dynamic style bindings\r\n        if (patchFlag & PatchFlags.STYLE) {\r\n          hostPatchProp(el, 'style', newProps.style, oldProps.style, isSVG)\r\n        }\r\n\r\n        // props\r\n        // This flag is matched when the element has dynamic prop/attr bindings\r\n        // other than class and style. The keys of dynamic prop/attrs are saved for\r\n        // faster iteration.\r\n        // Note dynamic keys like :[foo]=\"bar\" will cause this optimization to\r\n        // bail out and go through a full diff because we need to unset the old key\r\n        if (patchFlag & PatchFlags.PROPS) {\r\n          // if the flag is present then dynamicProps must be non-null\r\n          const propsToUpdate = n2.dynamicProps!\r\n          for (let i = 0; i < propsToUpdate.length; i++) {\r\n            const key = propsToUpdate[i]\r\n            const prev = oldProps[key]\r\n            const next = newProps[key]\r\n            if (prev !== next) {\r\n              hostPatchProp(\r\n                el,\r\n                key,\r\n                next,\r\n                prev,\r\n                isSVG,\r\n                n1.children as HostVNode[],\r\n                parentComponent,\r\n                parentSuspense,\r\n                unmountChildren\r\n              )\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // text\r\n      // This flag is matched when the element has only dynamic text children.\r\n      // this flag is terminal (i.e. skips children diffing).\r\n      if (patchFlag & PatchFlags.TEXT) {\r\n        if (n1.children !== n2.children) {\r\n          hostSetElementText(el, n2.children as string)\r\n        }\r\n        return // terminal\r\n      }\r\n    } else if (!optimized && dynamicChildren == null) {\r\n      // unoptimized, full diff\r\n      patchProps(\r\n        el,\r\n        n2,\r\n        oldProps,\r\n        newProps,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG\r\n      )\r\n    }\r\n\r\n    if (dynamicChildren != null) {\r\n      patchBlockChildren(\r\n        n1.dynamicChildren!,\r\n        dynamicChildren,\r\n        el,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG\r\n      )\r\n    } else if (!optimized) {\r\n      // full diff\r\n      patchChildren(n1, n2, el, null, parentComponent, parentSuspense, isSVG)\r\n    }\r\n\r\n    if (newProps.onVnodeUpdated != null) {\r\n      queuePostRenderEffect(() => {\r\n        invokeDirectiveHook(newProps.onVnodeUpdated, parentComponent, n2, n1)\r\n      }, parentSuspense)\r\n    }\r\n  }\r\n\r\n  // The fast path for blocks.\r\n  function patchBlockChildren(\r\n    oldChildren: HostVNode[],\r\n    newChildren: HostVNode[],\r\n    fallbackContainer: HostElement,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean\r\n  ) {\r\n    for (let i = 0; i < newChildren.length; i++) {\r\n      const oldVNode = oldChildren[i]\r\n      patch(\r\n        oldVNode,\r\n        newChildren[i],\r\n        // in the case of a Fragment, we need to provide the actual parent\r\n        // of the Fragment itself so it can move its children. In other cases,\r\n        // the parent container is not actually used so we just pass the\r\n        // block element here to avoid a DOM parentNode call.\r\n        oldVNode.type === Fragment\r\n          ? hostParentNode(oldVNode.el!)!\r\n          : fallbackContainer,\r\n        null,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        true\r\n      )\r\n    }\r\n  }\r\n\r\n  function patchProps(\r\n    el: HostElement,\r\n    vnode: HostVNode,\r\n    oldProps: Data,\r\n    newProps: Data,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean\r\n  ) {\r\n    if (oldProps !== newProps) {\r\n      for (const key in newProps) {\r\n        if (isReservedProp(key)) continue\r\n        const next = newProps[key]\r\n        const prev = oldProps[key]\r\n        if (next !== prev) {\r\n          hostPatchProp(\r\n            el,\r\n            key,\r\n            next,\r\n            prev,\r\n            isSVG,\r\n            vnode.children as HostVNode[],\r\n            parentComponent,\r\n            parentSuspense,\r\n            unmountChildren\r\n          )\r\n        }\r\n      }\r\n      if (oldProps !== EMPTY_OBJ) {\r\n        for (const key in oldProps) {\r\n          if (isReservedProp(key)) continue\r\n          if (!(key in newProps)) {\r\n            hostPatchProp(\r\n              el,\r\n              key,\r\n              null,\r\n              null,\r\n              isSVG,\r\n              vnode.children as HostVNode[],\r\n              parentComponent,\r\n              parentSuspense,\r\n              unmountChildren\r\n            )\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let devFragmentID = 0\r\n\r\n  function processFragment(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    const showID = __DEV__ && !__TEST__\r\n    const fragmentStartAnchor = (n2.el = n1\r\n      ? n1.el\r\n      : hostCreateComment(showID ? `fragment-${devFragmentID}-start` : ''))!\r\n    const fragmentEndAnchor = (n2.anchor = n1\r\n      ? n1.anchor\r\n      : hostCreateComment(showID ? `fragment-${devFragmentID}-end` : ''))!\r\n    if (showID) {\r\n      devFragmentID++\r\n    }\r\n    if (n1 == null) {\r\n      hostInsert(fragmentStartAnchor, container, anchor)\r\n      hostInsert(fragmentEndAnchor, container, anchor)\r\n      // a fragment can only have array children\r\n      // since they are either generated by the compiler, or implicitly created\r\n      // from arrays.\r\n      mountChildren(\r\n        n2.children as HostVNodeChildren,\r\n        container,\r\n        fragmentEndAnchor,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized\r\n      )\r\n    } else {\r\n      patchChildren(\r\n        n1,\r\n        n2,\r\n        container,\r\n        fragmentEndAnchor,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized\r\n      )\r\n    }\r\n  }\r\n\r\n  function processPortal(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    const targetSelector = n2.props && n2.props.target\r\n    const { patchFlag, shapeFlag, children } = n2\r\n    if (n1 == null) {\r\n      const target = (n2.target = isString(targetSelector)\r\n        ? hostQuerySelector(targetSelector)\r\n        : targetSelector)\r\n      if (target != null) {\r\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n          hostSetElementText(target, children as string)\r\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          mountChildren(\r\n            children as HostVNodeChildren,\r\n            target,\r\n            null,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized\r\n          )\r\n        }\r\n      } else if (__DEV__) {\r\n        warn('Invalid Portal target on mount:', target, `(${typeof target})`)\r\n      }\r\n    } else {\r\n      // update content\r\n      const target = (n2.target = n1.target)!\r\n      if (patchFlag === PatchFlags.TEXT) {\r\n        hostSetElementText(target, children as string)\r\n      } else if (n2.dynamicChildren) {\r\n        // fast path when the portal happens to be a block root\r\n        patchBlockChildren(\r\n          n1.dynamicChildren!,\r\n          n2.dynamicChildren,\r\n          container,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG\r\n        )\r\n      } else if (!optimized) {\r\n        patchChildren(\r\n          n1,\r\n          n2,\r\n          target,\r\n          null,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG\r\n        )\r\n      }\r\n      // target changed\r\n      if (targetSelector !== (n1.props && n1.props.target)) {\r\n        const nextTarget = (n2.target = isString(targetSelector)\r\n          ? hostQuerySelector(targetSelector)\r\n          : targetSelector)\r\n        if (nextTarget != null) {\r\n          // move content\r\n          if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n            hostSetElementText(target, '')\r\n            hostSetElementText(nextTarget, children as string)\r\n          } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n            for (let i = 0; i < (children as HostVNode[]).length; i++) {\r\n              move(\r\n                (children as HostVNode[])[i],\r\n                nextTarget,\r\n                null,\r\n                MoveType.REORDER\r\n              )\r\n            }\r\n          }\r\n        } else if (__DEV__) {\r\n          warn('Invalid Portal target on update:', target, `(${typeof target})`)\r\n        }\r\n      }\r\n    }\r\n    // insert an empty node as the placeholder for the portal\r\n    processCommentNode(n1, n2, container, anchor)\r\n  }\r\n\r\n  function processComponent(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    if (n1 == null) {\r\n      if (n2.shapeFlag & ShapeFlags.COMPONENT_KEPT_ALIVE) {\r\n        ;(parentComponent!.sink as KeepAliveSink).activate(\r\n          n2,\r\n          container,\r\n          anchor\r\n        )\r\n      } else {\r\n        mountComponent(\r\n          n2,\r\n          container,\r\n          anchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG\r\n        )\r\n      }\r\n    } else {\r\n      const instance = (n2.component = n1.component)!\r\n\r\n      if (shouldUpdateComponent(n1, n2, optimized)) {\r\n        if (\r\n          __FEATURE_SUSPENSE__ &&\r\n          instance.asyncDep &&\r\n          !instance.asyncResolved\r\n        ) {\r\n          // async & still pending - just update props and slots\r\n          // since the component's reactive effect for render isn't set-up yet\r\n          if (__DEV__) {\r\n            pushWarningContext(n2)\r\n          }\r\n          updateComponentPreRender(instance, n2)\r\n          if (__DEV__) {\r\n            popWarningContext()\r\n          }\r\n          return\r\n        } else {\r\n          // normal update\r\n          instance.next = n2\r\n          // instance.update is the reactive effect runner.\r\n          instance.update()\r\n        }\r\n      } else {\r\n        // no update needed. just copy over properties\r\n        n2.component = n1.component\r\n        n2.el = n1.el\r\n      }\r\n    }\r\n    if (n2.ref !== null && parentComponent !== null) {\r\n      if (__DEV__ && !(n2.shapeFlag & ShapeFlags.STATEFUL_COMPONENT)) {\r\n        pushWarningContext(n2)\r\n        warn(\r\n          `Functional components do not support \"ref\" because they do not ` +\r\n            `have instances.`\r\n        )\r\n        popWarningContext()\r\n      }\r\n      setRef(n2.ref, n1 && n1.ref, parentComponent, n2.component!.renderProxy)\r\n    }\r\n  }\r\n\r\n  function mountComponent(\r\n    initialVNode: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean\r\n  ) {\r\n    const instance: ComponentInternalInstance = (initialVNode.component = createComponentInstance(\r\n      initialVNode,\r\n      parentComponent\r\n    ))\r\n\r\n    if (__DEV__) {\r\n      pushWarningContext(initialVNode)\r\n    }\r\n\r\n    const Comp = initialVNode.type as Component\r\n\r\n    // inject renderer internals for keepAlive\r\n    if (isKeepAlive(initialVNode)) {\r\n      const sink = instance.sink as KeepAliveSink\r\n      sink.renderer = internals\r\n      sink.parentSuspense = parentSuspense\r\n    }\r\n\r\n    // resolve props and slots for setup context\r\n    const propsOptions = Comp.props\r\n    resolveProps(instance, initialVNode.props, propsOptions)\r\n    resolveSlots(instance, initialVNode.children)\r\n\r\n    // setup stateful logic\r\n    if (initialVNode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\r\n      setupStatefulComponent(instance, parentSuspense)\r\n    }\r\n\r\n    // setup() is async. This component relies on async logic to be resolved\r\n    // before proceeding\r\n    if (__FEATURE_SUSPENSE__ && instance.asyncDep) {\r\n      if (!parentSuspense) {\r\n        if (__DEV__) warn('async setup() is used without a suspense boundary!')\r\n        return\r\n      }\r\n\r\n      parentSuspense.registerDep(instance, setupRenderEffect)\r\n\r\n      // give it a placeholder\r\n      const placeholder = (instance.subTree = createVNode(Comment))\r\n      processCommentNode(null, placeholder, container, anchor)\r\n      initialVNode.el = placeholder.el\r\n      return\r\n    }\r\n\r\n    setupRenderEffect(\r\n      instance,\r\n      parentSuspense,\r\n      initialVNode,\r\n      container,\r\n      anchor,\r\n      isSVG\r\n    )\r\n\r\n    if (__DEV__) {\r\n      popWarningContext()\r\n    }\r\n  }\r\n\r\n  function setupRenderEffect(\r\n    instance: ComponentInternalInstance,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    initialVNode: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    isSVG: boolean\r\n  ) {\r\n    // create reactive effect for rendering\r\n    instance.update = effect(function componentEffect() {\r\n      if (!instance.isMounted) {\r\n        const subTree = (instance.subTree = renderComponentRoot(instance))\r\n        // beforeMount hook\r\n        if (instance.bm !== null) {\r\n          invokeHooks(instance.bm)\r\n        }\r\n        patch(null, subTree, container, anchor, instance, parentSuspense, isSVG)\r\n        initialVNode.el = subTree.el\r\n        // mounted hook\r\n        if (instance.m !== null) {\r\n          queuePostRenderEffect(instance.m, parentSuspense)\r\n        }\r\n        // activated hook for keep-alive roots.\r\n        if (\r\n          instance.a !== null &&\r\n          instance.vnode.shapeFlag & ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE\r\n        ) {\r\n          queuePostRenderEffect(instance.a, parentSuspense)\r\n        }\r\n        instance.isMounted = true\r\n      } else {\r\n        // updateComponent\r\n        // This is triggered by mutation of component's own state (next: null)\r\n        // OR parent calling processComponent (next: HostVNode)\r\n        const { next } = instance\r\n\r\n        if (__DEV__) {\r\n          pushWarningContext(next || instance.vnode)\r\n        }\r\n\r\n        if (next !== null) {\r\n          updateComponentPreRender(instance, next)\r\n        }\r\n        const nextTree = renderComponentRoot(instance)\r\n        const prevTree = instance.subTree\r\n        instance.subTree = nextTree\r\n        // beforeUpdate hook\r\n        if (instance.bu !== null) {\r\n          invokeHooks(instance.bu)\r\n        }\r\n        // reset refs\r\n        // only needed if previous patch had refs\r\n        if (instance.refs !== EMPTY_OBJ) {\r\n          instance.refs = {}\r\n        }\r\n        patch(\r\n          prevTree,\r\n          nextTree,\r\n          // parent may have changed if it's in a portal\r\n          hostParentNode(prevTree.el as HostNode) as HostElement,\r\n          // anchor may have changed if it's in a fragment\r\n          getNextHostNode(prevTree),\r\n          instance,\r\n          parentSuspense,\r\n          isSVG\r\n        )\r\n        instance.vnode.el = nextTree.el\r\n        if (next === null) {\r\n          // self-triggered update. In case of HOC, update parent component\r\n          // vnode el. HOC is indicated by parent instance's subTree pointing\r\n          // to child component's vnode\r\n          updateHOCHostEl(instance, nextTree.el)\r\n        }\r\n        // updated hook\r\n        if (instance.u !== null) {\r\n          queuePostRenderEffect(instance.u, parentSuspense)\r\n        }\r\n\r\n        if (__DEV__) {\r\n          popWarningContext()\r\n        }\r\n      }\r\n    }, __DEV__ ? createDevEffectOptions(instance) : prodEffectOptions)\r\n  }\r\n\r\n  function updateComponentPreRender(\r\n    instance: ComponentInternalInstance,\r\n    nextVNode: HostVNode\r\n  ) {\r\n    nextVNode.component = instance\r\n    instance.vnode = nextVNode\r\n    instance.next = null\r\n    resolveProps(instance, nextVNode.props, (nextVNode.type as Component).props)\r\n    resolveSlots(instance, nextVNode.children)\r\n  }\r\n\r\n  function patchChildren(\r\n    n1: HostVNode | null,\r\n    n2: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean = false\r\n  ) {\r\n    const c1 = n1 && n1.children\r\n    const prevShapeFlag = n1 ? n1.shapeFlag : 0\r\n    const c2 = n2.children\r\n\r\n    const { patchFlag, shapeFlag } = n2\r\n    if (patchFlag === PatchFlags.BAIL) {\r\n      optimized = false\r\n    }\r\n    // fast path\r\n    if (patchFlag > 0) {\r\n      if (patchFlag & PatchFlags.KEYED_FRAGMENT) {\r\n        // this could be either fully-keyed or mixed (some keyed some not)\r\n        // presence of patchFlag means children are guaranteed to be arrays\r\n        patchKeyedChildren(\r\n          c1 as HostVNode[],\r\n          c2 as HostVNodeChildren,\r\n          container,\r\n          anchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG,\r\n          optimized\r\n        )\r\n        return\r\n      } else if (patchFlag & PatchFlags.UNKEYED_FRAGMENT) {\r\n        // unkeyed\r\n        patchUnkeyedChildren(\r\n          c1 as HostVNode[],\r\n          c2 as HostVNodeChildren,\r\n          container,\r\n          anchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG,\r\n          optimized\r\n        )\r\n        return\r\n      }\r\n    }\r\n\r\n    // children has 3 possibilities: text, array or no children.\r\n    if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n      // text children fast path\r\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        unmountChildren(c1 as HostVNode[], parentComponent, parentSuspense)\r\n      }\r\n      if (c2 !== c1) {\r\n        hostSetElementText(container, c2 as string)\r\n      }\r\n    } else {\r\n      if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n        // prev children was array\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          // two arrays, cannot assume anything, do full diff\r\n          patchKeyedChildren(\r\n            c1 as HostVNode[],\r\n            c2 as HostVNodeChildren,\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized\r\n          )\r\n        } else {\r\n          // no new children, just unmount old\r\n          unmountChildren(\r\n            c1 as HostVNode[],\r\n            parentComponent,\r\n            parentSuspense,\r\n            true\r\n          )\r\n        }\r\n      } else {\r\n        // prev children was text OR null\r\n        // new children is array OR null\r\n        if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\r\n          hostSetElementText(container, '')\r\n        }\r\n        // mount new if array\r\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n          mountChildren(\r\n            c2 as HostVNodeChildren,\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function patchUnkeyedChildren(\r\n    c1: HostVNode[],\r\n    c2: HostVNodeChildren,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    c1 = c1 || EMPTY_ARR\r\n    c2 = c2 || EMPTY_ARR\r\n    const oldLength = c1.length\r\n    const newLength = c2.length\r\n    const commonLength = Math.min(oldLength, newLength)\r\n    let i\r\n    for (i = 0; i < commonLength; i++) {\r\n      const nextChild = optimized\r\n        ? (c2[i] as HostVNode)\r\n        : (c2[i] = normalizeVNode(c2[i]))\r\n      patch(\r\n        c1[i],\r\n        nextChild,\r\n        container,\r\n        null,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized\r\n      )\r\n    }\r\n    if (oldLength > newLength) {\r\n      // remove old\r\n      unmountChildren(c1, parentComponent, parentSuspense, true, commonLength)\r\n    } else {\r\n      // mount new\r\n      mountChildren(\r\n        c2,\r\n        container,\r\n        anchor,\r\n        parentComponent,\r\n        parentSuspense,\r\n        isSVG,\r\n        optimized,\r\n        commonLength\r\n      )\r\n    }\r\n  }\r\n\r\n  // can be all-keyed or mixed\r\n  function patchKeyedChildren(\r\n    c1: HostVNode[],\r\n    c2: HostVNodeChildren,\r\n    container: HostElement,\r\n    parentAnchor: HostNode | null,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    isSVG: boolean,\r\n    optimized: boolean\r\n  ) {\r\n    let i = 0\r\n    const l2 = c2.length\r\n    let e1 = c1.length - 1 // prev ending index\r\n    let e2 = l2 - 1 // next ending index\r\n\r\n    // 1. sync from start\r\n    // (a b) c\r\n    // (a b) d e\r\n    while (i <= e1 && i <= e2) {\r\n      const n1 = c1[i]\r\n      const n2 = optimized\r\n        ? (c2[i] as HostVNode)\r\n        : (c2[i] = normalizeVNode(c2[i]))\r\n      if (isSameVNodeType(n1, n2)) {\r\n        patch(\r\n          n1,\r\n          n2,\r\n          container,\r\n          parentAnchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG,\r\n          optimized\r\n        )\r\n      } else {\r\n        break\r\n      }\r\n      i++\r\n    }\r\n\r\n    // 2. sync from end\r\n    // a (b c)\r\n    // d e (b c)\r\n    while (i <= e1 && i <= e2) {\r\n      const n1 = c1[e1]\r\n      const n2 = optimized\r\n        ? (c2[i] as HostVNode)\r\n        : (c2[e2] = normalizeVNode(c2[e2]))\r\n      if (isSameVNodeType(n1, n2)) {\r\n        patch(\r\n          n1,\r\n          n2,\r\n          container,\r\n          parentAnchor,\r\n          parentComponent,\r\n          parentSuspense,\r\n          isSVG,\r\n          optimized\r\n        )\r\n      } else {\r\n        break\r\n      }\r\n      e1--\r\n      e2--\r\n    }\r\n\r\n    // 3. common sequence + mount\r\n    // (a b)\r\n    // (a b) c\r\n    // i = 2, e1 = 1, e2 = 2\r\n    // (a b)\r\n    // c (a b)\r\n    // i = 0, e1 = -1, e2 = 0\r\n    if (i > e1) {\r\n      if (i <= e2) {\r\n        const nextPos = e2 + 1\r\n        const anchor =\r\n          nextPos < l2 ? (c2[nextPos] as HostVNode).el : parentAnchor\r\n        while (i <= e2) {\r\n          patch(\r\n            null,\r\n            optimized ? (c2[i] as HostVNode) : (c2[i] = normalizeVNode(c2[i])),\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG\r\n          )\r\n          i++\r\n        }\r\n      }\r\n    }\r\n\r\n    // 4. common sequence + unmount\r\n    // (a b) c\r\n    // (a b)\r\n    // i = 2, e1 = 2, e2 = 1\r\n    // a (b c)\r\n    // (b c)\r\n    // i = 0, e1 = 0, e2 = -1\r\n    else if (i > e2) {\r\n      while (i <= e1) {\r\n        unmount(c1[i], parentComponent, parentSuspense, true)\r\n        i++\r\n      }\r\n    }\r\n\r\n    // 5. unknown sequence\r\n    // [i ... e1 + 1]: a b [c d e] f g\r\n    // [i ... e2 + 1]: a b [e d c h] f g\r\n    // i = 2, e1 = 4, e2 = 5\r\n    else {\r\n      const s1 = i // prev starting index\r\n      const s2 = i // next starting index\r\n\r\n      // 5.1 build key:index map for newChildren\r\n      const keyToNewIndexMap: Map<string | number, number> = new Map()\r\n      for (i = s2; i <= e2; i++) {\r\n        const nextChild = optimized\r\n          ? (c2[i] as HostVNode)\r\n          : (c2[i] = normalizeVNode(c2[i]))\r\n        if (nextChild.key != null) {\r\n          if (__DEV__ && keyToNewIndexMap.has(nextChild.key)) {\r\n            warn(\r\n              `Duplicate keys found during update:`,\r\n              JSON.stringify(nextChild.key),\r\n              `Make sure keys are unique.`\r\n            )\r\n          }\r\n          keyToNewIndexMap.set(nextChild.key, i)\r\n        }\r\n      }\r\n\r\n      // 5.2 loop through old children left to be patched and try to patch\r\n      // matching nodes & remove nodes that are no longer present\r\n      let j\r\n      let patched = 0\r\n      const toBePatched = e2 - s2 + 1\r\n      let moved = false\r\n      // used to track whether any node has moved\r\n      let maxNewIndexSoFar = 0\r\n      // works as Map<newIndex, oldIndex>\r\n      // Note that oldIndex is offset by +1\r\n      // and oldIndex = 0 is a special value indicating the new node has\r\n      // no corresponding old node.\r\n      // used for determining longest stable subsequence\r\n      const newIndexToOldIndexMap = new Array(toBePatched)\r\n      for (i = 0; i < toBePatched; i++) newIndexToOldIndexMap[i] = 0\r\n\r\n      for (i = s1; i <= e1; i++) {\r\n        const prevChild = c1[i]\r\n        if (patched >= toBePatched) {\r\n          // all new children have been patched so this can only be a removal\r\n          unmount(prevChild, parentComponent, parentSuspense, true)\r\n          continue\r\n        }\r\n        let newIndex\r\n        if (prevChild.key != null) {\r\n          newIndex = keyToNewIndexMap.get(prevChild.key)\r\n        } else {\r\n          // key-less node, try to locate a key-less node of the same type\r\n          for (j = s2; j <= e2; j++) {\r\n            if (\r\n              newIndexToOldIndexMap[j - s2] === 0 &&\r\n              isSameVNodeType(prevChild, c2[j] as HostVNode)\r\n            ) {\r\n              newIndex = j\r\n              break\r\n            }\r\n          }\r\n        }\r\n        if (newIndex === undefined) {\r\n          unmount(prevChild, parentComponent, parentSuspense, true)\r\n        } else {\r\n          newIndexToOldIndexMap[newIndex - s2] = i + 1\r\n          if (newIndex >= maxNewIndexSoFar) {\r\n            maxNewIndexSoFar = newIndex\r\n          } else {\r\n            moved = true\r\n          }\r\n          patch(\r\n            prevChild,\r\n            c2[newIndex] as HostVNode,\r\n            container,\r\n            null,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG,\r\n            optimized\r\n          )\r\n          patched++\r\n        }\r\n      }\r\n\r\n      // 5.3 move and mount\r\n      // generate longest stable subsequence only when nodes have moved\r\n      const increasingNewIndexSequence = moved\r\n        ? getSequence(newIndexToOldIndexMap)\r\n        : EMPTY_ARR\r\n      j = increasingNewIndexSequence.length - 1\r\n      // looping backwards so that we can use last patched node as anchor\r\n      for (i = toBePatched - 1; i >= 0; i--) {\r\n        const nextIndex = s2 + i\r\n        const nextChild = c2[nextIndex] as HostVNode\r\n        const anchor =\r\n          nextIndex + 1 < l2\r\n            ? (c2[nextIndex + 1] as HostVNode).el\r\n            : parentAnchor\r\n        if (newIndexToOldIndexMap[i] === 0) {\r\n          // mount new\r\n          patch(\r\n            null,\r\n            nextChild,\r\n            container,\r\n            anchor,\r\n            parentComponent,\r\n            parentSuspense,\r\n            isSVG\r\n          )\r\n        } else if (moved) {\r\n          // move if:\r\n          // There is no stable subsequence (e.g. a reverse)\r\n          // OR current node is not among the stable sequence\r\n          if (j < 0 || i !== increasingNewIndexSequence[j]) {\r\n            move(nextChild, container, anchor, MoveType.REORDER)\r\n          } else {\r\n            j--\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function move(\r\n    vnode: HostVNode,\r\n    container: HostElement,\r\n    anchor: HostNode | null,\r\n    type: MoveType,\r\n    parentSuspense: HostSuspenseBoundary | null = null\r\n  ) {\r\n    if (vnode.shapeFlag & ShapeFlags.COMPONENT) {\r\n      move(vnode.component!.subTree, container, anchor, type)\r\n      return\r\n    }\r\n    if (__FEATURE_SUSPENSE__ && vnode.shapeFlag & ShapeFlags.SUSPENSE) {\r\n      vnode.suspense!.move(container, anchor, type)\r\n      return\r\n    }\r\n    if (vnode.type === Fragment) {\r\n      hostInsert(vnode.el!, container, anchor)\r\n      const children = vnode.children as HostVNode[]\r\n      for (let i = 0; i < children.length; i++) {\r\n        move(children[i], container, anchor, type)\r\n      }\r\n      hostInsert(vnode.anchor!, container, anchor)\r\n    } else {\r\n      // Plain element\r\n      const { el, transition, shapeFlag } = vnode\r\n      const needTransition =\r\n        type !== MoveType.REORDER &&\r\n        shapeFlag & ShapeFlags.ELEMENT &&\r\n        transition != null\r\n      if (needTransition) {\r\n        if (type === MoveType.ENTER) {\r\n          transition!.beforeEnter(el!)\r\n          hostInsert(el!, container, anchor)\r\n          queuePostRenderEffect(() => transition!.enter(el!), parentSuspense)\r\n        } else {\r\n          const { leave, delayLeave, afterLeave } = transition!\r\n          const remove = () => hostInsert(el!, container, anchor)\r\n          const performLeave = () => {\r\n            leave(el!, () => {\r\n              remove()\r\n              afterLeave && afterLeave()\r\n            })\r\n          }\r\n          if (delayLeave) {\r\n            delayLeave(el!, remove, performLeave)\r\n          } else {\r\n            performLeave()\r\n          }\r\n        }\r\n      } else {\r\n        hostInsert(el!, container, anchor)\r\n      }\r\n    }\r\n  }\r\n\r\n  function unmount(\r\n    vnode: HostVNode,\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    doRemove?: boolean\r\n  ) {\r\n    const {\r\n      el,\r\n      props,\r\n      ref,\r\n      type,\r\n      children,\r\n      dynamicChildren,\r\n      shapeFlag,\r\n      anchor,\r\n      transition\r\n    } = vnode\r\n\r\n    // unset ref\r\n    if (ref !== null && parentComponent !== null) {\r\n      setRef(ref, null, parentComponent, null)\r\n    }\r\n\r\n    if (shapeFlag & ShapeFlags.COMPONENT) {\r\n      if (shapeFlag & ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE) {\r\n        ;(parentComponent!.sink as KeepAliveSink).deactivate(vnode)\r\n      } else {\r\n        unmountComponent(vnode.component!, parentSuspense, doRemove)\r\n      }\r\n      return\r\n    }\r\n\r\n    if (__FEATURE_SUSPENSE__ && shapeFlag & ShapeFlags.SUSPENSE) {\r\n      vnode.suspense!.unmount(parentSuspense, doRemove)\r\n      return\r\n    }\r\n\r\n    if (props != null && props.onVnodeBeforeUnmount != null) {\r\n      invokeDirectiveHook(props.onVnodeBeforeUnmount, parentComponent, vnode)\r\n    }\r\n\r\n    const shouldRemoveChildren = type === Fragment && doRemove\r\n    if (dynamicChildren != null) {\r\n      unmountChildren(\r\n        dynamicChildren,\r\n        parentComponent,\r\n        parentSuspense,\r\n        shouldRemoveChildren\r\n      )\r\n    } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\r\n      unmountChildren(\r\n        children as HostVNode[],\r\n        parentComponent,\r\n        parentSuspense,\r\n        shouldRemoveChildren\r\n      )\r\n    }\r\n\r\n    if (doRemove) {\r\n      const remove = () => {\r\n        hostRemove(vnode.el!)\r\n        if (anchor != null) hostRemove(anchor)\r\n        if (\r\n          transition != null &&\r\n          !transition.persisted &&\r\n          transition.afterLeave\r\n        ) {\r\n          transition.afterLeave()\r\n        }\r\n      }\r\n      if (\r\n        vnode.shapeFlag & ShapeFlags.ELEMENT &&\r\n        transition != null &&\r\n        !transition.persisted\r\n      ) {\r\n        const { leave, delayLeave } = transition\r\n        const performLeave = () => leave(el!, remove)\r\n        if (delayLeave) {\r\n          delayLeave(vnode.el!, remove, performLeave)\r\n        } else {\r\n          performLeave()\r\n        }\r\n      } else {\r\n        remove()\r\n      }\r\n    }\r\n\r\n    if (props != null && props.onVnodeUnmounted != null) {\r\n      queuePostRenderEffect(() => {\r\n        invokeDirectiveHook(props.onVnodeUnmounted!, parentComponent, vnode)\r\n      }, parentSuspense)\r\n    }\r\n  }\r\n\r\n  function unmountComponent(\r\n    instance: ComponentInternalInstance,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    doRemove?: boolean\r\n  ) {\r\n    const { bum, effects, update, subTree, um, da, isDeactivated } = instance\r\n    // beforeUnmount hook\r\n    if (bum !== null) {\r\n      invokeHooks(bum)\r\n    }\r\n    if (effects !== null) {\r\n      for (let i = 0; i < effects.length; i++) {\r\n        stop(effects[i])\r\n      }\r\n    }\r\n    // update may be null if a component is unmounted before its async\r\n    // setup has resolved.\r\n    if (update !== null) {\r\n      stop(update)\r\n      unmount(subTree, instance, parentSuspense, doRemove)\r\n    }\r\n    // unmounted hook\r\n    if (um !== null) {\r\n      queuePostRenderEffect(um, parentSuspense)\r\n    }\r\n    // deactivated hook\r\n    if (\r\n      da !== null &&\r\n      !isDeactivated &&\r\n      instance.vnode.shapeFlag & ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE\r\n    ) {\r\n      queuePostRenderEffect(da, parentSuspense)\r\n    }\r\n    queuePostFlushCb(() => {\r\n      instance.isUnmounted = true\r\n    })\r\n\r\n    // A component with async dep inside a pending suspense is unmounted before\r\n    // its async dep resolves. This should remove the dep from the suspense, and\r\n    // cause the suspense to resolve immediately if that was the last dep.\r\n    if (\r\n      __FEATURE_SUSPENSE__ &&\r\n      parentSuspense !== null &&\r\n      !parentSuspense.isResolved &&\r\n      !parentSuspense.isUnmounted &&\r\n      instance.asyncDep !== null &&\r\n      !instance.asyncResolved\r\n    ) {\r\n      parentSuspense.deps--\r\n      if (parentSuspense.deps === 0) {\r\n        parentSuspense.resolve()\r\n      }\r\n    }\r\n  }\r\n\r\n  function unmountChildren(\r\n    children: HostVNode[],\r\n    parentComponent: ComponentInternalInstance | null,\r\n    parentSuspense: HostSuspenseBoundary | null,\r\n    doRemove?: boolean,\r\n    start: number = 0\r\n  ) {\r\n    for (let i = start; i < children.length; i++) {\r\n      unmount(children[i], parentComponent, parentSuspense, doRemove)\r\n    }\r\n  }\r\n\r\n  function getNextHostNode(vnode: HostVNode): HostNode | null {\r\n    if (vnode.shapeFlag & ShapeFlags.COMPONENT) {\r\n      return getNextHostNode(vnode.component!.subTree)\r\n    }\r\n    if (__FEATURE_SUSPENSE__ && vnode.shapeFlag & ShapeFlags.SUSPENSE) {\r\n      return vnode.suspense!.next()\r\n    }\r\n    return hostNextSibling((vnode.anchor || vnode.el)!)\r\n  }\r\n\r\n  function setRef(\r\n    ref: string | Function | Ref,\r\n    oldRef: string | Function | Ref | null,\r\n    parent: ComponentInternalInstance,\r\n    value: HostNode | ComponentPublicInstance | null\r\n  ) {\r\n    const refs = parent.refs === EMPTY_OBJ ? (parent.refs = {}) : parent.refs\r\n    const renderContext = toRaw(parent.renderContext)\r\n\r\n    // unset old ref\r\n    if (oldRef !== null && oldRef !== ref) {\r\n      if (isString(oldRef)) {\r\n        refs[oldRef] = null\r\n        const oldSetupRef = renderContext[oldRef]\r\n        if (isRef(oldSetupRef)) {\r\n          oldSetupRef.value = null\r\n        }\r\n      } else if (isRef(oldRef)) {\r\n        oldRef.value = null\r\n      }\r\n    }\r\n\r\n    if (isString(ref)) {\r\n      const setupRef = renderContext[ref]\r\n      if (isRef(setupRef)) {\r\n        setupRef.value = value\r\n      }\r\n      refs[ref] = value\r\n    } else if (isRef(ref)) {\r\n      ref.value = value\r\n    } else if (isFunction(ref)) {\r\n      callWithErrorHandling(ref, parent, ErrorCodes.FUNCTION_REF, [value, refs])\r\n    } else if (__DEV__) {\r\n      warn('Invalid template ref type:', value, `(${typeof value})`)\r\n    }\r\n  }\r\n\r\n  const render: RootRenderFunction<\r\n    HostNode,\r\n    HostElement & {\r\n      _vnode: HostVNode | null\r\n    }\r\n  > = (vnode, container) => {\r\n    if (vnode == null) {\r\n      if (container._vnode) {\r\n        unmount(container._vnode, null, null, true)\r\n      }\r\n    } else {\r\n      patch(container._vnode || null, vnode, container)\r\n    }\r\n    flushPostFlushCbs()\r\n    container._vnode = vnode\r\n  }\r\n\r\n  return {\r\n    render,\r\n    createApp: createAppAPI(render)\r\n  }\r\n}\r\n\r\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\r\nfunction getSequence(arr: number[]): number[] {\r\n  const p = arr.slice()\r\n  const result = [0]\r\n  let i, j, u, v, c\r\n  const len = arr.length\r\n  for (i = 0; i < len; i++) {\r\n    const arrI = arr[i]\r\n    if (arrI !== 0) {\r\n      j = result[result.length - 1]\r\n      if (arr[j] < arrI) {\r\n        p[i] = j\r\n        result.push(i)\r\n        continue\r\n      }\r\n      u = 0\r\n      v = result.length - 1\r\n      while (u < v) {\r\n        c = ((u + v) / 2) | 0\r\n        if (arr[result[c]] < arrI) {\r\n          u = c + 1\r\n        } else {\r\n          v = c\r\n        }\r\n      }\r\n      if (arrI < arr[result[u]]) {\r\n        if (u > 0) {\r\n          p[i] = result[u - 1]\r\n        }\r\n        result[u] = i\r\n      }\r\n    }\r\n  }\r\n  u = result.length\r\n  v = result[u - 1]\r\n  while (u-- > 0) {\r\n    result[u] = v\r\n    v = p[v]\r\n  }\r\n  return result\r\n}\r\n","import {\r\n  getCurrentInstance,\r\n  SetupContext,\r\n  ComponentOptions\r\n} from '../component'\r\nimport {\r\n  cloneVNode,\r\n  Comment,\r\n  isSameVNodeType,\r\n  VNode,\r\n  VNodeChildren\r\n} from '../vnode'\r\nimport { warn } from '../warning'\r\nimport { isKeepAlive } from './KeepAlive'\r\nimport { toRaw } from '@vue/reactivity'\r\nimport { callWithAsyncErrorHandling, ErrorCodes } from '../errorHandling'\r\nimport { ShapeFlags } from '../shapeFlags'\r\nimport { onBeforeUnmount, onMounted } from '../apiLifecycle'\r\n\r\nexport interface BaseTransitionProps {\r\n  mode?: 'in-out' | 'out-in' | 'default'\r\n  appear?: boolean\r\n\r\n  // If true, indicates this is a transition that doesn't actually insert/remove\r\n  // the element, but toggles the show / hidden status instead.\r\n  // The transition hooks are injected, but will be skipped by the renderer.\r\n  // Instead, a custom directive can control the transition by calling the\r\n  // injected hooks (e.g. v-show).\r\n  persisted?: boolean\r\n\r\n  // Hooks. Using camel case for easier usage in render functions & JSX.\r\n  // In templates these can be written as @before-enter=\"xxx\" as prop names\r\n  // are camelized.\r\n  onBeforeEnter?: (el: any) => void\r\n  onEnter?: (el: any, done: () => void) => void\r\n  onAfterEnter?: (el: any) => void\r\n  onEnterCancelled?: (el: any) => void\r\n  // leave\r\n  onBeforeLeave?: (el: any) => void\r\n  onLeave?: (el: any, done: () => void) => void\r\n  onAfterLeave?: (el: any) => void\r\n  onLeaveCancelled?: (el: any) => void // only fired in persisted mode\r\n}\r\n\r\nexport interface TransitionHooks {\r\n  persisted: boolean\r\n  beforeEnter(el: object): void\r\n  enter(el: object): void\r\n  leave(el: object, remove: () => void): void\r\n  afterLeave?(): void\r\n  delayLeave?(\r\n    el: object,\r\n    earlyRemove: () => void,\r\n    delayedLeave: () => void\r\n  ): void\r\n  delayedLeave?(): void\r\n}\r\n\r\ntype TransitionHookCaller = (\r\n  hook: ((el: any) => void) | undefined,\r\n  args?: any[]\r\n) => void\r\n\r\ntype PendingCallback = (cancelled?: boolean) => void\r\n\r\ninterface TransitionState {\r\n  isMounted: boolean\r\n  isLeaving: boolean\r\n  isUnmounting: boolean\r\n  // Track pending leave callbacks for children of the same key.\r\n  // This is used to force remove leaving a child when a new copy is entering.\r\n  leavingVNodes: Map<any, Record<string, VNode>>\r\n}\r\n\r\ninterface TransitionElement {\r\n  // in persisted mode (e.g. v-show), the same element is toggled, so the\r\n  // pending enter/leave callbacks may need to cancalled if the state is toggled\r\n  // before it finishes.\r\n  _enterCb?: PendingCallback\r\n  _leaveCb?: PendingCallback\r\n}\r\n\r\nconst BaseTransitionImpl = {\r\n  name: `BaseTransition`,\r\n  setup(props: BaseTransitionProps, { slots }: SetupContext) {\r\n    const instance = getCurrentInstance()!\r\n    const state: TransitionState = {\r\n      isMounted: false,\r\n      isLeaving: false,\r\n      isUnmounting: false,\r\n      leavingVNodes: new Map()\r\n    }\r\n    onMounted(() => {\r\n      state.isMounted = true\r\n    })\r\n    onBeforeUnmount(() => {\r\n      state.isUnmounting = true\r\n    })\r\n\r\n    const callTransitionHook: TransitionHookCaller = (hook, args) => {\r\n      hook &&\r\n        callWithAsyncErrorHandling(\r\n          hook,\r\n          instance,\r\n          ErrorCodes.TRANSITION_HOOK,\r\n          args\r\n        )\r\n    }\r\n\r\n    return () => {\r\n      const children = slots.default && slots.default()\r\n      if (!children || !children.length) {\r\n        return\r\n      }\r\n\r\n      // warn multiple elements\r\n      if (__DEV__ && children.length > 1) {\r\n        warn(\r\n          '<transition> can only be used on a single element or component. Use ' +\r\n            '<transition-group> for lists.'\r\n        )\r\n      }\r\n\r\n      // there's no need to track reactivity for these props so use the raw\r\n      // props for a bit better perf\r\n      const rawProps = toRaw(props)\r\n      const { mode } = rawProps\r\n      // check mode\r\n      if (__DEV__ && mode && !['in-out', 'out-in', 'default'].includes(mode)) {\r\n        warn(`invalid <transition> mode: ${mode}`)\r\n      }\r\n\r\n      // at this point children has a guaranteed length of 1.\r\n      const child = children[0]\r\n      if (state.isLeaving) {\r\n        return emptyPlaceholder(child)\r\n      }\r\n\r\n      // in the case of <transition><keep-alive/></transition>, we need to\r\n      // compare the type of the kept-alive children.\r\n      const innerChild = getKeepAliveChild(child)\r\n      if (!innerChild) {\r\n        return emptyPlaceholder(child)\r\n      }\r\n\r\n      const enterHooks = (innerChild.transition = resolveTransitionHooks(\r\n        innerChild,\r\n        rawProps,\r\n        state,\r\n        callTransitionHook\r\n      ))\r\n\r\n      const oldChild = instance.subTree\r\n      const oldInnerChild = oldChild && getKeepAliveChild(oldChild)\r\n      // handle mode\r\n      if (\r\n        oldInnerChild &&\r\n        oldInnerChild.type !== Comment &&\r\n        !isSameVNodeType(innerChild, oldInnerChild)\r\n      ) {\r\n        const prevHooks = oldInnerChild.transition!\r\n        const leavingHooks = resolveTransitionHooks(\r\n          oldInnerChild,\r\n          rawProps,\r\n          state,\r\n          callTransitionHook\r\n        )\r\n        // update old tree's hooks in case of dynamic transition\r\n        setTransitionHooks(oldInnerChild, leavingHooks)\r\n        // switching between different views\r\n        if (mode === 'out-in') {\r\n          state.isLeaving = true\r\n          // return placeholder node and queue update when leave finishes\r\n          leavingHooks.afterLeave = () => {\r\n            state.isLeaving = false\r\n            instance.update()\r\n          }\r\n          return emptyPlaceholder(child)\r\n        } else if (mode === 'in-out') {\r\n          delete prevHooks.delayedLeave\r\n          leavingHooks.delayLeave = (\r\n            el: TransitionElement,\r\n            earlyRemove,\r\n            delayedLeave\r\n          ) => {\r\n            const leavingVNodesCache = getLeavingNodesForType(\r\n              state,\r\n              oldInnerChild\r\n            )\r\n            leavingVNodesCache[String(oldInnerChild.key)] = oldInnerChild\r\n            // early removal callback\r\n            el._leaveCb = () => {\r\n              earlyRemove()\r\n              el._leaveCb = undefined\r\n              delete enterHooks.delayedLeave\r\n            }\r\n            enterHooks.delayedLeave = delayedLeave\r\n          }\r\n        }\r\n      }\r\n\r\n      return child\r\n    }\r\n  }\r\n}\r\n\r\nif (__DEV__) {\r\n  ;(BaseTransitionImpl as ComponentOptions).props = {\r\n    mode: String,\r\n    appear: Boolean,\r\n    persisted: Boolean,\r\n    // enter\r\n    onBeforeEnter: Function,\r\n    onEnter: Function,\r\n    onAfterEnter: Function,\r\n    onEnterCancelled: Function,\r\n    // leave\r\n    onBeforeLeave: Function,\r\n    onLeave: Function,\r\n    onAfterLeave: Function,\r\n    onLeaveCancelled: Function\r\n  }\r\n}\r\n\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nexport const BaseTransition = (BaseTransitionImpl as any) as {\r\n  new (): {\r\n    $props: BaseTransitionProps\r\n  }\r\n}\r\n\r\nfunction getLeavingNodesForType(\r\n  state: TransitionState,\r\n  vnode: VNode\r\n): Record<string, VNode> {\r\n  const { leavingVNodes } = state\r\n  let leavingVNodesCache = leavingVNodes.get(vnode.type)!\r\n  if (!leavingVNodesCache) {\r\n    leavingVNodesCache = Object.create(null)\r\n    leavingVNodes.set(vnode.type, leavingVNodesCache)\r\n  }\r\n  return leavingVNodesCache\r\n}\r\n\r\n// The transition hooks are attached to the vnode as vnode.transition\r\n// and will be called at appropriate timing in the renderer.\r\nfunction resolveTransitionHooks(\r\n  vnode: VNode,\r\n  {\r\n    appear,\r\n    persisted = false,\r\n    onBeforeEnter,\r\n    onEnter,\r\n    onAfterEnter,\r\n    onEnterCancelled,\r\n    onBeforeLeave,\r\n    onLeave,\r\n    onAfterLeave,\r\n    onLeaveCancelled\r\n  }: BaseTransitionProps,\r\n  state: TransitionState,\r\n  callHook: TransitionHookCaller\r\n): TransitionHooks {\r\n  const key = String(vnode.key)\r\n  const leavingVNodesCache = getLeavingNodesForType(state, vnode)\r\n\r\n  const hooks: TransitionHooks = {\r\n    persisted,\r\n    beforeEnter(el: TransitionElement) {\r\n      if (!appear && !state.isMounted) {\r\n        return\r\n      }\r\n      // for same element (v-show)\r\n      if (el._leaveCb) {\r\n        el._leaveCb(true /* cancelled */)\r\n      }\r\n      // for toggled element with same key (v-if)\r\n      const leavingVNode = leavingVNodesCache[key]\r\n      if (\r\n        leavingVNode &&\r\n        isSameVNodeType(vnode, leavingVNode) &&\r\n        leavingVNode.el._leaveCb\r\n      ) {\r\n        // force early removal (not cancelled)\r\n        leavingVNode.el._leaveCb()\r\n      }\r\n      callHook(onBeforeEnter, [el])\r\n    },\r\n\r\n    enter(el: TransitionElement) {\r\n      if (!appear && !state.isMounted) {\r\n        return\r\n      }\r\n      let called = false\r\n      const afterEnter = (el._enterCb = (cancelled?) => {\r\n        if (called) return\r\n        called = true\r\n        if (cancelled) {\r\n          callHook(onEnterCancelled, [el])\r\n        } else {\r\n          callHook(onAfterEnter, [el])\r\n        }\r\n        if (hooks.delayedLeave) {\r\n          hooks.delayedLeave()\r\n        }\r\n        el._enterCb = undefined\r\n      })\r\n      if (onEnter) {\r\n        onEnter(el, afterEnter)\r\n      } else {\r\n        afterEnter()\r\n      }\r\n    },\r\n\r\n    leave(el: TransitionElement, remove) {\r\n      const key = String(vnode.key)\r\n      if (el._enterCb) {\r\n        el._enterCb(true /* cancelled */)\r\n      }\r\n      if (state.isUnmounting) {\r\n        return remove()\r\n      }\r\n      callHook(onBeforeLeave, [el])\r\n      let called = false\r\n      const afterLeave = (el._leaveCb = (cancelled?) => {\r\n        if (called) return\r\n        called = true\r\n        remove()\r\n        if (cancelled) {\r\n          callHook(onLeaveCancelled, [el])\r\n        } else {\r\n          callHook(onAfterLeave, [el])\r\n        }\r\n        el._leaveCb = undefined\r\n        if (leavingVNodesCache[key] === vnode) {\r\n          delete leavingVNodesCache[key]\r\n        }\r\n      })\r\n      leavingVNodesCache[key] = vnode\r\n      if (onLeave) {\r\n        onLeave(el, afterLeave)\r\n      } else {\r\n        afterLeave()\r\n      }\r\n    }\r\n  }\r\n\r\n  return hooks\r\n}\r\n\r\n// the placeholder really only handles one special case: KeepAlive\r\n// in the case of a KeepAlive in a leave phase we need to return a KeepAlive\r\n// placeholder with empty content to avoid the KeepAlive instance from being\r\n// unmounted.\r\nfunction emptyPlaceholder(vnode: VNode): VNode | undefined {\r\n  if (isKeepAlive(vnode)) {\r\n    vnode = cloneVNode(vnode)\r\n    vnode.children = null\r\n    return vnode\r\n  }\r\n}\r\n\r\nfunction getKeepAliveChild(vnode: VNode): VNode | undefined {\r\n  return isKeepAlive(vnode)\r\n    ? vnode.children\r\n      ? ((vnode.children as VNodeChildren)[0] as VNode)\r\n      : undefined\r\n    : vnode\r\n}\r\n\r\nexport function setTransitionHooks(vnode: VNode, hooks: TransitionHooks) {\r\n  if (vnode.shapeFlag & ShapeFlags.COMPONENT && vnode.component) {\r\n    setTransitionHooks(vnode.component.subTree, hooks)\r\n  } else {\r\n    vnode.transition = hooks\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  getCurrentInstance,\r\n  FunctionalComponent,\r\n  SetupContext,\r\n  ComponentInternalInstance,\r\n  LifecycleHooks,\r\n  currentInstance\r\n} from '../component'\r\nimport { VNode, cloneVNode, isVNode } from '../vnode'\r\nimport { warn } from '../warning'\r\nimport { onBeforeUnmount, injectHook, onUnmounted } from '../apiLifecycle'\r\nimport { isString, isArray } from '@vue/shared'\r\nimport { watch } from '../apiWatch'\r\nimport { ShapeFlags } from '../shapeFlags'\r\nimport { SuspenseBoundary } from './Suspense'\r\nimport {\r\n  RendererInternals,\r\n  queuePostRenderEffect,\r\n  invokeHooks,\r\n  MoveType\r\n} from '../renderer'\r\nimport { setTransitionHooks } from './BaseTransition'\r\n\r\ntype MatchPattern = string | RegExp | string[] | RegExp[]\r\n\r\nexport interface KeepAliveProps {\r\n  include?: MatchPattern\r\n  exclude?: MatchPattern\r\n  max?: number | string\r\n}\r\n\r\ntype CacheKey = string | number | Component\r\ntype Cache = Map<CacheKey, VNode>\r\ntype Keys = Set<CacheKey>\r\n\r\nexport interface KeepAliveSink {\r\n  renderer: RendererInternals\r\n  parentSuspense: SuspenseBoundary | null\r\n  activate: (vnode: VNode, container: object, anchor: object | null) => void\r\n  deactivate: (vnode: VNode) => void\r\n}\r\n\r\nexport const isKeepAlive = (vnode: VNode): boolean =>\r\n  (vnode.type as any).__isKeepAlive\r\n\r\nconst KeepAliveImpl = {\r\n  name: `KeepAlive`,\r\n\r\n  // Marker for special handling inside the renderer. We are not using a ===\r\n  // check directly on KeepAlive in the renderer, because importing it directly\r\n  // would prevent it from being tree-shaken.\r\n  __isKeepAlive: true,\r\n\r\n  props: {\r\n    include: [String, RegExp, Array],\r\n    exclude: [String, RegExp, Array],\r\n    max: [String, Number]\r\n  },\r\n\r\n  setup(props: KeepAliveProps, { slots }: SetupContext) {\r\n    const cache: Cache = new Map()\r\n    const keys: Keys = new Set()\r\n    let current: VNode | null = null\r\n\r\n    const instance = getCurrentInstance()!\r\n\r\n    // KeepAlive communicates with the instantiated renderer via the \"sink\"\r\n    // where the renderer passes in platform-specific functions, and the\r\n    // KeepAlive instance exposes activate/deactivate implementations.\r\n    // The whole point of this is to avoid importing KeepAlive directly in the\r\n    // renderer to facilitate tree-shaking.\r\n    const sink = instance.sink as KeepAliveSink\r\n    const {\r\n      renderer: {\r\n        move,\r\n        unmount: _unmount,\r\n        options: { createElement }\r\n      },\r\n      parentSuspense\r\n    } = sink\r\n    const storageContainer = createElement('div')\r\n\r\n    sink.activate = (vnode, container, anchor) => {\r\n      move(vnode, container, anchor, MoveType.ENTER, parentSuspense)\r\n      queuePostRenderEffect(() => {\r\n        const component = vnode.component!\r\n        component.isDeactivated = false\r\n        if (component.a !== null) {\r\n          invokeHooks(component.a)\r\n        }\r\n      }, parentSuspense)\r\n    }\r\n\r\n    sink.deactivate = (vnode: VNode) => {\r\n      move(vnode, storageContainer, null, MoveType.LEAVE, parentSuspense)\r\n      queuePostRenderEffect(() => {\r\n        const component = vnode.component!\r\n        if (component.da !== null) {\r\n          invokeHooks(component.da)\r\n        }\r\n        component.isDeactivated = true\r\n      }, parentSuspense)\r\n    }\r\n\r\n    function unmount(vnode: VNode) {\r\n      // reset the shapeFlag so it can be properly unmounted\r\n      vnode.shapeFlag = ShapeFlags.STATEFUL_COMPONENT\r\n      _unmount(vnode, instance, parentSuspense)\r\n    }\r\n\r\n    function pruneCache(filter?: (name: string) => boolean) {\r\n      cache.forEach((vnode, key) => {\r\n        const name = getName(vnode.type as Component)\r\n        if (name && (!filter || !filter(name))) {\r\n          pruneCacheEntry(key)\r\n        }\r\n      })\r\n    }\r\n\r\n    function pruneCacheEntry(key: CacheKey) {\r\n      const cached = cache.get(key) as VNode\r\n      if (!current || cached.type !== current.type) {\r\n        unmount(cached)\r\n      } else if (current) {\r\n        // current active instance should no longer be kept-alive.\r\n        // we can't unmount it now but it might be later, so reset its flag now.\r\n        current.shapeFlag = ShapeFlags.STATEFUL_COMPONENT\r\n      }\r\n      cache.delete(key)\r\n      keys.delete(key)\r\n    }\r\n\r\n    watch(\r\n      () => [props.include, props.exclude],\r\n      ([include, exclude]) => {\r\n        include && pruneCache(name => matches(include, name))\r\n        exclude && pruneCache(name => matches(exclude, name))\r\n      },\r\n      { lazy: true }\r\n    )\r\n\r\n    onBeforeUnmount(() => {\r\n      cache.forEach(unmount)\r\n    })\r\n\r\n    return () => {\r\n      if (!slots.default) {\r\n        return null\r\n      }\r\n\r\n      const children = slots.default()\r\n      let vnode = children[0]\r\n      if (children.length > 1) {\r\n        if (__DEV__) {\r\n          warn(`KeepAlive should contain exactly one component child.`)\r\n        }\r\n        current = null\r\n        return children\r\n      } else if (\r\n        !isVNode(vnode) ||\r\n        !(vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT)\r\n      ) {\r\n        current = null\r\n        return vnode\r\n      }\r\n\r\n      const comp = vnode.type as Component\r\n      const name = getName(comp)\r\n      const { include, exclude, max } = props\r\n\r\n      if (\r\n        (include && (!name || !matches(include, name))) ||\r\n        (exclude && name && matches(exclude, name))\r\n      ) {\r\n        return vnode\r\n      }\r\n\r\n      const key = vnode.key == null ? comp : vnode.key\r\n      const cached = cache.get(key)\r\n\r\n      // clone vnode if it's reused because we are going to mutate it\r\n      if (vnode.el) {\r\n        vnode = cloneVNode(vnode)\r\n      }\r\n      cache.set(key, vnode)\r\n\r\n      if (cached) {\r\n        // copy over mounted state\r\n        vnode.el = cached.el\r\n        vnode.anchor = cached.anchor\r\n        vnode.component = cached.component\r\n        if (vnode.transition) {\r\n          // recursively update transition hooks on subTree\r\n          setTransitionHooks(vnode, vnode.transition!)\r\n        }\r\n        // avoid vnode being mounted as fresh\r\n        vnode.shapeFlag |= ShapeFlags.COMPONENT_KEPT_ALIVE\r\n        // make this key the freshest\r\n        keys.delete(key)\r\n        keys.add(key)\r\n      } else {\r\n        keys.add(key)\r\n        // prune oldest entry\r\n        if (max && keys.size > parseInt(max as string, 10)) {\r\n          pruneCacheEntry(Array.from(keys)[0])\r\n        }\r\n      }\r\n      // avoid vnode being unmounted\r\n      vnode.shapeFlag |= ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE\r\n\r\n      current = vnode\r\n      return vnode\r\n    }\r\n  }\r\n}\r\n\r\n// export the public type for h/tsx inference\r\n// also to avoid inline import() in generated d.ts files\r\nexport const KeepAlive = (KeepAliveImpl as any) as {\r\n  new (): {\r\n    $props: KeepAliveProps\r\n  }\r\n}\r\n\r\nfunction getName(comp: Component): string | void {\r\n  return (comp as FunctionalComponent).displayName || comp.name\r\n}\r\n\r\nfunction matches(pattern: MatchPattern, name: string): boolean {\r\n  if (isArray(pattern)) {\r\n    return (pattern as any).some((p: string | RegExp) => matches(p, name))\r\n  } else if (isString(pattern)) {\r\n    return pattern.split(',').indexOf(name) > -1\r\n  } else if (pattern.test) {\r\n    return pattern.test(name)\r\n  }\r\n  /* istanbul ignore next */\r\n  return false\r\n}\r\n\r\nexport function onActivated(\r\n  hook: Function,\r\n  target?: ComponentInternalInstance | null\r\n) {\r\n  registerKeepAliveHook(hook, LifecycleHooks.ACTIVATED, target)\r\n}\r\n\r\nexport function onDeactivated(\r\n  hook: Function,\r\n  target?: ComponentInternalInstance | null\r\n) {\r\n  registerKeepAliveHook(hook, LifecycleHooks.DEACTIVATED, target)\r\n}\r\n\r\nfunction registerKeepAliveHook(\r\n  hook: Function & { __wdc?: Function },\r\n  type: LifecycleHooks,\r\n  target: ComponentInternalInstance | null = currentInstance\r\n) {\r\n  // cache the deactivate branch check wrapper for injected hooks so the same\r\n  // hook can be properly deduped by the scheduler. \"__wdc\" stands for \"with\r\n  // deactivation check\".\r\n  const wrappedHook =\r\n    hook.__wdc ||\r\n    (hook.__wdc = () => {\r\n      // only fire the hook if the target instance is NOT in a deactivated branch.\r\n      let current: ComponentInternalInstance | null = target\r\n      while (current) {\r\n        if (current.isDeactivated) {\r\n          return\r\n        }\r\n        current = current.parent\r\n      }\r\n      hook()\r\n    })\r\n  injectHook(type, wrappedHook, target)\r\n  // In addition to registering it on the target instance, we walk up the parent\r\n  // chain and register it on all ancestor instances that are keep-alive roots.\r\n  // This avoids the need to walk the entire component tree when invoking these\r\n  // hooks, and more importantly, avoids the need to track child components in\r\n  // arrays.\r\n  if (target) {\r\n    let current = target.parent\r\n    while (current && current.parent) {\r\n      if (current.parent.type === KeepAliveImpl) {\r\n        injectToKeepAliveRoot(wrappedHook, type, target, current)\r\n      }\r\n      current = current.parent\r\n    }\r\n  }\r\n}\r\n\r\nfunction injectToKeepAliveRoot(\r\n  hook: Function,\r\n  type: LifecycleHooks,\r\n  target: ComponentInternalInstance,\r\n  keepAliveRoot: ComponentInternalInstance\r\n) {\r\n  injectHook(type, hook, keepAliveRoot, true /* prepend */)\r\n  onUnmounted(() => {\r\n    const hooks = keepAliveRoot[type]!\r\n    hooks.splice(hooks.indexOf(hook), 1)\r\n  }, target)\r\n}\r\n","import {\r\n  ComponentInternalInstance,\r\n  LifecycleHooks,\r\n  currentInstance,\r\n  setCurrentInstance\r\n} from './component'\r\nimport { ComponentPublicInstance } from './componentProxy'\r\nimport { callWithAsyncErrorHandling, ErrorTypeStrings } from './errorHandling'\r\nimport { warn } from './warning'\r\nimport { capitalize } from '@vue/shared'\r\nimport { pauseTracking, resumeTracking, DebuggerEvent } from '@vue/reactivity'\r\n\r\nexport { onActivated, onDeactivated } from './components/KeepAlive'\r\n\r\nexport function injectHook(\r\n  type: LifecycleHooks,\r\n  hook: Function & { __weh?: Function },\r\n  target: ComponentInternalInstance | null = currentInstance,\r\n  prepend: boolean = false\r\n) {\r\n  if (target) {\r\n    const hooks = target[type] || (target[type] = [])\r\n    // cache the error handling wrapper for injected hooks so the same hook\r\n    // can be properly deduped by the scheduler. \"__weh\" stands for \"with error\r\n    // handling\".\r\n    const wrappedHook =\r\n      hook.__weh ||\r\n      (hook.__weh = (...args: unknown[]) => {\r\n        if (target.isUnmounted) {\r\n          return\r\n        }\r\n        // disable tracking inside all lifecycle hooks\r\n        // since they can potentially be called inside effects.\r\n        pauseTracking()\r\n        // Set currentInstance during hook invocation.\r\n        // This assumes the hook does not synchronously trigger other hooks, which\r\n        // can only be false when the user does something really funky.\r\n        setCurrentInstance(target)\r\n        const res = callWithAsyncErrorHandling(hook, target, type, args)\r\n        setCurrentInstance(null)\r\n        resumeTracking()\r\n        return res\r\n      })\r\n    if (prepend) {\r\n      hooks.unshift(wrappedHook)\r\n    } else {\r\n      hooks.push(wrappedHook)\r\n    }\r\n  } else if (__DEV__) {\r\n    const apiName = `on${capitalize(\r\n      ErrorTypeStrings[type].replace(/ hook$/, '')\r\n    )}`\r\n    warn(\r\n      `${apiName} is called when there is no active component instance to be ` +\r\n        `associated with. ` +\r\n        `Lifecycle injection APIs can only be used during execution of setup().` +\r\n        (__FEATURE_SUSPENSE__\r\n          ? ` If you are using async setup(), make sure to register lifecycle ` +\r\n            `hooks before the first await statement.`\r\n          : ``)\r\n    )\r\n  }\r\n}\r\n\r\nexport const createHook = <T extends Function = () => any>(\r\n  lifecycle: LifecycleHooks\r\n) => (hook: T, target: ComponentInternalInstance | null = currentInstance) =>\r\n  injectHook(lifecycle, hook, target)\r\n\r\nexport const onBeforeMount = createHook(LifecycleHooks.BEFORE_MOUNT)\r\nexport const onMounted = createHook(LifecycleHooks.MOUNTED)\r\nexport const onBeforeUpdate = createHook(LifecycleHooks.BEFORE_UPDATE)\r\nexport const onUpdated = createHook(LifecycleHooks.UPDATED)\r\nexport const onBeforeUnmount = createHook(LifecycleHooks.BEFORE_UNMOUNT)\r\nexport const onUnmounted = createHook(LifecycleHooks.UNMOUNTED)\r\n\r\nexport type DebuggerHook = (e: DebuggerEvent) => void\r\nexport const onRenderTriggered = createHook<DebuggerHook>(\r\n  LifecycleHooks.RENDER_TRIGGERED\r\n)\r\nexport const onRenderTracked = createHook<DebuggerHook>(\r\n  LifecycleHooks.RENDER_TRACKED\r\n)\r\n\r\nexport type ErrorCapturedHook = (\r\n  err: Error,\r\n  instance: ComponentPublicInstance | null,\r\n  info: string\r\n) => boolean | void\r\nexport const onErrorCaptured = createHook<ErrorCapturedHook>(\r\n  LifecycleHooks.ERROR_CAPTURED\r\n)\r\n","import {\r\n  effect,\r\n  stop,\r\n  isRef,\r\n  Ref,\r\n  ComputedRef,\r\n  ReactiveEffectOptions\r\n} from '@vue/reactivity'\r\nimport { queueJob } from './scheduler'\r\nimport {\r\n  EMPTY_OBJ,\r\n  isObject,\r\n  isArray,\r\n  isFunction,\r\n  isString,\r\n  hasChanged\r\n} from '@vue/shared'\r\nimport { recordEffect } from './apiReactivity'\r\nimport {\r\n  currentInstance,\r\n  ComponentInternalInstance,\r\n  currentSuspense,\r\n  Data\r\n} from './component'\r\nimport {\r\n  ErrorCodes,\r\n  callWithErrorHandling,\r\n  callWithAsyncErrorHandling\r\n} from './errorHandling'\r\nimport { onBeforeUnmount } from './apiLifecycle'\r\nimport { queuePostRenderEffect } from './renderer'\r\n\r\nexport type WatchHandler<T = any> = (\r\n  value: T,\r\n  oldValue: T,\r\n  onCleanup: CleanupRegistrator\r\n) => any\r\n\r\nexport interface WatchOptions {\r\n  lazy?: boolean\r\n  flush?: 'pre' | 'post' | 'sync'\r\n  deep?: boolean\r\n  onTrack?: ReactiveEffectOptions['onTrack']\r\n  onTrigger?: ReactiveEffectOptions['onTrigger']\r\n}\r\n\r\ntype StopHandle = () => void\r\n\r\ntype WatcherSource<T = any> = Ref<T> | ComputedRef<T> | (() => T)\r\n\r\ntype MapSources<T> = {\r\n  [K in keyof T]: T[K] extends WatcherSource<infer V> ? V : never\r\n}\r\n\r\nexport type CleanupRegistrator = (invalidate: () => void) => void\r\n\r\ntype SimpleEffect = (onCleanup: CleanupRegistrator) => void\r\n\r\nconst invoke = (fn: Function) => fn()\r\n\r\n// overload #1: simple effect\r\nexport function watch(effect: SimpleEffect, options?: WatchOptions): StopHandle\r\n\r\n// overload #2: single source + cb\r\nexport function watch<T>(\r\n  source: WatcherSource<T>,\r\n  cb: WatchHandler<T>,\r\n  options?: WatchOptions\r\n): StopHandle\r\n\r\n// overload #3: array of multiple sources + cb\r\n// Readonly constraint helps the callback to correctly infer value types based\r\n// on position in the source array. Otherwise the values will get a union type\r\n// of all possible value types.\r\nexport function watch<T extends Readonly<WatcherSource<unknown>[]>>(\r\n  sources: T,\r\n  cb: WatchHandler<MapSources<T>>,\r\n  options?: WatchOptions\r\n): StopHandle\r\n\r\n// implementation\r\nexport function watch<T = any>(\r\n  effectOrSource: WatcherSource<T> | WatcherSource<T>[] | SimpleEffect,\r\n  cbOrOptions?: WatchHandler<T> | WatchOptions,\r\n  options?: WatchOptions\r\n): StopHandle {\r\n  if (isFunction(cbOrOptions)) {\r\n    // effect callback as 2nd argument - this is a source watcher\r\n    return doWatch(effectOrSource, cbOrOptions, options)\r\n  } else {\r\n    // 2nd argument is either missing or an options object\r\n    // - this is a simple effect watcher\r\n    return doWatch(effectOrSource, null, cbOrOptions)\r\n  }\r\n}\r\n\r\nfunction doWatch(\r\n  source: WatcherSource | WatcherSource[] | SimpleEffect,\r\n  cb: WatchHandler | null,\r\n  { lazy, deep, flush, onTrack, onTrigger }: WatchOptions = EMPTY_OBJ\r\n): StopHandle {\r\n  const instance = currentInstance\r\n  const suspense = currentSuspense\r\n\r\n  let getter: () => any\r\n  if (isArray(source)) {\r\n    getter = () =>\r\n      source.map(\r\n        s =>\r\n          isRef(s)\r\n            ? s.value\r\n            : callWithErrorHandling(s, instance, ErrorCodes.WATCH_GETTER)\r\n      )\r\n  } else if (isRef(source)) {\r\n    getter = () => source.value\r\n  } else if (cb) {\r\n    // getter with cb\r\n    getter = () =>\r\n      callWithErrorHandling(source, instance, ErrorCodes.WATCH_GETTER)\r\n  } else {\r\n    // no cb -> simple effect\r\n    getter = () => {\r\n      if (instance && instance.isUnmounted) {\r\n        return\r\n      }\r\n      if (cleanup) {\r\n        cleanup()\r\n      }\r\n      return callWithErrorHandling(\r\n        source,\r\n        instance,\r\n        ErrorCodes.WATCH_CALLBACK,\r\n        [registerCleanup]\r\n      )\r\n    }\r\n  }\r\n\r\n  if (deep) {\r\n    const baseGetter = getter\r\n    getter = () => traverse(baseGetter())\r\n  }\r\n\r\n  let cleanup: Function\r\n  const registerCleanup: CleanupRegistrator = (fn: () => void) => {\r\n    cleanup = runner.options.onStop = () => {\r\n      callWithErrorHandling(fn, instance, ErrorCodes.WATCH_CLEANUP)\r\n    }\r\n  }\r\n\r\n  let oldValue = isArray(source) ? [] : undefined\r\n  const applyCb = cb\r\n    ? () => {\r\n        if (instance && instance.isUnmounted) {\r\n          return\r\n        }\r\n        const newValue = runner()\r\n        if (deep || hasChanged(newValue, oldValue)) {\r\n          // cleanup before running cb again\r\n          if (cleanup) {\r\n            cleanup()\r\n          }\r\n          callWithAsyncErrorHandling(cb, instance, ErrorCodes.WATCH_CALLBACK, [\r\n            newValue,\r\n            oldValue,\r\n            registerCleanup\r\n          ])\r\n          oldValue = newValue\r\n        }\r\n      }\r\n    : void 0\r\n\r\n  let scheduler: (job: () => any) => void\r\n  if (flush === 'sync') {\r\n    scheduler = invoke\r\n  } else if (flush === 'pre') {\r\n    scheduler = job => {\r\n      if (!instance || instance.vnode.el != null) {\r\n        queueJob(job)\r\n      } else {\r\n        // with 'pre' option, the first call must happen before\r\n        // the component is mounted so it is called synchronously.\r\n        job()\r\n      }\r\n    }\r\n  } else {\r\n    scheduler = job => {\r\n      queuePostRenderEffect(job, suspense)\r\n    }\r\n  }\r\n\r\n  const runner = effect(getter, {\r\n    lazy: true,\r\n    // so it runs before component update effects in pre flush mode\r\n    computed: true,\r\n    onTrack,\r\n    onTrigger,\r\n    scheduler: applyCb ? () => scheduler(applyCb) : scheduler\r\n  })\r\n\r\n  if (!lazy) {\r\n    if (applyCb) {\r\n      scheduler(applyCb)\r\n    } else {\r\n      scheduler(runner)\r\n    }\r\n  } else {\r\n    oldValue = runner()\r\n  }\r\n\r\n  recordEffect(runner)\r\n  return () => {\r\n    stop(runner)\r\n  }\r\n}\r\n\r\n// this.$watch\r\nexport function instanceWatch(\r\n  this: ComponentInternalInstance,\r\n  source: string | Function,\r\n  cb: Function,\r\n  options?: WatchOptions\r\n): StopHandle {\r\n  const ctx = this.renderProxy as Data\r\n  const getter = isString(source) ? () => ctx[source] : source.bind(ctx)\r\n  const stop = watch(getter, cb.bind(ctx), options)\r\n  onBeforeUnmount(stop, this)\r\n  return stop\r\n}\r\n\r\nfunction traverse(value: unknown, seen: Set<unknown> = new Set()) {\r\n  if (!isObject(value) || seen.has(value)) {\r\n    return\r\n  }\r\n  seen.add(value)\r\n  if (isArray(value)) {\r\n    for (let i = 0; i < value.length; i++) {\r\n      traverse(value[i], seen)\r\n    }\r\n  } else if (value instanceof Map) {\r\n    value.forEach((v, key) => {\r\n      // to register mutation dep for existing keys\r\n      traverse(value.get(key), seen)\r\n    })\r\n  } else if (value instanceof Set) {\r\n    value.forEach(v => {\r\n      traverse(v, seen)\r\n    })\r\n  } else {\r\n    for (const key in value) {\r\n      traverse(value[key], seen)\r\n    }\r\n  }\r\n  return value\r\n}\r\n","import { ComponentInternalInstance, Data, Emit } from './component'\r\nimport { nextTick } from './scheduler'\r\nimport { instanceWatch } from './apiWatch'\r\nimport { EMPTY_OBJ, hasOwn, isGloballyWhitelisted } from '@vue/shared'\r\nimport {\r\n  ExtractComputedReturns,\r\n  ComponentOptionsBase,\r\n  ComputedOptions,\r\n  MethodOptions\r\n} from './apiOptions'\r\nimport { UnwrapRef, ReactiveEffect } from '@vue/reactivity'\r\nimport { warn } from './warning'\r\nimport { Slots } from './componentSlots'\r\nimport {\r\n  currentRenderingInstance,\r\n  markAttrsAccessed\r\n} from './componentRenderUtils'\r\n\r\n// public properties exposed on the proxy, which is used as the render context\r\n// in templates (as `this` in the render option)\r\nexport type ComponentPublicInstance<\r\n  P = {},\r\n  B = {},\r\n  D = {},\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {},\r\n  PublicProps = P\r\n> = {\r\n  $data: D\r\n  $props: PublicProps\r\n  $attrs: Data\r\n  $refs: Data\r\n  $slots: Slots\r\n  $root: ComponentInternalInstance | null\r\n  $parent: ComponentInternalInstance | null\r\n  $emit: Emit\r\n  $el: any\r\n  $options: ComponentOptionsBase<P, B, D, C, M>\r\n  $forceUpdate: ReactiveEffect\r\n  $nextTick: typeof nextTick\r\n  $watch: typeof instanceWatch\r\n} & P &\r\n  UnwrapRef<B> &\r\n  D &\r\n  ExtractComputedReturns<C> &\r\n  M\r\n\r\nconst publicPropertiesMap = {\r\n  $data: 'data',\r\n  $props: 'propsProxy',\r\n  $attrs: 'attrs',\r\n  $slots: 'slots',\r\n  $refs: 'refs',\r\n  $parent: 'parent',\r\n  $root: 'root',\r\n  $emit: 'emit',\r\n  $options: 'type'\r\n}\r\n\r\nconst enum AccessTypes {\r\n  DATA,\r\n  CONTEXT,\r\n  PROPS\r\n}\r\n\r\nexport const PublicInstanceProxyHandlers: ProxyHandler<any> = {\r\n  get(target: ComponentInternalInstance, key: string) {\r\n    // fast path for unscopables when using `with` block\r\n    if (__RUNTIME_COMPILE__ && (key as any) === Symbol.unscopables) {\r\n      return\r\n    }\r\n    const {\r\n      renderContext,\r\n      data,\r\n      props,\r\n      propsProxy,\r\n      accessCache,\r\n      type,\r\n      sink\r\n    } = target\r\n    // This getter gets called for every property access on the render context\r\n    // during render and is a major hotspot. The most expensive part of this\r\n    // is the multiple hasOwn() calls. It's much faster to do a simple property\r\n    // access on a plain object, so we use an accessCache object (with null\r\n    // prototype) to memoize what access type a key corresponds to.\r\n    const n = accessCache![key]\r\n    if (n !== undefined) {\r\n      switch (n) {\r\n        case AccessTypes.DATA:\r\n          return data[key]\r\n        case AccessTypes.CONTEXT:\r\n          return renderContext[key]\r\n        case AccessTypes.PROPS:\r\n          return propsProxy![key]\r\n      }\r\n    } else if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n      accessCache![key] = AccessTypes.DATA\r\n      return data[key]\r\n    } else if (hasOwn(renderContext, key)) {\r\n      accessCache![key] = AccessTypes.CONTEXT\r\n      return renderContext[key]\r\n    } else if (hasOwn(props, key)) {\r\n      // only cache props access if component has declared (thus stable) props\r\n      if (type.props != null) {\r\n        accessCache![key] = AccessTypes.PROPS\r\n      }\r\n      // return the value from propsProxy for ref unwrapping and readonly\r\n      return propsProxy![key]\r\n    } else if (key === '$') {\r\n      // reserved backdoor to access the internal instance\r\n      return target\r\n    } else if (key === '$cache') {\r\n      return target.renderCache || (target.renderCache = [])\r\n    } else if (key === '$el') {\r\n      return target.vnode.el\r\n    } else if (hasOwn(publicPropertiesMap, key)) {\r\n      if (__DEV__ && key === '$attrs') {\r\n        markAttrsAccessed()\r\n      }\r\n      return target[publicPropertiesMap[key]]\r\n    }\r\n    // methods are only exposed when options are supported\r\n    if (__FEATURE_OPTIONS__) {\r\n      switch (key) {\r\n        case '$forceUpdate':\r\n          return target.update\r\n        case '$nextTick':\r\n          return nextTick\r\n        case '$watch':\r\n          return instanceWatch.bind(target)\r\n      }\r\n    }\r\n    if (hasOwn(sink, key)) {\r\n      return sink[key]\r\n    } else if (__DEV__ && currentRenderingInstance != null) {\r\n      warn(\r\n        `Property ${JSON.stringify(key)} was accessed during render ` +\r\n          `but is not defined on instance.`\r\n      )\r\n    }\r\n  },\r\n\r\n  set(target: ComponentInternalInstance, key: string, value: any): boolean {\r\n    const { data, renderContext } = target\r\n    if (data !== EMPTY_OBJ && hasOwn(data, key)) {\r\n      data[key] = value\r\n    } else if (hasOwn(renderContext, key)) {\r\n      renderContext[key] = value\r\n    } else if (key[0] === '$' && key.slice(1) in target) {\r\n      __DEV__ &&\r\n        warn(\r\n          `Attempting to mutate public property \"${key}\". ` +\r\n            `Properties starting with $ are reserved and readonly.`,\r\n          target\r\n        )\r\n      return false\r\n    } else if (key in target.props) {\r\n      __DEV__ &&\r\n        warn(`Attempting to mutate prop \"${key}\". Props are readonly.`, target)\r\n      return false\r\n    } else {\r\n      target.sink[key] = value\r\n    }\r\n    return true\r\n  }\r\n}\r\n\r\nif (__RUNTIME_COMPILE__) {\r\n  // this trap is only called in browser-compiled render functions that use\r\n  // `with (this) {}`\r\n  PublicInstanceProxyHandlers.has = (\r\n    _: ComponentInternalInstance,\r\n    key: string\r\n  ): boolean => {\r\n    return key[0] !== '_' && !isGloballyWhitelisted(key)\r\n  }\r\n}\r\n","import { currentInstance } from './component'\r\nimport { currentRenderingInstance } from './componentRenderUtils'\r\nimport { warn } from './warning'\r\n\r\nexport interface InjectionKey<T> extends Symbol {}\r\n\r\nexport function provide<T>(key: InjectionKey<T> | string, value: T) {\r\n  if (!currentInstance) {\r\n    if (__DEV__) {\r\n      warn(`provide() can only be used inside setup().`)\r\n    }\r\n  } else {\r\n    let provides = currentInstance.provides\r\n    // by default an instance inherits its parent's provides object\r\n    // but when it needs to provide values of its own, it creates its\r\n    // own provides object using parent provides object as prototype.\r\n    // this way in `inject` we can simply look up injections from direct\r\n    // parent and let the prototype chain do the work.\r\n    const parentProvides =\r\n      currentInstance.parent && currentInstance.parent.provides\r\n    if (parentProvides === provides) {\r\n      provides = currentInstance.provides = Object.create(parentProvides)\r\n    }\r\n    // TS doesn't allow symbol as index type\r\n    provides[key as string] = value\r\n  }\r\n}\r\n\r\nexport function inject<T>(key: InjectionKey<T> | string): T | undefined\r\nexport function inject<T>(key: InjectionKey<T> | string, defaultValue: T): T\r\nexport function inject(\r\n  key: InjectionKey<any> | string,\r\n  defaultValue?: unknown\r\n) {\r\n  // fallback to `currentRenderingInstance` so that this can be called in\r\n  // a functional component\r\n  const instance = currentInstance || currentRenderingInstance\r\n  if (instance) {\r\n    const provides = instance.provides\r\n    if (key in provides) {\r\n      // TS doesn't allow symbol as index type\r\n      return provides[key as string]\r\n    } else if (defaultValue !== undefined) {\r\n      return defaultValue\r\n    } else if (__DEV__) {\r\n      warn(`injection \"${String(key)}\" not found.`)\r\n    }\r\n  } else if (__DEV__) {\r\n    warn(`inject() can only be used inside setup() or functional components.`)\r\n  }\r\n}\r\n","import {\r\n  ComponentInternalInstance,\r\n  Data,\r\n  Component,\r\n  SetupContext,\r\n  RenderFunction\r\n} from './component'\r\nimport {\r\n  isFunction,\r\n  extend,\r\n  isString,\r\n  isObject,\r\n  isArray,\r\n  EMPTY_OBJ,\r\n  NOOP\r\n} from '@vue/shared'\r\nimport { computed } from './apiReactivity'\r\nimport { watch, WatchOptions, WatchHandler } from './apiWatch'\r\nimport { provide, inject } from './apiInject'\r\nimport {\r\n  onBeforeMount,\r\n  onMounted,\r\n  onBeforeUpdate,\r\n  onUpdated,\r\n  onErrorCaptured,\r\n  onRenderTracked,\r\n  onBeforeUnmount,\r\n  onUnmounted,\r\n  onActivated,\r\n  onDeactivated,\r\n  onRenderTriggered,\r\n  DebuggerHook,\r\n  ErrorCapturedHook\r\n} from './apiLifecycle'\r\nimport {\r\n  reactive,\r\n  ComputedGetter,\r\n  WritableComputedOptions\r\n} from '@vue/reactivity'\r\nimport { ComponentObjectPropsOptions, ExtractPropTypes } from './componentProps'\r\nimport { Directive } from './directives'\r\nimport { ComponentPublicInstance } from './componentProxy'\r\nimport { warn } from './warning'\r\n\r\nexport interface ComponentOptionsBase<\r\n  Props,\r\n  RawBindings,\r\n  D,\r\n  C extends ComputedOptions,\r\n  M extends MethodOptions\r\n> extends LegacyOptions<Props, RawBindings, D, C, M> {\r\n  setup?: (\r\n    this: null,\r\n    props: Props,\r\n    ctx: SetupContext\r\n  ) => RawBindings | RenderFunction | void\r\n  name?: string\r\n  template?: string\r\n  // Note: we are intentionally using the signature-less `Function` type here\r\n  // since any type with signature will cause the whole inference to fail when\r\n  // the return expression contains reference to `this`.\r\n  // Luckily `render()` doesn't need any arguments nor does it care about return\r\n  // type.\r\n  render?: Function\r\n  components?: Record<string, Component>\r\n  directives?: Record<string, Directive>\r\n  inheritAttrs?: boolean\r\n\r\n  // type-only differentiator to separate OptionWihtoutProps from a constructor\r\n  // type returned by createComponent() or FunctionalComponent\r\n  call?: never\r\n  // type-only differentiators for built-in Vnode types\r\n  __isFragment?: never\r\n  __isPortal?: never\r\n  __isSuspense?: never\r\n}\r\n\r\nexport type ComponentOptionsWithoutProps<\r\n  Props = {},\r\n  RawBindings = {},\r\n  D = {},\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {}\r\n> = ComponentOptionsBase<Props, RawBindings, D, C, M> & {\r\n  props?: undefined\r\n} & ThisType<ComponentPublicInstance<{}, RawBindings, D, C, M, Readonly<Props>>>\r\n\r\nexport type ComponentOptionsWithArrayProps<\r\n  PropNames extends string = string,\r\n  RawBindings = {},\r\n  D = {},\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {},\r\n  Props = Readonly<{ [key in PropNames]?: any }>\r\n> = ComponentOptionsBase<Props, RawBindings, D, C, M> & {\r\n  props: PropNames[]\r\n} & ThisType<ComponentPublicInstance<Props, RawBindings, D, C, M>>\r\n\r\nexport type ComponentOptionsWithObjectProps<\r\n  PropsOptions = ComponentObjectPropsOptions,\r\n  RawBindings = {},\r\n  D = {},\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {},\r\n  Props = Readonly<ExtractPropTypes<PropsOptions>>\r\n> = ComponentOptionsBase<Props, RawBindings, D, C, M> & {\r\n  props: PropsOptions\r\n} & ThisType<ComponentPublicInstance<Props, RawBindings, D, C, M>>\r\n\r\nexport type ComponentOptions =\r\n  | ComponentOptionsWithoutProps\r\n  | ComponentOptionsWithObjectProps\r\n  | ComponentOptionsWithArrayProps\r\n\r\n// TODO legacy component definition also supports constructors with .options\r\ntype LegacyComponent = ComponentOptions\r\n\r\nexport type ComputedOptions = Record<\r\n  string,\r\n  ComputedGetter<any> | WritableComputedOptions<any>\r\n>\r\n\r\nexport interface MethodOptions {\r\n  [key: string]: Function\r\n}\r\n\r\nexport type ExtractComputedReturns<T extends any> = {\r\n  [key in keyof T]: T[key] extends { get: Function }\r\n    ? ReturnType<T[key]['get']>\r\n    : ReturnType<T[key]>\r\n}\r\n\r\ntype WatchOptionItem =\r\n  | string\r\n  | WatchHandler\r\n  | { handler: WatchHandler } & WatchOptions\r\n\r\ntype ComponentWatchOptionItem = WatchOptionItem | WatchOptionItem[]\r\n\r\ntype ComponentWatchOptions = Record<string, ComponentWatchOptionItem>\r\n\r\ntype ComponentInjectOptions =\r\n  | string[]\r\n  | Record<\r\n      string | symbol,\r\n      string | symbol | { from: string | symbol; default?: unknown }\r\n    >\r\n\r\n// TODO type inference for these options\r\nexport interface LegacyOptions<\r\n  Props,\r\n  RawBindings,\r\n  D,\r\n  C extends ComputedOptions,\r\n  M extends MethodOptions\r\n> {\r\n  el?: any\r\n\r\n  // state\r\n  // Limitation: we cannot expose RawBindings on the `this` context for data\r\n  // since that leads to some sort of circular inference and breaks ThisType\r\n  // for the entire component.\r\n  data?: D | ((this: ComponentPublicInstance<Props>) => D)\r\n  computed?: C\r\n  methods?: M\r\n  watch?: ComponentWatchOptions\r\n  provide?: Data | Function\r\n  inject?: ComponentInjectOptions\r\n\r\n  // composition\r\n  mixins?: LegacyComponent[]\r\n  extends?: LegacyComponent\r\n\r\n  // lifecycle\r\n  beforeCreate?(): void\r\n  created?(): void\r\n  beforeMount?(): void\r\n  mounted?(): void\r\n  beforeUpdate?(): void\r\n  updated?(): void\r\n  activated?(): void\r\n  deactivated?(): void\r\n  beforeUnmount?(): void\r\n  unmounted?(): void\r\n  renderTracked?: DebuggerHook\r\n  renderTriggered?: DebuggerHook\r\n  errorCaptured?: ErrorCapturedHook\r\n}\r\n\r\nconst enum OptionTypes {\r\n  PROPS = 'Props',\r\n  DATA = 'Data',\r\n  COMPUTED = 'Computed',\r\n  METHODS = 'Methods',\r\n  INJECT = 'Inject'\r\n}\r\n\r\nfunction createDuplicateChecker() {\r\n  const cache = Object.create(null)\r\n  return (type: OptionTypes, key: string) => {\r\n    if (cache[key]) {\r\n      warn(`${type} property \"${key}\" is already defined in ${cache[key]}.`)\r\n    } else {\r\n      cache[key] = type\r\n    }\r\n  }\r\n}\r\n\r\nexport function applyOptions(\r\n  instance: ComponentInternalInstance,\r\n  options: ComponentOptions,\r\n  asMixin: boolean = false\r\n) {\r\n  const renderContext =\r\n    instance.renderContext === EMPTY_OBJ\r\n      ? (instance.renderContext = reactive({}))\r\n      : instance.renderContext\r\n  const ctx = instance.renderProxy!\r\n  const {\r\n    // composition\r\n    mixins,\r\n    extends: extendsOptions,\r\n    // state\r\n    props: propsOptions,\r\n    data: dataOptions,\r\n    computed: computedOptions,\r\n    methods,\r\n    watch: watchOptions,\r\n    provide: provideOptions,\r\n    inject: injectOptions,\r\n    // assets\r\n    components,\r\n    directives,\r\n    // lifecycle\r\n    beforeMount,\r\n    mounted,\r\n    beforeUpdate,\r\n    updated,\r\n    activated,\r\n    deactivated,\r\n    beforeUnmount,\r\n    unmounted,\r\n    renderTracked,\r\n    renderTriggered,\r\n    errorCaptured\r\n  } = options\r\n\r\n  const globalMixins = instance.appContext.mixins\r\n  // call it only during dev\r\n  const checkDuplicateProperties = __DEV__ ? createDuplicateChecker() : null\r\n  // applyOptions is called non-as-mixin once per instance\r\n  if (!asMixin) {\r\n    callSyncHook('beforeCreate', options, ctx, globalMixins)\r\n    // global mixins are applied first\r\n    applyMixins(instance, globalMixins)\r\n  }\r\n  // extending a base component...\r\n  if (extendsOptions) {\r\n    applyOptions(instance, extendsOptions, true)\r\n  }\r\n  // local mixins\r\n  if (mixins) {\r\n    applyMixins(instance, mixins)\r\n  }\r\n\r\n  if (__DEV__ && propsOptions) {\r\n    for (const key in propsOptions) {\r\n      checkDuplicateProperties!(OptionTypes.PROPS, key)\r\n    }\r\n  }\r\n\r\n  // state options\r\n  if (dataOptions) {\r\n    const data = isFunction(dataOptions) ? dataOptions.call(ctx) : dataOptions\r\n    if (!isObject(data)) {\r\n      __DEV__ && warn(`data() should return an object.`)\r\n    } else if (instance.data === EMPTY_OBJ) {\r\n      if (__DEV__) {\r\n        for (const key in data) {\r\n          checkDuplicateProperties!(OptionTypes.DATA, key)\r\n        }\r\n      }\r\n      instance.data = reactive(data)\r\n    } else {\r\n      // existing data: this is a mixin or extends.\r\n      extend(instance.data, data)\r\n    }\r\n  }\r\n  if (computedOptions) {\r\n    for (const key in computedOptions) {\r\n      const opt = (computedOptions as ComputedOptions)[key]\r\n\r\n      __DEV__ && checkDuplicateProperties!(OptionTypes.COMPUTED, key)\r\n\r\n      if (isFunction(opt)) {\r\n        renderContext[key] = computed(opt.bind(ctx))\r\n      } else {\r\n        const { get, set } = opt\r\n        if (isFunction(get)) {\r\n          renderContext[key] = computed({\r\n            get: get.bind(ctx),\r\n            set: isFunction(set)\r\n              ? set.bind(ctx)\r\n              : __DEV__\r\n                ? () => {\r\n                    warn(\r\n                      `Computed property \"${key}\" was assigned to but it has no setter.`\r\n                    )\r\n                  }\r\n                : NOOP\r\n          })\r\n        } else if (__DEV__) {\r\n          warn(`Computed property \"${key}\" has no getter.`)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (methods) {\r\n    for (const key in methods) {\r\n      const methodHandler = (methods as MethodOptions)[key]\r\n      if (isFunction(methodHandler)) {\r\n        __DEV__ && checkDuplicateProperties!(OptionTypes.METHODS, key)\r\n        renderContext[key] = methodHandler.bind(ctx)\r\n      } else if (__DEV__) {\r\n        warn(\r\n          `Method \"${key}\" has type \"${typeof methodHandler}\" in the component definition. ` +\r\n            `Did you reference the function correctly?`\r\n        )\r\n      }\r\n    }\r\n  }\r\n  if (watchOptions) {\r\n    for (const key in watchOptions) {\r\n      createWatcher(watchOptions[key], renderContext, ctx, key)\r\n    }\r\n  }\r\n  if (provideOptions) {\r\n    const provides = isFunction(provideOptions)\r\n      ? provideOptions.call(ctx)\r\n      : provideOptions\r\n    for (const key in provides) {\r\n      provide(key, provides[key])\r\n    }\r\n  }\r\n  if (injectOptions) {\r\n    if (isArray(injectOptions)) {\r\n      for (let i = 0; i < injectOptions.length; i++) {\r\n        const key = injectOptions[i]\r\n        __DEV__ && checkDuplicateProperties!(OptionTypes.INJECT, key)\r\n        renderContext[key] = inject(key)\r\n      }\r\n    } else {\r\n      for (const key in injectOptions) {\r\n        __DEV__ && checkDuplicateProperties!(OptionTypes.INJECT, key)\r\n        const opt = injectOptions[key]\r\n        if (isObject(opt)) {\r\n          renderContext[key] = inject(opt.from, opt.default)\r\n        } else {\r\n          renderContext[key] = inject(opt)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // asset options\r\n  if (components) {\r\n    extend(instance.components, components)\r\n  }\r\n  if (directives) {\r\n    extend(instance.directives, directives)\r\n  }\r\n\r\n  // lifecycle options\r\n  if (!asMixin) {\r\n    callSyncHook('created', options, ctx, globalMixins)\r\n  }\r\n  if (beforeMount) {\r\n    onBeforeMount(beforeMount.bind(ctx))\r\n  }\r\n  if (mounted) {\r\n    onMounted(mounted.bind(ctx))\r\n  }\r\n  if (beforeUpdate) {\r\n    onBeforeUpdate(beforeUpdate.bind(ctx))\r\n  }\r\n  if (updated) {\r\n    onUpdated(updated.bind(ctx))\r\n  }\r\n  if (activated) {\r\n    onActivated(activated.bind(ctx))\r\n  }\r\n  if (deactivated) {\r\n    onDeactivated(deactivated.bind(ctx))\r\n  }\r\n  if (errorCaptured) {\r\n    onErrorCaptured(errorCaptured.bind(ctx))\r\n  }\r\n  if (renderTracked) {\r\n    onRenderTracked(renderTracked.bind(ctx))\r\n  }\r\n  if (renderTriggered) {\r\n    onRenderTriggered(renderTriggered.bind(ctx))\r\n  }\r\n  if (beforeUnmount) {\r\n    onBeforeUnmount(beforeUnmount.bind(ctx))\r\n  }\r\n  if (unmounted) {\r\n    onUnmounted(unmounted.bind(ctx))\r\n  }\r\n}\r\n\r\nfunction callSyncHook(\r\n  name: 'beforeCreate' | 'created',\r\n  options: ComponentOptions,\r\n  ctx: ComponentPublicInstance,\r\n  globalMixins: ComponentOptions[]\r\n) {\r\n  callHookFromMixins(name, globalMixins, ctx)\r\n  const baseHook = options.extends && options.extends[name]\r\n  if (baseHook) {\r\n    baseHook.call(ctx)\r\n  }\r\n  const mixins = options.mixins\r\n  if (mixins) {\r\n    callHookFromMixins(name, mixins, ctx)\r\n  }\r\n  const selfHook = options[name]\r\n  if (selfHook) {\r\n    selfHook.call(ctx)\r\n  }\r\n}\r\n\r\nfunction callHookFromMixins(\r\n  name: 'beforeCreate' | 'created',\r\n  mixins: ComponentOptions[],\r\n  ctx: ComponentPublicInstance\r\n) {\r\n  for (let i = 0; i < mixins.length; i++) {\r\n    const fn = mixins[i][name]\r\n    if (fn) {\r\n      fn.call(ctx)\r\n    }\r\n  }\r\n}\r\n\r\nfunction applyMixins(\r\n  instance: ComponentInternalInstance,\r\n  mixins: ComponentOptions[]\r\n) {\r\n  for (let i = 0; i < mixins.length; i++) {\r\n    applyOptions(instance, mixins[i], true)\r\n  }\r\n}\r\n\r\nfunction createWatcher(\r\n  raw: ComponentWatchOptionItem,\r\n  renderContext: Data,\r\n  ctx: ComponentPublicInstance,\r\n  key: string\r\n) {\r\n  const getter = () => (ctx as Data)[key]\r\n  if (isString(raw)) {\r\n    const handler = renderContext[raw]\r\n    if (isFunction(handler)) {\r\n      watch(getter, handler as WatchHandler)\r\n    } else if (__DEV__) {\r\n      warn(`Invalid watch handler specified by key \"${raw}\"`, handler)\r\n    }\r\n  } else if (isFunction(raw)) {\r\n    watch(getter, raw.bind(ctx))\r\n  } else if (isObject(raw)) {\r\n    if (isArray(raw)) {\r\n      raw.forEach(r => createWatcher(r, renderContext, ctx, key))\r\n    } else {\r\n      watch(getter, raw.handler.bind(ctx), raw)\r\n    }\r\n  } else if (__DEV__) {\r\n    warn(`Invalid watch option: \"${key}\"`)\r\n  }\r\n}\r\n","import { VNode, VNodeChild, isVNode } from './vnode'\r\nimport { ReactiveEffect, reactive, readonlyProps } from '@vue/reactivity'\r\nimport {\r\n  PublicInstanceProxyHandlers,\r\n  ComponentPublicInstance\r\n} from './componentProxy'\r\nimport { ComponentPropsOptions } from './componentProps'\r\nimport { Slots } from './componentSlots'\r\nimport { warn } from './warning'\r\nimport {\r\n  ErrorCodes,\r\n  callWithErrorHandling,\r\n  callWithAsyncErrorHandling\r\n} from './errorHandling'\r\nimport { AppContext, createAppContext, AppConfig } from './apiApp'\r\nimport { Directive, validateDirectiveName } from './directives'\r\nimport { applyOptions, ComponentOptions } from './apiOptions'\r\nimport {\r\n  EMPTY_OBJ,\r\n  isFunction,\r\n  capitalize,\r\n  NOOP,\r\n  isObject,\r\n  NO,\r\n  makeMap,\r\n  isPromise,\r\n  generateCodeFrame\r\n} from '@vue/shared'\r\nimport { SuspenseBoundary } from './components/Suspense'\r\nimport { CompilerError, CompilerOptions } from '@vue/compiler-core'\r\nimport { currentRenderingInstance } from './componentRenderUtils'\r\n\r\nexport type Data = { [key: string]: unknown }\r\n\r\nexport interface FunctionalComponent<P = {}> {\r\n  (props: P, ctx: SetupContext): VNodeChild\r\n  props?: ComponentPropsOptions<P>\r\n  inheritAttrs?: boolean\r\n  displayName?: string\r\n}\r\n\r\nexport type Component = ComponentOptions | FunctionalComponent\r\nexport { ComponentOptions }\r\n\r\ntype LifecycleHook = Function[] | null\r\n\r\nexport const enum LifecycleHooks {\r\n  BEFORE_CREATE = 'bc',\r\n  CREATED = 'c',\r\n  BEFORE_MOUNT = 'bm',\r\n  MOUNTED = 'm',\r\n  BEFORE_UPDATE = 'bu',\r\n  UPDATED = 'u',\r\n  BEFORE_UNMOUNT = 'bum',\r\n  UNMOUNTED = 'um',\r\n  DEACTIVATED = 'da',\r\n  ACTIVATED = 'a',\r\n  RENDER_TRIGGERED = 'rtg',\r\n  RENDER_TRACKED = 'rtc',\r\n  ERROR_CAPTURED = 'ec'\r\n}\r\n\r\nexport type Emit = (event: string, ...args: unknown[]) => void\r\n\r\nexport interface SetupContext {\r\n  attrs: Data\r\n  slots: Slots\r\n  emit: Emit\r\n}\r\n\r\nexport type RenderFunction = () => VNodeChild\r\n\r\nexport interface ComponentInternalInstance {\r\n  type: FunctionalComponent | ComponentOptions\r\n  parent: ComponentInternalInstance | null\r\n  appContext: AppContext\r\n  root: ComponentInternalInstance\r\n  vnode: VNode\r\n  next: VNode | null\r\n  subTree: VNode\r\n  update: ReactiveEffect\r\n  render: RenderFunction | null\r\n  effects: ReactiveEffect[] | null\r\n  provides: Data\r\n  // cache for renderProxy access type to avoid hasOwnProperty calls\r\n  accessCache: Data | null\r\n  // cache for render function values that rely on _ctx but won't need updates\r\n  // after initialized (e.g. inline handlers)\r\n  renderCache: (Function | VNode)[] | null\r\n\r\n  // assets for fast resolution\r\n  components: Record<string, Component>\r\n  directives: Record<string, Directive>\r\n\r\n  // the rest are only for stateful components\r\n  renderContext: Data\r\n  data: Data\r\n  props: Data\r\n  attrs: Data\r\n  slots: Slots\r\n  renderProxy: ComponentPublicInstance | null\r\n  propsProxy: Data | null\r\n  setupContext: SetupContext | null\r\n  refs: Data\r\n  emit: Emit\r\n\r\n  // suspense related\r\n  asyncDep: Promise<any> | null\r\n  asyncResult: unknown\r\n  asyncResolved: boolean\r\n\r\n  // storage for any extra properties\r\n  sink: { [key: string]: any }\r\n\r\n  // lifecycle\r\n  isMounted: boolean\r\n  isUnmounted: boolean\r\n  isDeactivated: boolean\r\n  [LifecycleHooks.BEFORE_CREATE]: LifecycleHook\r\n  [LifecycleHooks.CREATED]: LifecycleHook\r\n  [LifecycleHooks.BEFORE_MOUNT]: LifecycleHook\r\n  [LifecycleHooks.MOUNTED]: LifecycleHook\r\n  [LifecycleHooks.BEFORE_UPDATE]: LifecycleHook\r\n  [LifecycleHooks.UPDATED]: LifecycleHook\r\n  [LifecycleHooks.BEFORE_UNMOUNT]: LifecycleHook\r\n  [LifecycleHooks.UNMOUNTED]: LifecycleHook\r\n  [LifecycleHooks.RENDER_TRACKED]: LifecycleHook\r\n  [LifecycleHooks.RENDER_TRIGGERED]: LifecycleHook\r\n  [LifecycleHooks.ACTIVATED]: LifecycleHook\r\n  [LifecycleHooks.DEACTIVATED]: LifecycleHook\r\n  [LifecycleHooks.ERROR_CAPTURED]: LifecycleHook\r\n}\r\n\r\nconst emptyAppContext = createAppContext()\r\n\r\nexport function createComponentInstance(\r\n  vnode: VNode,\r\n  parent: ComponentInternalInstance | null\r\n) {\r\n  // inherit parent app context - or - if root, adopt from root vnode\r\n  const appContext =\r\n    (parent ? parent.appContext : vnode.appContext) || emptyAppContext\r\n  const instance: ComponentInternalInstance = {\r\n    vnode,\r\n    parent,\r\n    appContext,\r\n    type: vnode.type as Component,\r\n    root: null!, // set later so it can point to itself\r\n    next: null,\r\n    subTree: null!, // will be set synchronously right after creation\r\n    update: null!, // will be set synchronously right after creation\r\n    render: null,\r\n    renderProxy: null,\r\n    propsProxy: null,\r\n    setupContext: null,\r\n    effects: null,\r\n    provides: parent ? parent.provides : Object.create(appContext.provides),\r\n    accessCache: null!,\r\n    renderCache: null,\r\n\r\n    // setup context properties\r\n    renderContext: EMPTY_OBJ,\r\n    data: EMPTY_OBJ,\r\n    props: EMPTY_OBJ,\r\n    attrs: EMPTY_OBJ,\r\n    slots: EMPTY_OBJ,\r\n    refs: EMPTY_OBJ,\r\n\r\n    // per-instance asset storage (mutable during options resolution)\r\n    components: Object.create(appContext.components),\r\n    directives: Object.create(appContext.directives),\r\n\r\n    // async dependency management\r\n    asyncDep: null,\r\n    asyncResult: null,\r\n    asyncResolved: false,\r\n\r\n    // user namespace for storing whatever the user assigns to `this`\r\n    // can also be used as a wildcard storage for ad-hoc injections internally\r\n    sink: {},\r\n\r\n    // lifecycle hooks\r\n    // not using enums here because it results in computed properties\r\n    isMounted: false,\r\n    isUnmounted: false,\r\n    isDeactivated: false,\r\n    bc: null,\r\n    c: null,\r\n    bm: null,\r\n    m: null,\r\n    bu: null,\r\n    u: null,\r\n    um: null,\r\n    bum: null,\r\n    da: null,\r\n    a: null,\r\n    rtg: null,\r\n    rtc: null,\r\n    ec: null,\r\n\r\n    emit: (event, ...args) => {\r\n      const props = instance.vnode.props || EMPTY_OBJ\r\n      const handler = props[`on${event}`] || props[`on${capitalize(event)}`]\r\n      if (handler) {\r\n        callWithAsyncErrorHandling(\r\n          handler,\r\n          instance,\r\n          ErrorCodes.COMPONENT_EVENT_HANDLER,\r\n          args\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  instance.root = parent ? parent.root : instance\r\n  return instance\r\n}\r\n\r\nexport let currentInstance: ComponentInternalInstance | null = null\r\nexport let currentSuspense: SuspenseBoundary | null = null\r\n\r\nexport const getCurrentInstance: () => ComponentInternalInstance | null = () =>\r\n  currentInstance || currentRenderingInstance\r\n\r\nexport const setCurrentInstance = (\r\n  instance: ComponentInternalInstance | null\r\n) => {\r\n  currentInstance = instance\r\n}\r\n\r\nconst isBuiltInTag = /*#__PURE__*/ makeMap('slot,component')\r\n\r\nexport function validateComponentName(name: string, config: AppConfig) {\r\n  const appIsNativeTag = config.isNativeTag || NO\r\n  if (isBuiltInTag(name) || appIsNativeTag(name)) {\r\n    warn(\r\n      'Do not use built-in or reserved HTML elements as component id: ' + name\r\n    )\r\n  }\r\n}\r\n\r\nexport function setupStatefulComponent(\r\n  instance: ComponentInternalInstance,\r\n  parentSuspense: SuspenseBoundary | null\r\n) {\r\n  const Component = instance.type as ComponentOptions\r\n\r\n  if (__DEV__) {\r\n    if (Component.name) {\r\n      validateComponentName(Component.name, instance.appContext.config)\r\n    }\r\n    if (Component.components) {\r\n      const names = Object.keys(Component.components)\r\n      for (let i = 0; i < names.length; i++) {\r\n        validateComponentName(names[i], instance.appContext.config)\r\n      }\r\n    }\r\n    if (Component.directives) {\r\n      const names = Object.keys(Component.directives)\r\n      for (let i = 0; i < names.length; i++) {\r\n        validateDirectiveName(names[i])\r\n      }\r\n    }\r\n  }\r\n  // 0. create render proxy property access cache\r\n  instance.accessCache = {}\r\n  // 1. create render proxy\r\n  instance.renderProxy = new Proxy(instance, PublicInstanceProxyHandlers)\r\n  // 2. create props proxy\r\n  // the propsProxy is a reactive AND readonly proxy to the actual props.\r\n  // it will be updated in resolveProps() on updates before render\r\n  const propsProxy = (instance.propsProxy = readonlyProps(instance.props))\r\n  // 3. call setup()\r\n  const { setup } = Component\r\n  if (setup) {\r\n    const setupContext = (instance.setupContext =\r\n      setup.length > 1 ? createSetupContext(instance) : null)\r\n\r\n    currentInstance = instance\r\n    currentSuspense = parentSuspense\r\n    const setupResult = callWithErrorHandling(\r\n      setup,\r\n      instance,\r\n      ErrorCodes.SETUP_FUNCTION,\r\n      [propsProxy, setupContext]\r\n    )\r\n    currentInstance = null\r\n    currentSuspense = null\r\n\r\n    if (isPromise(setupResult)) {\r\n      if (__FEATURE_SUSPENSE__) {\r\n        // async setup returned Promise.\r\n        // bail here and wait for re-entry.\r\n        instance.asyncDep = setupResult\r\n      } else if (__DEV__) {\r\n        warn(\r\n          `setup() returned a Promise, but the version of Vue you are using ` +\r\n            `does not support it yet.`\r\n        )\r\n      }\r\n    } else {\r\n      handleSetupResult(instance, setupResult, parentSuspense)\r\n    }\r\n  } else {\r\n    finishComponentSetup(instance, parentSuspense)\r\n  }\r\n}\r\n\r\nexport function handleSetupResult(\r\n  instance: ComponentInternalInstance,\r\n  setupResult: unknown,\r\n  parentSuspense: SuspenseBoundary | null\r\n) {\r\n  if (isFunction(setupResult)) {\r\n    // setup returned an inline render function\r\n    instance.render = setupResult as RenderFunction\r\n  } else if (isObject(setupResult)) {\r\n    if (__DEV__ && isVNode(setupResult)) {\r\n      warn(\r\n        `setup() should not return VNodes directly - ` +\r\n          `return a render function instead.`\r\n      )\r\n    }\r\n    // setup returned bindings.\r\n    // assuming a render function compiled from template is present.\r\n    instance.renderContext = reactive(setupResult)\r\n  } else if (__DEV__ && setupResult !== undefined) {\r\n    warn(\r\n      `setup() should return an object. Received: ${\r\n        setupResult === null ? 'null' : typeof setupResult\r\n      }`\r\n    )\r\n  }\r\n  finishComponentSetup(instance, parentSuspense)\r\n}\r\n\r\ntype CompileFunction = (\r\n  template: string,\r\n  options?: CompilerOptions\r\n) => RenderFunction\r\n\r\nlet compile: CompileFunction | undefined\r\n\r\n// exported method uses any to avoid d.ts relying on the compiler types.\r\nexport function registerRuntimeCompiler(_compile: any) {\r\n  compile = _compile\r\n}\r\n\r\nfunction finishComponentSetup(\r\n  instance: ComponentInternalInstance,\r\n  parentSuspense: SuspenseBoundary | null\r\n) {\r\n  const Component = instance.type as ComponentOptions\r\n  if (!instance.render) {\r\n    if (__RUNTIME_COMPILE__ && Component.template && !Component.render) {\r\n      // __RUNTIME_COMPILE__ ensures `compile` is provided\r\n      Component.render = compile!(Component.template, {\r\n        isCustomElement: instance.appContext.config.isCustomElement || NO,\r\n        onError(err: CompilerError) {\r\n          if (__DEV__) {\r\n            const message = `Template compilation error: ${err.message}`\r\n            const codeFrame =\r\n              err.loc &&\r\n              generateCodeFrame(\r\n                Component.template!,\r\n                err.loc.start.offset,\r\n                err.loc.end.offset\r\n              )\r\n            warn(codeFrame ? `${message}\\n${codeFrame}` : message)\r\n          }\r\n        }\r\n      })\r\n    }\r\n    if (__DEV__ && !Component.render) {\r\n      /* istanbul ignore if */\r\n      if (!__RUNTIME_COMPILE__ && Component.template) {\r\n        warn(\r\n          `Component provides template but the build of Vue you are running ` +\r\n            `does not support on-the-fly template compilation. Either use the ` +\r\n            `full build or pre-compile the template using Vue CLI.`\r\n        )\r\n      } else {\r\n        warn(\r\n          `Component is missing${\r\n            __RUNTIME_COMPILE__ ? ` template or` : ``\r\n          } render function.`\r\n        )\r\n      }\r\n    }\r\n    instance.render = (Component.render || NOOP) as RenderFunction\r\n  }\r\n\r\n  // support for 2.x options\r\n  if (__FEATURE_OPTIONS__) {\r\n    currentInstance = instance\r\n    currentSuspense = parentSuspense\r\n    applyOptions(instance, Component)\r\n    currentInstance = null\r\n    currentSuspense = null\r\n  }\r\n\r\n  if (instance.renderContext === EMPTY_OBJ) {\r\n    instance.renderContext = reactive({})\r\n  }\r\n}\r\n\r\n// used to identify a setup context proxy\r\nexport const SetupProxySymbol = Symbol()\r\n\r\nconst SetupProxyHandlers: { [key: string]: ProxyHandler<any> } = {}\r\n;['attrs', 'slots'].forEach((type: string) => {\r\n  SetupProxyHandlers[type] = {\r\n    get: (instance, key) => instance[type][key],\r\n    has: (instance, key) => key === SetupProxySymbol || key in instance[type],\r\n    ownKeys: instance => Reflect.ownKeys(instance[type]),\r\n    // this is necessary for ownKeys to work properly\r\n    getOwnPropertyDescriptor: (instance, key) =>\r\n      Reflect.getOwnPropertyDescriptor(instance[type], key),\r\n    set: () => false,\r\n    deleteProperty: () => false\r\n  }\r\n})\r\n\r\nfunction createSetupContext(instance: ComponentInternalInstance): SetupContext {\r\n  const context = {\r\n    // attrs & slots are non-reactive, but they need to always expose\r\n    // the latest values (instance.xxx may get replaced during updates) so we\r\n    // need to expose them through a proxy\r\n    attrs: new Proxy(instance, SetupProxyHandlers.attrs),\r\n    slots: new Proxy(instance, SetupProxyHandlers.slots),\r\n    emit: instance.emit\r\n  }\r\n  return __DEV__ ? Object.freeze(context) : context\r\n}\r\n","export {\r\n  ref,\r\n  isRef,\r\n  toRefs,\r\n  reactive,\r\n  isReactive,\r\n  readonly,\r\n  isReadonly,\r\n  toRaw,\r\n  markReadonly,\r\n  markNonReactive,\r\n  effect,\r\n  // types\r\n  ReactiveEffect,\r\n  ReactiveEffectOptions,\r\n  DebuggerEvent,\r\n  OperationTypes,\r\n  Ref,\r\n  ComputedRef,\r\n  UnwrapRef,\r\n  WritableComputedOptions\r\n} from '@vue/reactivity'\r\n\r\nimport {\r\n  computed as _computed,\r\n  ComputedRef,\r\n  WritableComputedOptions,\r\n  ReactiveEffect,\r\n  WritableComputedRef,\r\n  ComputedGetter\r\n} from '@vue/reactivity'\r\n\r\nimport { currentInstance } from './component'\r\n\r\n// record effects created during a component's setup() so that they can be\r\n// stopped when the component unmounts\r\nexport function recordEffect(effect: ReactiveEffect) {\r\n  if (currentInstance) {\r\n    ;(currentInstance.effects || (currentInstance.effects = [])).push(effect)\r\n  }\r\n}\r\n\r\nexport function computed<T>(getter: ComputedGetter<T>): ComputedRef<T>\r\nexport function computed<T>(\r\n  options: WritableComputedOptions<T>\r\n): WritableComputedRef<T>\r\nexport function computed<T>(\r\n  getterOrOptions: ComputedGetter<T> | WritableComputedOptions<T>\r\n) {\r\n  const c = _computed(getterOrOptions as any)\r\n  recordEffect(c.effect)\r\n  return c\r\n}\r\n","import {\r\n  ComputedOptions,\r\n  MethodOptions,\r\n  ComponentOptionsWithoutProps,\r\n  ComponentOptionsWithArrayProps,\r\n  ComponentOptionsWithObjectProps\r\n} from './apiOptions'\r\nimport { SetupContext, RenderFunction } from './component'\r\nimport { ComponentPublicInstance } from './componentProxy'\r\nimport { ExtractPropTypes, ComponentPropsOptions } from './componentProps'\r\nimport { isFunction } from '@vue/shared'\r\nimport { VNodeProps } from './vnode'\r\n\r\n// createComponent is a utility that is primarily used for type inference\r\n// when declaring components. Type inference is provided in the component\r\n// options (provided as the argument). The returned value has artifical types\r\n// for TSX / manual render function / IDE support.\r\n\r\n// overload 1: direct setup function\r\n// (uses user defined props interface)\r\nexport function createComponent<Props, RawBindings = object>(\r\n  setup: (\r\n    props: Readonly<Props>,\r\n    ctx: SetupContext\r\n  ) => RawBindings | RenderFunction\r\n): {\r\n  new (): ComponentPublicInstance<\r\n    Props,\r\n    RawBindings,\r\n    {},\r\n    {},\r\n    {},\r\n    // public props\r\n    VNodeProps & Props\r\n  >\r\n}\r\n\r\n// overload 2: object format with no props\r\n// (uses user defined props interface)\r\n// return type is for Vetur and TSX support\r\nexport function createComponent<\r\n  Props,\r\n  RawBindings,\r\n  D,\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {}\r\n>(\r\n  options: ComponentOptionsWithoutProps<Props, RawBindings, D, C, M>\r\n): {\r\n  new (): ComponentPublicInstance<\r\n    Props,\r\n    RawBindings,\r\n    D,\r\n    C,\r\n    M,\r\n    VNodeProps & Props\r\n  >\r\n}\r\n\r\n// overload 3: object format with array props declaration\r\n// props inferred as { [key in PropNames]?: any }\r\n// return type is for Vetur and TSX support\r\nexport function createComponent<\r\n  PropNames extends string,\r\n  RawBindings,\r\n  D,\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {}\r\n>(\r\n  options: ComponentOptionsWithArrayProps<PropNames, RawBindings, D, C, M>\r\n): {\r\n  // array props technically doesn't place any contraints on props in TSX\r\n  new (): ComponentPublicInstance<VNodeProps, RawBindings, D, C, M>\r\n}\r\n\r\n// overload 4: object format with object props declaration\r\n// see `ExtractPropTypes` in ./componentProps.ts\r\nexport function createComponent<\r\n  // the Readonly constraint allows TS to treat the type of { required: true }\r\n  // as constant instead of boolean.\r\n  PropsOptions extends Readonly<ComponentPropsOptions>,\r\n  RawBindings,\r\n  D,\r\n  C extends ComputedOptions = {},\r\n  M extends MethodOptions = {}\r\n>(\r\n  options: ComponentOptionsWithObjectProps<PropsOptions, RawBindings, D, C, M>\r\n): {\r\n  new (): ComponentPublicInstance<\r\n    ExtractPropTypes<PropsOptions>,\r\n    RawBindings,\r\n    D,\r\n    C,\r\n    M,\r\n    VNodeProps & ExtractPropTypes<PropsOptions, false>\r\n  >\r\n}\r\n\r\n// implementation, close to no-op\r\nexport function createComponent(options: unknown) {\r\n  return isFunction(options) ? { setup: options } : options\r\n}\r\n","import {\r\n  VNode,\r\n  VNodeProps,\r\n  createVNode,\r\n  VNodeChildren,\r\n  Fragment,\r\n  Portal,\r\n  isVNode\r\n} from './vnode'\r\nimport { Suspense, SuspenseProps } from './components/Suspense'\r\nimport { isObject, isArray } from '@vue/shared'\r\nimport { RawSlots } from './componentSlots'\r\nimport { FunctionalComponent } from './component'\r\nimport {\r\n  ComponentOptionsWithoutProps,\r\n  ComponentOptionsWithArrayProps,\r\n  ComponentOptionsWithObjectProps,\r\n  ComponentOptions\r\n} from './apiOptions'\r\nimport { ExtractPropTypes } from './componentProps'\r\n\r\n// `h` is a more user-friendly version of `createVNode` that allows omitting the\r\n// props when possible. It is intended for manually written render functions.\r\n// Compiler-generated code uses `createVNode` because\r\n// 1. it is monomorphic and avoids the extra call overhead\r\n// 2. it allows specifying patchFlags for optimization\r\n\r\n/*\r\n// type only\r\nh('div')\r\n\r\n// type + props\r\nh('div', {})\r\n\r\n// type + omit props + children\r\n// Omit props does NOT support named slots\r\nh('div', []) // array\r\nh('div', 'foo') // text\r\nh('div', h('br')) // vnode\r\nh(Component, () => {}) // default slot\r\n\r\n// type + props + children\r\nh('div', {}, []) // array\r\nh('div', {}, 'foo') // text\r\nh('div', {}, h('br')) // vnode\r\nh(Component, {}, () => {}) // default slot\r\nh(Component, {}, {}) // named slots\r\n\r\n// named slots without props requires explicit `null` to avoid ambiguity\r\nh(Component, null, {})\r\n**/\r\n\r\ntype RawProps = VNodeProps & {\r\n  // used to differ from a single VNode object as children\r\n  _isVNode?: never\r\n  // used to differ from Array children\r\n  [Symbol.iterator]?: never\r\n}\r\n\r\ntype RawChildren =\r\n  | string\r\n  | number\r\n  | boolean\r\n  | VNode\r\n  | VNodeChildren\r\n  | (() => any)\r\n\r\n// fake constructor type returned from `createComponent`\r\ninterface Constructor<P = any> {\r\n  __isFragment?: never\r\n  __isPortal?: never\r\n  __isSuspense?: never\r\n  new (): { $props: P }\r\n}\r\n\r\n// The following is a series of overloads for providing props validation of\r\n// manually written render functions.\r\n\r\n// element\r\nexport function h(type: string, children?: RawChildren): VNode\r\nexport function h(\r\n  type: string,\r\n  props?: RawProps | null,\r\n  children?: RawChildren\r\n): VNode\r\n\r\n// fragment\r\nexport function h(type: typeof Fragment, children?: VNodeChildren): VNode\r\nexport function h(\r\n  type: typeof Fragment,\r\n  props?: RawProps | null,\r\n  children?: VNodeChildren\r\n): VNode\r\n\r\n// portal (target prop is required)\r\nexport function h(\r\n  type: typeof Portal,\r\n  props: RawProps & { target: any },\r\n  children: RawChildren\r\n): VNode\r\n\r\n// suspense\r\nexport function h(type: typeof Suspense, children?: RawChildren): VNode\r\nexport function h(\r\n  type: typeof Suspense,\r\n  props?: (RawProps & SuspenseProps) | null,\r\n  children?: RawChildren | RawSlots\r\n): VNode\r\n\r\n// functional component\r\nexport function h(type: FunctionalComponent, children?: RawChildren): VNode\r\nexport function h<P>(\r\n  type: FunctionalComponent<P>,\r\n  props?: (RawProps & P) | ({} extends P ? null : never),\r\n  children?: RawChildren | RawSlots\r\n): VNode\r\n\r\n// stateful component\r\nexport function h(type: ComponentOptions, children?: RawChildren): VNode\r\nexport function h(\r\n  type: ComponentOptionsWithoutProps | ComponentOptionsWithArrayProps,\r\n  props?: RawProps | null,\r\n  children?: RawChildren | RawSlots\r\n): VNode\r\nexport function h<O>(\r\n  type: ComponentOptionsWithObjectProps<O>,\r\n  props?:\r\n    | (RawProps & ExtractPropTypes<O>)\r\n    | ({} extends ExtractPropTypes<O> ? null : never),\r\n  children?: RawChildren | RawSlots\r\n): VNode\r\n\r\n// fake constructor type returned by `createComponent`\r\nexport function h(type: Constructor, children?: RawChildren): VNode\r\nexport function h<P>(\r\n  type: Constructor<P>,\r\n  props?: (RawProps & P) | ({} extends P ? null : never),\r\n  children?: RawChildren | RawSlots\r\n): VNode\r\n\r\n// Actual implementation\r\nexport function h(type: any, propsOrChildren?: any, children?: any): VNode {\r\n  if (arguments.length === 2) {\r\n    if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\r\n      // single vnode without props\r\n      if (isVNode(propsOrChildren)) {\r\n        return createVNode(type, null, [propsOrChildren])\r\n      }\r\n      // props without children\r\n      return createVNode(type, propsOrChildren)\r\n    } else {\r\n      // omit props\r\n      return createVNode(type, null, propsOrChildren)\r\n    }\r\n  } else {\r\n    if (isVNode(children)) {\r\n      children = [children]\r\n    }\r\n    return createVNode(type, propsOrChildren, children)\r\n  }\r\n}\r\n","export const enum ShapeFlags {\r\n  ELEMENT = 1,\r\n  FUNCTIONAL_COMPONENT = 1 << 1,\r\n  STATEFUL_COMPONENT = 1 << 2,\r\n  TEXT_CHILDREN = 1 << 3,\r\n  ARRAY_CHILDREN = 1 << 4,\r\n  SLOTS_CHILDREN = 1 << 5,\r\n  SUSPENSE = 1 << 6,\r\n  COMPONENT_SHOULD_KEEP_ALIVE = 1 << 7,\r\n  COMPONENT_KEPT_ALIVE = 1 << 8,\r\n  COMPONENT = ShapeFlags.STATEFUL_COMPONENT | ShapeFlags.FUNCTIONAL_COMPONENT\r\n}\r\n\r\n// For runtime consumption\r\nexport const PublicShapeFlags = {\r\n  ELEMENT: ShapeFlags.ELEMENT,\r\n  FUNCTIONAL_COMPONENT: ShapeFlags.FUNCTIONAL_COMPONENT,\r\n  STATEFUL_COMPONENT: ShapeFlags.STATEFUL_COMPONENT,\r\n  TEXT_CHILDREN: ShapeFlags.TEXT_CHILDREN,\r\n  ARRAY_CHILDREN: ShapeFlags.ARRAY_CHILDREN,\r\n  SLOTS_CHILDREN: ShapeFlags.SLOTS_CHILDREN,\r\n  SUSPENSE: ShapeFlags.SUSPENSE,\r\n  COMPONENT_SHOULD_KEEP_ALIVE: ShapeFlags.COMPONENT_SHOULD_KEEP_ALIVE,\r\n  COMPONENT_KEPT_ALIVE: ShapeFlags.COMPONENT_KEPT_ALIVE,\r\n  COMPONENT: ShapeFlags.COMPONENT\r\n}\r\n","import { currentRenderingInstance } from '../componentRenderUtils'\r\nimport {\r\n  currentInstance,\r\n  Component,\r\n  ComponentInternalInstance\r\n} from '../component'\r\nimport { Directive } from '../directives'\r\nimport {\r\n  camelize,\r\n  capitalize,\r\n  isString,\r\n  isObject,\r\n  isFunction\r\n} from '@vue/shared'\r\nimport { warn } from '../warning'\r\n\r\nexport function resolveComponent(name: string): Component | undefined {\r\n  return resolveAsset('components', name)\r\n}\r\n\r\nexport function resolveDynamicComponent(\r\n  component: unknown,\r\n  // Dynamic component resolution has to be called inline due to potential\r\n  // access to scope variables. When called inside slots it will be inside\r\n  // a different component's render cycle, so the owner instance must be passed\r\n  // in explicitly.\r\n  instance: ComponentInternalInstance\r\n): Component | undefined {\r\n  if (!component) return\r\n  if (isString(component)) {\r\n    return resolveAsset('components', component, instance)\r\n  } else if (isFunction(component) || isObject(component)) {\r\n    return component\r\n  }\r\n}\r\n\r\nexport function resolveDirective(name: string): Directive | undefined {\r\n  return resolveAsset('directives', name)\r\n}\r\n\r\n// overload 1: components\r\nfunction resolveAsset(\r\n  type: 'components',\r\n  name: string,\r\n  instance?: ComponentInternalInstance\r\n): Component | undefined\r\n// overload 2: directives\r\nfunction resolveAsset(\r\n  type: 'directives',\r\n  name: string,\r\n  instance?: ComponentInternalInstance\r\n): Directive | undefined\r\n\r\nfunction resolveAsset(\r\n  type: 'components' | 'directives',\r\n  name: string,\r\n  instance: ComponentInternalInstance | null = currentRenderingInstance ||\r\n    currentInstance\r\n) {\r\n  if (instance) {\r\n    let camelized\r\n    const registry = instance[type]\r\n    const res =\r\n      registry[name] ||\r\n      registry[(camelized = camelize(name))] ||\r\n      registry[capitalize(camelized)]\r\n    if (__DEV__ && !res) {\r\n      warn(`Failed to resolve ${type.slice(0, -1)}: ${name}`)\r\n    }\r\n    return res\r\n  } else if (__DEV__) {\r\n    warn(\r\n      `resolve${capitalize(type.slice(0, -1))} ` +\r\n        `can only be used in render() or setup().`\r\n    )\r\n  }\r\n}\r\n","import { VNodeChild } from '../vnode'\r\nimport { isArray, isString, isObject } from '@vue/shared'\r\n\r\nexport function renderList(\r\n  source: unknown,\r\n  renderItem: (\r\n    value: unknown,\r\n    key: string | number,\r\n    index?: number\r\n  ) => VNodeChild\r\n): VNodeChild[] {\r\n  let ret: VNodeChild[]\r\n  if (isArray(source) || isString(source)) {\r\n    ret = new Array(source.length)\r\n    for (let i = 0, l = source.length; i < l; i++) {\r\n      ret[i] = renderItem(source[i], i)\r\n    }\r\n  } else if (typeof source === 'number') {\r\n    ret = new Array(source)\r\n    for (let i = 0; i < source; i++) {\r\n      ret[i] = renderItem(i + 1, i)\r\n    }\r\n  } else if (isObject(source)) {\r\n    if (source[Symbol.iterator as any]) {\r\n      ret = Array.from(source as Iterable<any>, renderItem)\r\n    } else {\r\n      const keys = Object.keys(source)\r\n      ret = new Array(keys.length)\r\n      for (let i = 0, l = keys.length; i < l; i++) {\r\n        const key = keys[i]\r\n        ret[i] = renderItem(source[key], key, i)\r\n      }\r\n    }\r\n  } else {\r\n    ret = []\r\n  }\r\n  return ret\r\n}\r\n","import { isArray, isPlainObject, objectToString } from '@vue/shared'\r\n\r\n// for converting {{ interpolation }} values to displayed strings.\r\nexport function toString(val: unknown): string {\r\n  return val == null\r\n    ? ''\r\n    : isArray(val) || (isPlainObject(val) && val.toString === objectToString)\r\n      ? JSON.stringify(val, null, 2)\r\n      : String(val)\r\n}\r\n","import { isObject } from '@vue/shared'\r\nimport { warn } from '../warning'\r\n\r\n// For prefixing keys in v-on=\"obj\" with \"on\"\r\nexport function toHandlers(obj: Record<string, any>): Record<string, any> {\r\n  const ret: Record<string, any> = {}\r\n  if (__DEV__ && !isObject(obj)) {\r\n    warn(`v-on with no argument expects an object value.`)\r\n    return ret\r\n  }\r\n  for (const key in obj) {\r\n    ret[`on${key}`] = obj[key]\r\n  }\r\n  return ret\r\n}\r\n","import { Data } from '../component'\r\nimport { Slot } from '../componentSlots'\r\nimport {\r\n  VNodeChildren,\r\n  openBlock,\r\n  createBlock,\r\n  Fragment,\r\n  VNode\r\n} from '../vnode'\r\nimport { PatchFlags } from '@vue/shared'\r\n\r\nexport function renderSlot(\r\n  slots: Record<string, Slot>,\r\n  name: string,\r\n  props: Data = {},\r\n  // this is not a user-facing function, so the fallback is always generated by\r\n  // the compiler and guaranteed to be an array\r\n  fallback?: VNodeChildren\r\n): VNode {\r\n  const slot = slots[name]\r\n  return (\r\n    openBlock(),\r\n    createBlock(\r\n      Fragment,\r\n      { key: props.key },\r\n      slot ? slot(props) : fallback || [],\r\n      slots._compiled ? 0 : PatchFlags.BAIL\r\n    )\r\n  )\r\n}\r\n","import { Slot } from '../componentSlots'\r\nimport { isArray } from '@vue/shared'\r\n\r\ninterface CompiledSlotDescriptor {\r\n  name: string\r\n  fn: Slot\r\n}\r\n\r\nexport function createSlots(\r\n  slots: Record<string, Slot>,\r\n  dynamicSlots: (CompiledSlotDescriptor | CompiledSlotDescriptor[])[]\r\n): Record<string, Slot> {\r\n  for (let i = 0; i < dynamicSlots.length; i++) {\r\n    const slot = dynamicSlots[i]\r\n    // array of dynamic slot generated by <template v-for=\"...\" #[...]>\r\n    if (isArray(slot)) {\r\n      for (let j = 0; j < slot.length; j++) {\r\n        slots[slot[j].name] = slot[j].fn\r\n      }\r\n    } else {\r\n      // conditional single slot generated by <template v-if=\"...\" #foo>\r\n      slots[slot.name] = slot.fn\r\n    }\r\n  }\r\n  return slots\r\n}\r\n","// Public API ------------------------------------------------------------------\r\n\r\nexport const version = __VERSION__\r\nexport * from './apiReactivity'\r\nexport * from './apiWatch'\r\nexport * from './apiLifecycle'\r\nexport * from './apiInject'\r\nexport { nextTick } from './scheduler'\r\nexport { createComponent } from './apiCreateComponent'\r\n\r\n// Advanced API ----------------------------------------------------------------\r\n\r\n// For getting a hold of the internal instance in setup() - useful for advanced\r\n// plugins\r\nexport { getCurrentInstance } from './component'\r\n\r\n// For raw render function users\r\nexport { h } from './h'\r\nexport {\r\n  createVNode,\r\n  cloneVNode,\r\n  mergeProps,\r\n  openBlock,\r\n  createBlock\r\n} from './vnode'\r\n// VNode type symbols\r\nexport { Text, Comment, Fragment, Portal } from './vnode'\r\n// Internal Components\r\nexport { Suspense, SuspenseProps } from './components/Suspense'\r\nexport { KeepAlive, KeepAliveProps } from './components/KeepAlive'\r\nexport {\r\n  BaseTransition,\r\n  BaseTransitionProps\r\n} from './components/BaseTransition'\r\n// VNode flags\r\nexport { PublicShapeFlags as ShapeFlags } from './shapeFlags'\r\nimport { PublicPatchFlags } from '@vue/shared'\r\nexport const PatchFlags = PublicPatchFlags as {\r\n  // export patch flags as plain numbers to avoid d.ts relying on @vue/shared\r\n  // the enum type is internal anyway.\r\n  TEXT: number\r\n  CLASS: number\r\n  STYLE: number\r\n  PROPS: number\r\n  NEED_PATCH: number\r\n  FULL_PROPS: number\r\n  KEYED_FRAGMENT: number\r\n  UNKEYED_FRAGMENT: number\r\n  DYNAMIC_SLOTS: number\r\n  BAIL: number\r\n}\r\n\r\n// For custom renderers\r\nexport { createRenderer, RootRenderFunction } from './renderer'\r\nexport { warn } from './warning'\r\nexport {\r\n  handleError,\r\n  callWithErrorHandling,\r\n  callWithAsyncErrorHandling\r\n} from './errorHandling'\r\n\r\n// Internal, for compiler generated code\r\n// should sync with '@vue/compiler-core/src/runtimeConstants.ts'\r\nexport { withDirectives } from './directives'\r\nexport {\r\n  resolveComponent,\r\n  resolveDirective,\r\n  resolveDynamicComponent\r\n} from './helpers/resolveAssets'\r\nexport { renderList } from './helpers/renderList'\r\nexport { toString } from './helpers/toString'\r\nexport { toHandlers } from './helpers/toHandlers'\r\nexport { renderSlot } from './helpers/renderSlot'\r\nexport { createSlots } from './helpers/createSlots'\r\nexport { setBlockTracking, createTextVNode, createCommentVNode } from './vnode'\r\n// Since @vue/shared is inlined into final builds,\r\n// when re-exporting from @vue/shared we need to avoid relying on their original\r\n// types so that the bundled d.ts does not attempt to import from it.\r\nimport { capitalize as _capitalize, camelize as _camelize } from '@vue/shared'\r\nexport const capitalize = _capitalize as (s: string) => string\r\nexport const camelize = _camelize as (s: string) => string\r\n\r\n// Internal, for integration with runtime compiler\r\nexport { registerRuntimeCompiler } from './component'\r\n\r\n// Types -----------------------------------------------------------------------\r\n\r\nexport { App, AppConfig, AppContext, Plugin } from './apiApp'\r\nexport { VNode, VNodeTypes, VNodeProps } from './vnode'\r\nexport {\r\n  Component,\r\n  FunctionalComponent,\r\n  ComponentInternalInstance,\r\n  RenderFunction,\r\n  SetupContext\r\n} from './component'\r\nexport {\r\n  ComponentOptions,\r\n  ComponentOptionsWithoutProps,\r\n  ComponentOptionsWithObjectProps as ComponentOptionsWithProps,\r\n  ComponentOptionsWithArrayProps\r\n} from './apiOptions'\r\n\r\nexport { ComponentPublicInstance } from './componentProxy'\r\nexport { RendererOptions } from './renderer'\r\nexport { Slot, Slots } from './componentSlots'\r\nexport {\r\n  Prop,\r\n  PropType,\r\n  ComponentPropsOptions,\r\n  ComponentObjectPropsOptions\r\n} from './componentProps'\r\nexport {\r\n  Directive,\r\n  DirectiveBinding,\r\n  DirectiveHook,\r\n  ObjectDirective,\r\n  FunctionDirective,\r\n  DirectiveArguments\r\n} from './directives'\r\nexport { SuspenseBoundary } from './components/Suspense'\r\n","const doc = document\r\nconst svgNS = 'http://www.w3.org/2000/svg'\r\n\r\nexport const nodeOps = {\r\n  insert: (child: Node, parent: Node, anchor?: Node) => {\r\n    if (anchor != null) {\r\n      parent.insertBefore(child, anchor)\r\n    } else {\r\n      parent.appendChild(child)\r\n    }\r\n  },\r\n\r\n  remove: (child: Node) => {\r\n    const parent = child.parentNode\r\n    if (parent != null) {\r\n      parent.removeChild(child)\r\n    }\r\n  },\r\n\r\n  createElement: (tag: string, isSVG?: boolean): Element =>\r\n    isSVG ? doc.createElementNS(svgNS, tag) : doc.createElement(tag),\r\n\r\n  createText: (text: string): Text => doc.createTextNode(text),\r\n\r\n  createComment: (text: string): Comment => doc.createComment(text),\r\n\r\n  setText: (node: Text, text: string) => {\r\n    node.nodeValue = text\r\n  },\r\n\r\n  setElementText: (el: HTMLElement, text: string) => {\r\n    el.textContent = text\r\n  },\r\n\r\n  parentNode: (node: Node): HTMLElement | null =>\r\n    node.parentNode as HTMLElement,\r\n\r\n  nextSibling: (node: Node): Node | null => node.nextSibling,\r\n\r\n  querySelector: (selector: string): Element | null =>\r\n    doc.querySelector(selector)\r\n}\r\n","import { ElementWithTransition } from '../components/Transition'\r\n\r\n// compiler should normalize class + :class bindings on the same element\r\n// into a single binding ['staticClass', dynamic]\r\nexport function patchClass(\r\n  el: ElementWithTransition,\r\n  value: string,\r\n  isSVG: boolean\r\n) {\r\n  // if this is an element during a transition, take the temporary transition\r\n  // classes into account.\r\n  if (el._vtc) {\r\n    value = [value, ...el._vtc].join(' ')\r\n  }\r\n  // directly setting className should be faster than setAttribute in theory\r\n  if (isSVG) {\r\n    el.setAttribute('class', value)\r\n  } else {\r\n    el.className = value\r\n  }\r\n}\r\n","import { isString, hyphenate, capitalize } from '@vue/shared'\r\nimport { camelize } from '@vue/runtime-core'\r\n\r\ntype Style = string | Partial<CSSStyleDeclaration> | null\r\n\r\nexport function patchStyle(el: Element, prev: Style, next: Style) {\r\n  const style = (el as HTMLElement).style\r\n  if (!next) {\r\n    el.removeAttribute('style')\r\n  } else if (isString(next)) {\r\n    style.cssText = next\r\n  } else {\r\n    for (const key in next) {\r\n      setStyle(style, key, next[key] as string)\r\n    }\r\n    if (prev && !isString(prev)) {\r\n      for (const key in prev) {\r\n        if (!next[key]) {\r\n          setStyle(style, key, '')\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst importantRE = /\\s*!important$/\r\n\r\nfunction setStyle(style: CSSStyleDeclaration, name: string, val: string) {\r\n  if (name.startsWith('--')) {\r\n    // custom property definition\r\n    style.setProperty(name, val)\r\n  } else {\r\n    const prefixed = autoPrefix(style, name)\r\n    if (importantRE.test(val)) {\r\n      // !important\r\n      style.setProperty(\r\n        hyphenate(prefixed),\r\n        val.replace(importantRE, ''),\r\n        'important'\r\n      )\r\n    } else {\r\n      style[prefixed as any] = val\r\n    }\r\n  }\r\n}\r\n\r\nconst prefixes = ['Webkit', 'Moz', 'ms']\r\nconst prefixCache: Record<string, string> = {}\r\n\r\nfunction autoPrefix(style: CSSStyleDeclaration, rawName: string): string {\r\n  const cached = prefixCache[rawName]\r\n  if (cached) {\r\n    return cached\r\n  }\r\n  let name = camelize(rawName)\r\n  if (name !== 'filter' && name in style) {\r\n    return (prefixCache[rawName] = name)\r\n  }\r\n  name = capitalize(name)\r\n  for (let i = 0; i < prefixes.length; i++) {\r\n    const prefixed = prefixes[i] + name\r\n    if (prefixed in style) {\r\n      return (prefixCache[rawName] = prefixed)\r\n    }\r\n  }\r\n  return rawName\r\n}\r\n","export function patchAttr(el: Element, key: string, value: any) {\r\n  if (value == null) {\r\n    el.removeAttribute(key)\r\n  } else {\r\n    el.setAttribute(key, value)\r\n  }\r\n}\r\n","export function patchDOMProp(\r\n  el: any,\r\n  key: string,\r\n  value: any,\r\n  // the following args are passed only due to potential innerHTML/textContent\r\n  // overriding existing VNodes, in which case the old tree must be properly\r\n  // unmounted.\r\n  prevChildren: any,\r\n  parentComponent: any,\r\n  parentSuspense: any,\r\n  unmountChildren: any\r\n) {\r\n  if ((key === 'innerHTML' || key === 'textContent') && prevChildren != null) {\r\n    unmountChildren(prevChildren, parentComponent, parentSuspense)\r\n    el[key] = value == null ? '' : value\r\n    return\r\n  }\r\n  if (key === 'value' && el.tagName !== 'PROGRESS') {\r\n    // store value as _value as well since\r\n    // non-string values will be stringified.\r\n    el._value = value\r\n    el.value = value == null ? '' : value\r\n    return\r\n  }\r\n  if (value === '' && typeof el[key] === 'boolean') {\r\n    // e.g. <select multiple> compiles to { multiple: '' }\r\n    el[key] = true\r\n  } else {\r\n    el[key] = value == null ? '' : value\r\n  }\r\n}\r\n","import { EMPTY_OBJ } from '@vue/shared'\r\nimport {\r\n  ComponentInternalInstance,\r\n  callWithAsyncErrorHandling\r\n} from '@vue/runtime-core'\r\nimport { ErrorCodes } from 'packages/runtime-core/src/errorHandling'\r\n\r\ninterface Invoker extends EventListener {\r\n  value: EventValue\r\n  lastUpdated: number\r\n}\r\n\r\ntype EventValue = (Function | Function[]) & {\r\n  invoker?: Invoker | null\r\n}\r\n\r\ntype EventValueWithOptions = {\r\n  handler: EventValue\r\n  options: AddEventListenerOptions\r\n  invoker?: Invoker | null\r\n}\r\n\r\n// Async edge case fix requires storing an event listener's attach timestamp.\r\nlet _getNow: () => number = Date.now\r\n\r\n// Determine what event timestamp the browser is using. Annoyingly, the\r\n// timestamp can either be hi-res ( relative to page load) or low-res\r\n// (relative to UNIX epoch), so in order to compare time we have to use the\r\n// same timestamp type when saving the flush timestamp.\r\nif (\r\n  typeof document !== 'undefined' &&\r\n  _getNow() > document.createEvent('Event').timeStamp\r\n) {\r\n  // if the low-res timestamp which is bigger than the event timestamp\r\n  // (which is evaluated AFTER) it means the event is using a hi-res timestamp,\r\n  // and we need to use the hi-res version for event listeners as well.\r\n  _getNow = () => performance.now()\r\n}\r\n\r\n// To avoid the overhead of repeatedly calling performance.now(), we cache\r\n// and use the same timestamp for all event listeners attached in the same tick.\r\nlet cachedNow: number = 0\r\nconst p = Promise.resolve()\r\nconst reset = () => {\r\n  cachedNow = 0\r\n}\r\nconst getNow = () => cachedNow || (p.then(reset), (cachedNow = _getNow()))\r\n\r\nexport function addEventListener(\r\n  el: Element,\r\n  event: string,\r\n  handler: EventListener,\r\n  options?: EventListenerOptions\r\n) {\r\n  el.addEventListener(event, handler, options)\r\n}\r\n\r\nexport function removeEventListener(\r\n  el: Element,\r\n  event: string,\r\n  handler: EventListener,\r\n  options?: EventListenerOptions\r\n) {\r\n  el.removeEventListener(event, handler, options)\r\n}\r\n\r\nexport function patchEvent(\r\n  el: Element,\r\n  name: string,\r\n  prevValue: EventValueWithOptions | EventValue | null,\r\n  nextValue: EventValueWithOptions | EventValue | null,\r\n  instance: ComponentInternalInstance | null = null\r\n) {\r\n  const prevOptions = prevValue && 'options' in prevValue && prevValue.options\r\n  const nextOptions = nextValue && 'options' in nextValue && nextValue.options\r\n  const invoker = prevValue && prevValue.invoker\r\n  const value =\r\n    nextValue && 'handler' in nextValue ? nextValue.handler : nextValue\r\n\r\n  if (prevOptions || nextOptions) {\r\n    const prev = prevOptions || EMPTY_OBJ\r\n    const next = nextOptions || EMPTY_OBJ\r\n    if (\r\n      prev.capture !== next.capture ||\r\n      prev.passive !== next.passive ||\r\n      prev.once !== next.once\r\n    ) {\r\n      if (invoker) {\r\n        removeEventListener(el, name, invoker, prev)\r\n      }\r\n      if (nextValue && value) {\r\n        const invoker = createInvoker(value, instance)\r\n        nextValue.invoker = invoker\r\n        addEventListener(el, name, invoker, next)\r\n      }\r\n      return\r\n    }\r\n  }\r\n\r\n  if (nextValue && value) {\r\n    if (invoker) {\r\n      ;(prevValue as EventValue).invoker = null\r\n      invoker.value = value\r\n      nextValue.invoker = invoker\r\n      invoker.lastUpdated = getNow()\r\n    } else {\r\n      addEventListener(\r\n        el,\r\n        name,\r\n        createInvoker(value, instance),\r\n        nextOptions || void 0\r\n      )\r\n    }\r\n  } else if (invoker) {\r\n    removeEventListener(el, name, invoker, prevOptions || void 0)\r\n  }\r\n}\r\n\r\nfunction createInvoker(\r\n  initialValue: EventValue,\r\n  instance: ComponentInternalInstance | null\r\n) {\r\n  const invoker: Invoker = (e: Event) => {\r\n    // async edge case #6566: inner click event triggers patch, event handler\r\n    // attached to outer element during patch, and triggered again. This\r\n    // happens because browsers fire microtask ticks between event propagation.\r\n    // the solution is simple: we save the timestamp when a handler is attached,\r\n    // and the handler would only fire if the event passed to it was fired\r\n    // AFTER it was attached.\r\n    if (e.timeStamp >= invoker.lastUpdated - 1) {\r\n      callWithAsyncErrorHandling(\r\n        invoker.value,\r\n        instance,\r\n        ErrorCodes.NATIVE_EVENT_HANDLER,\r\n        [e]\r\n      )\r\n    }\r\n  }\r\n  invoker.value = initialValue\r\n  initialValue.invoker = invoker\r\n  invoker.lastUpdated = getNow()\r\n  return invoker\r\n}\r\n","import { patchClass } from './modules/class'\r\nimport { patchStyle } from './modules/style'\r\nimport { patchAttr } from './modules/attrs'\r\nimport { patchDOMProp } from './modules/props'\r\nimport { patchEvent } from './modules/events'\r\nimport { isOn } from '@vue/shared'\r\nimport {\r\n  ComponentInternalInstance,\r\n  SuspenseBoundary,\r\n  VNode\r\n} from '@vue/runtime-core'\r\n\r\nexport function patchProp(\r\n  el: Element,\r\n  key: string,\r\n  nextValue: any,\r\n  prevValue: any,\r\n  isSVG: boolean,\r\n  prevChildren?: VNode[],\r\n  parentComponent?: ComponentInternalInstance,\r\n  parentSuspense?: SuspenseBoundary<Node, Element>,\r\n  unmountChildren?: any\r\n) {\r\n  switch (key) {\r\n    // special\r\n    case 'class':\r\n      patchClass(el, nextValue, isSVG)\r\n      break\r\n    case 'style':\r\n      patchStyle(el, prevValue, nextValue)\r\n      break\r\n    case 'modelValue':\r\n    case 'onUpdate:modelValue':\r\n      // Do nothing. This is handled by v-model directives.\r\n      break\r\n    default:\r\n      if (isOn(key)) {\r\n        patchEvent(\r\n          el,\r\n          key.slice(2).toLowerCase(),\r\n          prevValue,\r\n          nextValue,\r\n          parentComponent\r\n        )\r\n      } else if (!isSVG && key in el) {\r\n        patchDOMProp(\r\n          el,\r\n          key,\r\n          nextValue,\r\n          prevChildren,\r\n          parentComponent,\r\n          parentSuspense,\r\n          unmountChildren\r\n        )\r\n      } else {\r\n        // special case for <input v-model type=\"checkbox\"> with\r\n        // :true-value & :false-value\r\n        // store value as dom properties since non-string values will be\r\n        // stringified.\r\n        if (key === 'true-value') {\r\n          ;(el as any)._trueValue = nextValue\r\n        } else if (key === 'false-value') {\r\n          ;(el as any)._falseValue = nextValue\r\n        }\r\n        patchAttr(el, key, nextValue)\r\n      }\r\n      break\r\n  }\r\n}\r\n","import {\r\n  ObjectDirective,\r\n  VNode,\r\n  DirectiveBinding,\r\n  warn\r\n} from '@vue/runtime-core'\r\nimport { addEventListener } from '../modules/events'\r\nimport { isArray, isObject } from '@vue/shared'\r\n\r\nconst getModelAssigner = (vnode: VNode): ((value: any) => void) =>\r\n  vnode.props!['onUpdate:modelValue']\r\n\r\nfunction onCompositionStart(e: CompositionEvent) {\r\n  ;(e.target as any).composing = true\r\n}\r\n\r\nfunction onCompositionEnd(e: CompositionEvent) {\r\n  const target = e.target as any\r\n  if (target.composing) {\r\n    target.composing = false\r\n    trigger(target, 'input')\r\n  }\r\n}\r\n\r\nfunction trigger(el: HTMLElement, type: string) {\r\n  const e = document.createEvent('HTMLEvents')\r\n  e.initEvent(type, true, true)\r\n  el.dispatchEvent(e)\r\n}\r\n\r\nfunction toNumber(val: string): number | string {\r\n  const n = parseFloat(val)\r\n  return isNaN(n) ? val : n\r\n}\r\n\r\n// We are exporting the v-model runtime directly as vnode hooks so that it can\r\n// be tree-shaken in case v-model is never used.\r\nexport const vModelText: ObjectDirective<\r\n  HTMLInputElement | HTMLTextAreaElement\r\n> = {\r\n  beforeMount(el, { value, modifiers: { lazy, trim, number } }, vnode) {\r\n    el.value = value\r\n    const assign = getModelAssigner(vnode)\r\n    const castToNumber = number || el.type === 'number'\r\n    addEventListener(el, lazy ? 'change' : 'input', () => {\r\n      let domValue: string | number = el.value\r\n      if (trim) {\r\n        domValue = domValue.trim()\r\n      } else if (castToNumber) {\r\n        domValue = toNumber(domValue)\r\n      }\r\n      assign(domValue)\r\n    })\r\n    if (trim) {\r\n      addEventListener(el, 'change', () => {\r\n        el.value = el.value.trim()\r\n      })\r\n    }\r\n    if (!lazy) {\r\n      addEventListener(el, 'compositionstart', onCompositionStart)\r\n      addEventListener(el, 'compositionend', onCompositionEnd)\r\n      // Safari < 10.2 & UIWebView doesn't fire compositionend when\r\n      // switching focus before confirming composition choice\r\n      // this also fixes the issue where some browsers e.g. iOS Chrome\r\n      // fires \"change\" instead of \"input\" on autocomplete.\r\n      addEventListener(el, 'change', onCompositionEnd)\r\n    }\r\n  },\r\n  beforeUpdate(el, { value, oldValue, modifiers: { trim, number } }) {\r\n    if (value === oldValue) {\r\n      return\r\n    }\r\n    if (document.activeElement === el) {\r\n      if (trim && el.value.trim() === value) {\r\n        return\r\n      }\r\n      if ((number || el.type === 'number') && toNumber(el.value) === value) {\r\n        return\r\n      }\r\n    }\r\n    el.value = value\r\n  }\r\n}\r\n\r\nexport const vModelCheckbox: ObjectDirective<HTMLInputElement> = {\r\n  beforeMount(el, binding, vnode) {\r\n    setChecked(el, binding, vnode)\r\n    const assign = getModelAssigner(vnode)\r\n    addEventListener(el, 'change', () => {\r\n      const modelValue = (el as any)._modelValue\r\n      const elementValue = getValue(el)\r\n      const checked = el.checked\r\n      if (isArray(modelValue)) {\r\n        const index = looseIndexOf(modelValue, elementValue)\r\n        const found = index !== -1\r\n        if (checked && !found) {\r\n          assign(modelValue.concat(elementValue))\r\n        } else if (!checked && found) {\r\n          const filtered = [...modelValue]\r\n          filtered.splice(index, 1)\r\n          assign(filtered)\r\n        }\r\n      } else {\r\n        assign(getCheckboxValue(el, checked))\r\n      }\r\n    })\r\n  },\r\n  beforeUpdate: setChecked\r\n}\r\n\r\nfunction setChecked(\r\n  el: HTMLInputElement,\r\n  { value, oldValue }: DirectiveBinding,\r\n  vnode: VNode\r\n) {\r\n  // store the v-model value on the element so it can be accessed by the\r\n  // change listener.\r\n  ;(el as any)._modelValue = value\r\n  if (isArray(value)) {\r\n    el.checked = looseIndexOf(value, vnode.props!.value) > -1\r\n  } else if (value !== oldValue) {\r\n    el.checked = looseEqual(value, getCheckboxValue(el, true))\r\n  }\r\n}\r\n\r\nexport const vModelRadio: ObjectDirective<HTMLInputElement> = {\r\n  beforeMount(el, { value }, vnode) {\r\n    el.checked = looseEqual(value, vnode.props!.value)\r\n    const assign = getModelAssigner(vnode)\r\n    addEventListener(el, 'change', () => {\r\n      assign(getValue(el))\r\n    })\r\n  },\r\n  beforeUpdate(el, { value, oldValue }, vnode) {\r\n    if (value !== oldValue) {\r\n      el.checked = looseEqual(value, vnode.props!.value)\r\n    }\r\n  }\r\n}\r\n\r\nexport const vModelSelect: ObjectDirective<HTMLSelectElement> = {\r\n  // use mounted & updated because <select> relies on its children <option>s.\r\n  mounted(el, { value }, vnode) {\r\n    setSelected(el, value)\r\n    const assign = getModelAssigner(vnode)\r\n    addEventListener(el, 'change', () => {\r\n      const selectedVal = Array.prototype.filter\r\n        .call(el.options, (o: HTMLOptionElement) => o.selected)\r\n        .map(getValue)\r\n      assign(el.multiple ? selectedVal : selectedVal[0])\r\n    })\r\n  },\r\n  updated(el, { value }) {\r\n    setSelected(el, value)\r\n  }\r\n}\r\n\r\nfunction setSelected(el: HTMLSelectElement, value: any) {\r\n  const isMultiple = el.multiple\r\n  if (isMultiple && !isArray(value)) {\r\n    __DEV__ &&\r\n      warn(\r\n        `<select multiple v-model> expects an Array value for its binding, ` +\r\n          `but got ${Object.prototype.toString.call(value).slice(8, -1)}.`\r\n      )\r\n    return\r\n  }\r\n  for (let i = 0, l = el.options.length; i < l; i++) {\r\n    const option = el.options[i]\r\n    const optionValue = getValue(option)\r\n    if (isMultiple) {\r\n      option.selected = looseIndexOf(value, optionValue) > -1\r\n    } else {\r\n      if (looseEqual(getValue(option), value)) {\r\n        el.selectedIndex = i\r\n        return\r\n      }\r\n    }\r\n  }\r\n  if (!isMultiple) {\r\n    el.selectedIndex = -1\r\n  }\r\n}\r\n\r\nfunction looseEqual(a: any, b: any): boolean {\r\n  if (a === b) return true\r\n  const isObjectA = isObject(a)\r\n  const isObjectB = isObject(b)\r\n  if (isObjectA && isObjectB) {\r\n    try {\r\n      const isArrayA = isArray(a)\r\n      const isArrayB = isArray(b)\r\n      if (isArrayA && isArrayB) {\r\n        return (\r\n          a.length === b.length &&\r\n          a.every((e: any, i: any) => looseEqual(e, b[i]))\r\n        )\r\n      } else if (a instanceof Date && b instanceof Date) {\r\n        return a.getTime() === b.getTime()\r\n      } else if (!isArrayA && !isArrayB) {\r\n        const keysA = Object.keys(a)\r\n        const keysB = Object.keys(b)\r\n        return (\r\n          keysA.length === keysB.length &&\r\n          keysA.every(key => looseEqual(a[key], b[key]))\r\n        )\r\n      } else {\r\n        /* istanbul ignore next */\r\n        return false\r\n      }\r\n    } catch (e) {\r\n      /* istanbul ignore next */\r\n      return false\r\n    }\r\n  } else if (!isObjectA && !isObjectB) {\r\n    return String(a) === String(b)\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nfunction looseIndexOf(arr: any[], val: any): number {\r\n  return arr.findIndex(item => looseEqual(item, val))\r\n}\r\n\r\n// retrieve raw value set via :value bindings\r\nfunction getValue(el: HTMLOptionElement | HTMLInputElement) {\r\n  return '_value' in el ? (el as any)._value : el.value\r\n}\r\n\r\n// retrieve raw value for true-value and false-value set via :true-value or :false-value bindings\r\nfunction getCheckboxValue(\r\n  el: HTMLInputElement & { _trueValue?: any; _falseValue?: any },\r\n  checked: boolean\r\n) {\r\n  const key = checked ? '_trueValue' : '_falseValue'\r\n  return key in el ? el[key] : checked\r\n}\r\n\r\nexport const vModelDynamic: ObjectDirective<\r\n  HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement\r\n> = {\r\n  beforeMount(el, binding, vnode) {\r\n    callModelHook(el, binding, vnode, null, 'beforeMount')\r\n  },\r\n  mounted(el, binding, vnode) {\r\n    callModelHook(el, binding, vnode, null, 'mounted')\r\n  },\r\n  beforeUpdate(el, binding, vnode, prevVNode) {\r\n    callModelHook(el, binding, vnode, prevVNode, 'beforeUpdate')\r\n  },\r\n  updated(el, binding, vnode, prevVNode) {\r\n    callModelHook(el, binding, vnode, prevVNode, 'updated')\r\n  }\r\n}\r\n\r\nfunction callModelHook(\r\n  el: HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement,\r\n  binding: DirectiveBinding,\r\n  vnode: VNode,\r\n  prevVNode: VNode | null,\r\n  hook: keyof ObjectDirective\r\n) {\r\n  let modelToUse: ObjectDirective\r\n  switch (el.tagName) {\r\n    case 'SELECT':\r\n      modelToUse = vModelSelect\r\n      break\r\n    case 'TEXTAREA':\r\n      modelToUse = vModelText\r\n      break\r\n    default:\r\n      switch (el.type) {\r\n        case 'checkbox':\r\n          modelToUse = vModelCheckbox\r\n          break\r\n        case 'radio':\r\n          modelToUse = vModelRadio\r\n          break\r\n        default:\r\n          modelToUse = vModelText\r\n      }\r\n  }\r\n  const fn = modelToUse[hook]\r\n  fn && fn(el, binding, vnode, prevVNode)\r\n}\r\n","import { hyphenate } from '@vue/shared'\r\n\r\nconst systemModifiers = ['ctrl', 'shift', 'alt', 'meta']\r\n\r\ntype KeyedEvent = KeyboardEvent | MouseEvent | TouchEvent\r\n\r\nconst modifierGuards: Record<\r\n  string,\r\n  (e: Event, modifiers?: string[]) => void | boolean\r\n> = {\r\n  stop: e => e.stopPropagation(),\r\n  prevent: e => e.preventDefault(),\r\n  self: e => e.target !== e.currentTarget,\r\n  ctrl: e => !(e as KeyedEvent).ctrlKey,\r\n  shift: e => !(e as KeyedEvent).shiftKey,\r\n  alt: e => !(e as KeyedEvent).altKey,\r\n  meta: e => !(e as KeyedEvent).metaKey,\r\n  left: e => 'button' in e && (e as MouseEvent).button !== 0,\r\n  middle: e => 'button' in e && (e as MouseEvent).button !== 1,\r\n  right: e => 'button' in e && (e as MouseEvent).button !== 2,\r\n  exact: (e, modifiers: string[]) =>\r\n    systemModifiers.some(m => (e as any)[`${m}Key`] && !modifiers.includes(m))\r\n}\r\n\r\nexport const withModifiers = (fn: Function, modifiers: string[]) => {\r\n  return (event: Event) => {\r\n    for (let i = 0; i < modifiers.length; i++) {\r\n      const guard = modifierGuards[modifiers[i]]\r\n      if (guard && guard(event, modifiers)) return\r\n    }\r\n    return fn(event)\r\n  }\r\n}\r\n\r\n// Kept for 2.x compat.\r\n// Note: IE11 compat for `spacebar` and `del` is removed for now.\r\nconst keyNames: Record<string, string | string[]> = {\r\n  esc: 'escape',\r\n  space: ' ',\r\n  up: 'arrow-up',\r\n  left: 'arrow-left',\r\n  right: 'arrow-right',\r\n  down: 'arrow-down',\r\n  delete: 'backspace'\r\n}\r\n\r\nexport const withKeys = (fn: Function, modifiers: string[]) => {\r\n  return (event: KeyboardEvent) => {\r\n    if (!('key' in event)) return\r\n    const eventKey = hyphenate(event.key)\r\n    if (\r\n      // None of the provided key modifiers match the current event key\r\n      !modifiers.some(k => k === eventKey || keyNames[k] === eventKey)\r\n    ) {\r\n      return\r\n    }\r\n    return fn(event)\r\n  }\r\n}\r\n","import {\r\n  BaseTransition,\r\n  BaseTransitionProps,\r\n  h,\r\n  warn,\r\n  FunctionalComponent,\r\n  getCurrentInstance,\r\n  callWithAsyncErrorHandling\r\n} from '@vue/runtime-core'\r\nimport { isObject } from '@vue/shared'\r\nimport { ErrorCodes } from 'packages/runtime-core/src/errorHandling'\r\n\r\nconst TRANSITION = 'transition'\r\nconst ANIMATION = 'animation'\r\n\r\nexport interface TransitionProps extends BaseTransitionProps {\r\n  name?: string\r\n  type?: typeof TRANSITION | typeof ANIMATION\r\n  css?: boolean\r\n  duration?: number | { enter: number; leave: number }\r\n  // custom transition classes\r\n  enterFromClass?: string\r\n  enterActiveClass?: string\r\n  enterToClass?: string\r\n  appearFromClass?: string\r\n  appearActiveClass?: string\r\n  appearToClass?: string\r\n  leaveFromClass?: string\r\n  leaveActiveClass?: string\r\n  leaveToClass?: string\r\n}\r\n\r\n// DOM Transition is a higher-order-component based on the platform-agnostic\r\n// base Transition component, with DOM-specific logic.\r\nexport const Transition: FunctionalComponent = (\r\n  props: TransitionProps,\r\n  { slots }\r\n) => h(BaseTransition, resolveTransitionProps(props), slots)\r\n\r\nif (__DEV__) {\r\n  Transition.props = {\r\n    ...(BaseTransition as any).props,\r\n    name: String,\r\n    type: String,\r\n    // Cannot use Boolean otherwise it will be force casted to false when\r\n    // omitted\r\n    css: null,\r\n    duration: Object,\r\n    enterFromClass: String,\r\n    enterActiveClass: String,\r\n    enterToClass: String,\r\n    appearFromClass: String,\r\n    appearActiveClass: String,\r\n    appearToClass: String,\r\n    leaveFromClass: String,\r\n    leaveActiveClass: String,\r\n    leaveToClass: String\r\n  }\r\n}\r\n\r\nfunction resolveTransitionProps({\r\n  name = 'v',\r\n  type,\r\n  css = true,\r\n  duration,\r\n  enterFromClass = `${name}-enter-from`,\r\n  enterActiveClass = `${name}-enter-active`,\r\n  enterToClass = `${name}-enter-to`,\r\n  appearFromClass = enterFromClass,\r\n  appearActiveClass = enterActiveClass,\r\n  appearToClass = enterToClass,\r\n  leaveFromClass = `${name}-leave-from`,\r\n  leaveActiveClass = `${name}-leave-active`,\r\n  leaveToClass = `${name}-leave-to`,\r\n  ...baseProps\r\n}: TransitionProps): BaseTransitionProps {\r\n  if (!css) {\r\n    return baseProps\r\n  }\r\n\r\n  const instance = getCurrentInstance()!\r\n  const durations = normalizeDuration(duration)\r\n  const enterDuration = durations && durations[0]\r\n  const leaveDuration = durations && durations[1]\r\n  const { appear, onBeforeEnter, onEnter, onLeave } = baseProps\r\n\r\n  // is appearing\r\n  if (appear && !getCurrentInstance()!.isMounted) {\r\n    enterFromClass = appearFromClass\r\n    enterActiveClass = appearActiveClass\r\n    enterToClass = appearToClass\r\n  }\r\n\r\n  type Hook = (el: Element, done?: () => void) => void\r\n\r\n  const finishEnter: Hook = (el, done) => {\r\n    removeTransitionClass(el, enterToClass)\r\n    removeTransitionClass(el, enterActiveClass)\r\n    done && done()\r\n  }\r\n\r\n  const finishLeave: Hook = (el, done) => {\r\n    removeTransitionClass(el, leaveToClass)\r\n    removeTransitionClass(el, leaveActiveClass)\r\n    done && done()\r\n  }\r\n\r\n  // only needed for user hooks called in nextFrame\r\n  // sync errors are already handled by BaseTransition\r\n  function callHookWithErrorHandling(hook: Hook, args: any[]) {\r\n    callWithAsyncErrorHandling(hook, instance, ErrorCodes.TRANSITION_HOOK, args)\r\n  }\r\n\r\n  return {\r\n    ...baseProps,\r\n    onBeforeEnter(el) {\r\n      onBeforeEnter && onBeforeEnter(el)\r\n      addTransitionClass(el, enterActiveClass)\r\n      addTransitionClass(el, enterFromClass)\r\n    },\r\n    onEnter(el, done) {\r\n      nextFrame(() => {\r\n        const resolve = () => finishEnter(el, done)\r\n        onEnter && callHookWithErrorHandling(onEnter, [el, resolve])\r\n        removeTransitionClass(el, enterFromClass)\r\n        addTransitionClass(el, enterToClass)\r\n        if (!(onEnter && onEnter.length > 1)) {\r\n          if (enterDuration) {\r\n            setTimeout(resolve, enterDuration)\r\n          } else {\r\n            whenTransitionEnds(el, type, resolve)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    onLeave(el, done) {\r\n      addTransitionClass(el, leaveActiveClass)\r\n      addTransitionClass(el, leaveFromClass)\r\n      nextFrame(() => {\r\n        const resolve = () => finishLeave(el, done)\r\n        onLeave && callHookWithErrorHandling(onLeave, [el, resolve])\r\n        removeTransitionClass(el, leaveFromClass)\r\n        addTransitionClass(el, leaveToClass)\r\n        if (!(onLeave && onLeave.length > 1)) {\r\n          if (leaveDuration) {\r\n            setTimeout(resolve, leaveDuration)\r\n          } else {\r\n            whenTransitionEnds(el, type, resolve)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    onEnterCancelled: finishEnter,\r\n    onLeaveCancelled: finishLeave\r\n  }\r\n}\r\n\r\nfunction normalizeDuration(\r\n  duration: TransitionProps['duration']\r\n): [number, number] | null {\r\n  if (duration == null) {\r\n    return null\r\n  } else if (isObject(duration)) {\r\n    return [toNumber(duration.enter), toNumber(duration.leave)]\r\n  } else {\r\n    const n = toNumber(duration)\r\n    return [n, n]\r\n  }\r\n}\r\n\r\nfunction toNumber(val: unknown): number {\r\n  const res = Number(val || 0)\r\n  if (__DEV__) validateDuration(res)\r\n  return res\r\n}\r\n\r\nfunction validateDuration(val: unknown) {\r\n  if (typeof val !== 'number') {\r\n    warn(\r\n      `<transition> explicit duration is not a valid number - ` +\r\n        `got ${JSON.stringify(val)}.`\r\n    )\r\n  } else if (isNaN(val)) {\r\n    warn(\r\n      `<transition> explicit duration is NaN - ` +\r\n        'the duration expression might be incorrect.'\r\n    )\r\n  }\r\n}\r\n\r\nexport interface ElementWithTransition extends Element {\r\n  // _vtc = Vue Transition Classes.\r\n  // Store the temporarily-added transition classes on the element\r\n  // so that we can avoid overwriting them if the element's class is patched\r\n  // during the transition.\r\n  _vtc?: Set<string>\r\n}\r\n\r\nfunction addTransitionClass(el: ElementWithTransition, cls: string) {\r\n  el.classList.add(cls)\r\n  ;(el._vtc || (el._vtc = new Set())).add(cls)\r\n}\r\n\r\nfunction removeTransitionClass(el: ElementWithTransition, cls: string) {\r\n  el.classList.remove(cls)\r\n  if (el._vtc) {\r\n    el._vtc.delete(cls)\r\n    if (!el._vtc!.size) {\r\n      el._vtc = undefined\r\n    }\r\n  }\r\n}\r\n\r\nfunction nextFrame(cb: () => void) {\r\n  requestAnimationFrame(() => {\r\n    requestAnimationFrame(cb)\r\n  })\r\n}\r\n\r\nfunction whenTransitionEnds(\r\n  el: Element,\r\n  expectedType: TransitionProps['type'] | undefined,\r\n  cb: () => void\r\n) {\r\n  const { type, timeout, propCount } = getTransitionInfo(el, expectedType)\r\n  if (!type) {\r\n    return cb()\r\n  }\r\n\r\n  const endEvent = type + 'end'\r\n  let ended = 0\r\n  const end = () => {\r\n    el.removeEventListener(endEvent, onEnd)\r\n    cb()\r\n  }\r\n  const onEnd = (e: Event) => {\r\n    if (e.target === el) {\r\n      if (++ended >= propCount) {\r\n        end()\r\n      }\r\n    }\r\n  }\r\n  setTimeout(() => {\r\n    if (ended < propCount) {\r\n      end()\r\n    }\r\n  }, timeout + 1)\r\n  el.addEventListener(endEvent, onEnd)\r\n}\r\n\r\ninterface CSSTransitionInfo {\r\n  type: typeof TRANSITION | typeof ANIMATION | null\r\n  propCount: number\r\n  timeout: number\r\n}\r\n\r\nfunction getTransitionInfo(\r\n  el: Element,\r\n  expectedType?: TransitionProps['type']\r\n): CSSTransitionInfo {\r\n  const styles: any = window.getComputedStyle(el)\r\n  // JSDOM may return undefined for transition properties\r\n  const getStyleProperties = (key: string) => (styles[key] || '').split(', ')\r\n  const transitionDelays = getStyleProperties(TRANSITION + 'Delay')\r\n  const transitionDurations = getStyleProperties(TRANSITION + 'Duration')\r\n  const transitionTimeout = getTimeout(transitionDelays, transitionDurations)\r\n  const animationDelays = getStyleProperties(ANIMATION + 'Delay')\r\n  const animationDurations = getStyleProperties(ANIMATION + 'Duration')\r\n  const animationTimeout = getTimeout(animationDelays, animationDurations)\r\n\r\n  let type: CSSTransitionInfo['type'] = null\r\n  let timeout = 0\r\n  let propCount = 0\r\n  /* istanbul ignore if */\r\n  if (expectedType === TRANSITION) {\r\n    if (transitionTimeout > 0) {\r\n      type = TRANSITION\r\n      timeout = transitionTimeout\r\n      propCount = transitionDurations.length\r\n    }\r\n  } else if (expectedType === ANIMATION) {\r\n    if (animationTimeout > 0) {\r\n      type = ANIMATION\r\n      timeout = animationTimeout\r\n      propCount = animationDurations.length\r\n    }\r\n  } else {\r\n    timeout = Math.max(transitionTimeout, animationTimeout)\r\n    type =\r\n      timeout > 0\r\n        ? transitionTimeout > animationTimeout\r\n          ? TRANSITION\r\n          : ANIMATION\r\n        : null\r\n    propCount = type\r\n      ? type === TRANSITION\r\n        ? transitionDurations.length\r\n        : animationDurations.length\r\n      : 0\r\n  }\r\n  return {\r\n    type,\r\n    timeout,\r\n    propCount\r\n  }\r\n}\r\n\r\nfunction getTimeout(delays: string[], durations: string[]): number {\r\n  while (delays.length < durations.length) {\r\n    delays = delays.concat(delays)\r\n  }\r\n  return Math.max(...durations.map((d, i) => toMs(d) + toMs(delays[i])))\r\n}\r\n\r\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer\r\n// numbers in a locale-dependent way, using a comma instead of a dot.\r\n// If comma is not replaced with a dot, the input will be rounded down\r\n// (i.e. acting as a floor function) causing unexpected behaviors\r\nfunction toMs(s: string): number {\r\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\r\n}\r\n","import { ObjectDirective } from '@vue/runtime-core'\r\n\r\ninterface VShowElement extends HTMLElement {\r\n  // _vod = vue original display\r\n  _vod: string\r\n}\r\n\r\nexport const vShow: ObjectDirective<VShowElement> = {\r\n  beforeMount(el, { value }, { transition }) {\r\n    el._vod = el.style.display === 'none' ? '' : el.style.display\r\n    if (transition && value) {\r\n      transition.beforeEnter(el)\r\n    } else {\r\n      setDisplay(el, value)\r\n    }\r\n  },\r\n  mounted(el, { value }, { transition }) {\r\n    if (transition && value) {\r\n      transition.enter(el)\r\n    }\r\n  },\r\n  updated(el, { value, oldValue }, { transition }) {\r\n    if (!value === !oldValue) return\r\n    if (transition) {\r\n      if (value) {\r\n        transition.beforeEnter(el)\r\n        setDisplay(el, true)\r\n        transition.enter(el)\r\n      } else {\r\n        transition.leave(el, () => {\r\n          setDisplay(el, false)\r\n        })\r\n      }\r\n    } else {\r\n      setDisplay(el, value)\r\n    }\r\n  },\r\n  beforeUnmount(el) {\r\n    setDisplay(el, true)\r\n  }\r\n}\r\n\r\nfunction setDisplay(el: VShowElement, value: unknown): void {\r\n  el.style.display = value ? el._vod : 'none'\r\n}\r\n","import {\r\n  createRenderer,\r\n  warn,\r\n  App,\r\n  RootRenderFunction\r\n} from '@vue/runtime-core'\r\nimport { nodeOps } from './nodeOps'\r\nimport { patchProp } from './patchProp'\r\n// Importing from the compiler, will be tree-shaken in prod\r\nimport { isFunction, isString, isHTMLTag, isSVGTag } from '@vue/shared'\r\n\r\nconst { render: baseRender, createApp: baseCreateApp } = createRenderer({\r\n  patchProp,\r\n  ...nodeOps\r\n})\r\n\r\n// use explicit type casts here to avoid import() calls in rolled-up d.ts\r\nexport const render = baseRender as RootRenderFunction<Node, Element>\r\n\r\nexport const createApp = (): App<Element> => {\r\n  const app = baseCreateApp()\r\n\r\n  if (__DEV__) {\r\n    // Inject `isNativeTag`\r\n    // this is used for component name validation (dev only)\r\n    Object.defineProperty(app.config, 'isNativeTag', {\r\n      value: (tag: string) => isHTMLTag(tag) || isSVGTag(tag),\r\n      writable: false\r\n    })\r\n  }\r\n\r\n  const mount = app.mount\r\n  app.mount = (component, container, props): any => {\r\n    if (isString(container)) {\r\n      container = document.querySelector(container)!\r\n      if (!container) {\r\n        __DEV__ &&\r\n          warn(`Failed to mount app: mount target selector returned null.`)\r\n        return\r\n      }\r\n    }\r\n    if (\r\n      __RUNTIME_COMPILE__ &&\r\n      !isFunction(component) &&\r\n      !component.render &&\r\n      !component.template\r\n    ) {\r\n      component.template = container.innerHTML\r\n    }\r\n    // clear content before mounting\r\n    container.innerHTML = ''\r\n    return mount(component, container, props)\r\n  }\r\n\r\n  return app\r\n}\r\n\r\n// DOM-only runtime helpers\r\nexport {\r\n  vModelText,\r\n  vModelCheckbox,\r\n  vModelRadio,\r\n  vModelSelect,\r\n  vModelDynamic\r\n} from './directives/vModel'\r\nexport { withModifiers, withKeys } from './directives/vOn'\r\n\r\n// DOM-only components\r\nexport { Transition, TransitionProps } from './components/Transition'\r\n\r\nexport { vShow } from './directives/vShow'\r\n\r\n// re-export everything from core\r\n// h, Component, reactivity API, nextTick, flags & types\r\nexport * from '@vue/runtime-core'\r\n","// This package is the \"full-build\" that includes both the runtime\r\n// and the compiler, and supports on-the-fly compilation of the template option.\r\nimport { compile, CompilerOptions } from '@vue/compiler-dom'\r\nimport { registerRuntimeCompiler, RenderFunction } from '@vue/runtime-dom'\r\nimport * as runtimeDom from '@vue/runtime-dom'\r\n\r\nfunction compileToFunction(\r\n  template: string,\r\n  options?: CompilerOptions\r\n): RenderFunction {\r\n  const { code } = compile(template, {\r\n    hoistStatic: true,\r\n    ...options\r\n  })\r\n\r\n  return new Function('Vue', code)(runtimeDom) as RenderFunction\r\n}\r\n\r\nregisterRuntimeCompiler(compileToFunction)\r\n\r\nexport { compileToFunction as compile }\r\nexport * from '@vue/runtime-dom'\r\n\r\nif (__BROWSER__ && __DEV__) {\r\n  console[console.info ? 'info' : 'log'](\r\n    `You are running a development build of Vue.\\n` +\r\n      `Make sure to use the production build (*.prod.js) when deploying for production.`\r\n  )\r\n}\r\n"],"names":["isText","transformModel","baseTransform","transformOn","has","set","shouldTrack","computed","compile","_computed","capitalize","_capitalize","camelize","_camelize","p","trigger","TRANSITION","toNumber"],"mappings":"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"}